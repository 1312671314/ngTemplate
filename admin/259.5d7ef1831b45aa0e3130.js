(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[259],{7208:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>Nt});const Nt=function(){function pt(){this._events={}}return pt.prototype.on=function(St,wt,dt){return this._events[St]||(this._events[St]=[]),this._events[St].push({callback:wt,once:!!dt}),this},pt.prototype.once=function(St,wt){return this.on(St,wt,!0),this},pt.prototype.emit=function(St){for(var wt=this,dt=[],ut=1;ut<arguments.length;ut++)dt[ut-1]=arguments[ut];var Lt=this._events[St]||[],It=this._events["*"]||[],Et=function(zt){for(var h=zt.length,_t=0;_t<h;_t++)if(zt[_t]){var bt=zt[_t],et=bt.callback;bt.once&&(zt.splice(_t,1),0===zt.length&&delete wt._events[St],h--,_t--),et.apply(wt,dt)}};Et(Lt),Et(It)},pt.prototype.off=function(St,wt){if(St)if(wt){for(var dt=this._events[St]||[],ut=dt.length,Lt=0;Lt<ut;Lt++)dt[Lt].callback===wt&&(dt.splice(Lt,1),ut--,Lt--);0===dt.length&&delete this._events[St]}else delete this._events[St];else this._events={};return this},pt.prototype.getEvents=function(){return this._events},pt}()},1633:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>St});var Rt=K(4762),Ct=K(7208),Nt=K(2370);const St=function(wt){function dt(ut){var Lt=wt.call(this)||this;Lt.destroyed=!1;var It=Lt.getDefaultCfg();return Lt.cfg=(0,Nt.CD)(It,ut),Lt}return(0,Rt.ZT)(dt,wt),dt.prototype.getDefaultCfg=function(){return{}},dt.prototype.get=function(ut){return this.cfg[ut]},dt.prototype.set=function(ut,Lt){this.cfg[ut]=Lt},dt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},dt}(Ct.Z)},2539:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>jt});var Rt=K(4762),Ct=K(7057),Nt=K(6894),pt=K(2370),St=K(4872),wt=K(4729),dt=K(9012),ut=K(634),Lt=K(1972),It=K(813),Et=function(w){return["fill","stroke","fillStyle","strokeStyle"].includes(w)},zt=function(w){return/^[r,R,L,l]{1}[\s]*\(/.test(w)},h=[1,0,0,0,1,0,0,0,1];function bt(w,_,Y){var q=_.startTime;if(Y<q+_.delay||_._paused)return!1;var At,D=_.duration,R=_.easing;if(Y=Y-q-_.delay,_.repeat)At=dt[R](At=Y%D/D);else{if(!((At=Y/D)<1))return w.attr(_.onFrame?_.onFrame(1):_.toAttrs),!0;At=dt[R](At)}if(_.onFrame){var H=_.onFrame(At);w.attr(H)}else!function(w,_,Y){var q={},st=_.fromAttrs,At=_.toAttrs;if(!w.destroyed){var D;for(var R in At)if(!(0,St.Xy)(st[R],At[R]))if("path"===R){var H=At[R],F=st[R];H.length>F.length?(H=It.parsePathString(At[R]),F=It.parsePathString(st[R]),F=It.fillPathByDiff(F,H),F=It.formatPath(F,H),_.fromAttrs.path=F,_.toAttrs.path=H):_.pathFormatted||(H=It.parsePathString(At[R]),F=It.parsePathString(st[R]),F=It.formatPath(F,H),_.fromAttrs.path=F,_.toAttrs.path=H,_.pathFormatted=!0),q[R]=[];for(var rt=0;rt<H.length;rt++){for(var it=H[rt],ct=F[rt],O=[],y=0;y<it.length;y++)(0,St.hj)(it[y])&&ct&&(0,St.hj)(ct[y])?(D=(0,ut.Z)(ct[y],it[y]),O.push(D(Y))):O.push(it[y]);q[R].push(O)}}else if("matrix"===R){var B=(0,Lt.Z)(st[R]||h,At[R]||h)(Y);q[R]=B}else Et(R)&&zt(At[R])?q[R]=At[R]:(0,St.mf)(At[R])||(D=(0,ut.Z)(st[R],At[R]),q[R]=D(Y));w.attr(q)}}(w,_,At);return!1}const xt=function(){function w(_){this.animators=[],this.current=0,this.timer=null,this.canvas=_}return w.prototype.initTimer=function(){var q,st,At,_=this;this.timer=wt.HT(function(D){if(_.current=D,_.animators.length>0){for(var R=_.animators.length-1;R>=0;R--)if((q=_.animators[R]).destroyed)_.removeAnimator(R);else{if(!q.isAnimatePaused())for(var H=(st=q.get("animations")).length-1;H>=0;H--)bt(q,At=st[H],D)&&(st.splice(H,1),At.callback&&At.callback());0===st.length&&_.removeAnimator(R)}_.canvas.get("autoDraw")||_.canvas.draw()}})},w.prototype.addAnimator=function(_){this.animators.push(_)},w.prototype.removeAnimator=function(_){this.animators.splice(_,1)},w.prototype.isAnimating=function(){return!!this.animators.length},w.prototype.stop=function(){this.timer&&this.timer.stop()},w.prototype.stopAllAnimations=function(_){void 0===_&&(_=!0),this.animators.forEach(function(Y){Y.stopAnimate(_)}),this.animators=[],this.canvas.draw()},w.prototype.getTime=function(){return this.current},w}();var Pt=K(3495),Q=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function lt(w,_,Y){Y.name=_,Y.target=w,Y.currentTarget=w,Y.delegateTarget=w,w.emit(_,Y)}function yt(w,_,Y){if(Y.bubbles){var q=void 0,st=!1;if("mouseenter"===_?(q=Y.fromShape,st=!0):"mouseleave"===_&&(st=!0,q=Y.toShape),w.isCanvas()&&st)return;if(q&&(0,pt.UY)(w,q))return void(Y.bubbles=!1);Y.name=_,Y.currentTarget=w,Y.delegateTarget=w,w.emit(_,Y)}}const $t=function(){function w(_){var Y=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(q){Y._triggerEvent(q.type,q)},this._onDocumentMove=function(q){if(Y.canvas.get("el")!==q.target&&(Y.dragging||Y.currentShape)){var D=Y._getPointInfo(q);Y.dragging&&Y._emitEvent("drag",q,D,Y.draggingShape)}},this._onDocumentMouseUp=function(q){if(Y.canvas.get("el")!==q.target&&Y.dragging){var D=Y._getPointInfo(q);Y.draggingShape&&Y._emitEvent("drop",q,D,null),Y._emitEvent("dragend",q,D,Y.draggingShape),Y._afterDrag(Y.draggingShape,D,q)}},this.canvas=_.canvas}return w.prototype.init=function(){this._bindEvents()},w.prototype._bindEvents=function(){var _=this,Y=this.canvas.get("el");(0,pt.S6)(Q,function(q){Y.addEventListener(q,_._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},w.prototype._clearEvents=function(){var _=this,Y=this.canvas.get("el");(0,pt.S6)(Q,function(q){Y.removeEventListener(q,_._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},w.prototype._getEventObj=function(_,Y,q,st,At,D){var R=new Pt.Z(_,Y);return R.fromShape=At,R.toShape=D,R.x=q.x,R.y=q.y,R.clientX=q.clientX,R.clientY=q.clientY,R.propagationPath.push(st),R},w.prototype._getShape=function(_,Y){return this.canvas.getShape(_.x,_.y,Y)},w.prototype._getPointInfo=function(_){var Y=this.canvas,q=Y.getClientByEvent(_),st=Y.getPointByEvent(_);return{x:st.x,y:st.y,clientX:q.x,clientY:q.y}},w.prototype._triggerEvent=function(_,Y){var q=this._getPointInfo(Y),st=this._getShape(q,Y),At=this["_on"+_],D=!1;if(At)At.call(this,q,st,Y);else{var R=this.currentShape;"mouseenter"===_||"dragenter"===_||"mouseover"===_?(this._emitEvent(_,Y,q,null,null,st),st&&this._emitEvent(_,Y,q,st,null,st),"mouseenter"===_&&this.draggingShape&&this._emitEvent("dragenter",Y,q,null)):"mouseleave"===_||"dragleave"===_||"mouseout"===_?(D=!0,R&&this._emitEvent(_,Y,q,R,R,null),this._emitEvent(_,Y,q,null,R,null),"mouseleave"===_&&this.draggingShape&&this._emitEvent("dragleave",Y,q,null)):this._emitEvent(_,Y,q,st,null,null)}if(D||(this.currentShape=st),st&&!st.get("destroyed")){var H=this.canvas;H.get("el").style.cursor=st.attr("cursor")||H.get("cursor")}},w.prototype._onmousedown=function(_,Y,q){0===q.button&&(this.mousedownShape=Y,this.mousedownPoint=_,this.mousedownTimeStamp=q.timeStamp),this._emitEvent("mousedown",q,_,Y,null,null)},w.prototype._emitMouseoverEvents=function(_,Y,q,st){var At=this.canvas.get("el");q!==st&&(q&&(this._emitEvent("mouseout",_,Y,q,q,st),this._emitEvent("mouseleave",_,Y,q,q,st),(!st||st.get("destroyed"))&&(At.style.cursor=this.canvas.get("cursor"))),st&&(this._emitEvent("mouseover",_,Y,st,q,st),this._emitEvent("mouseenter",_,Y,st,q,st)))},w.prototype._emitDragoverEvents=function(_,Y,q,st,At){st?(st!==q&&(q&&this._emitEvent("dragleave",_,Y,q,q,st),this._emitEvent("dragenter",_,Y,st,q,st)),At||this._emitEvent("dragover",_,Y,st)):q&&this._emitEvent("dragleave",_,Y,q,q,st),At&&this._emitEvent("dragover",_,Y,st)},w.prototype._afterDrag=function(_,Y,q){_&&(_.set("capture",!0),this.draggingShape=null),this.dragging=!1;var st=this._getShape(Y,q);st!==_&&this._emitMouseoverEvents(q,Y,_,st),this.currentShape=st},w.prototype._onmouseup=function(_,Y,q){if(0===q.button){var st=this.draggingShape;this.dragging?(st&&this._emitEvent("drop",q,_,Y),this._emitEvent("dragend",q,_,st),this._afterDrag(st,_,q)):(this._emitEvent("mouseup",q,_,Y),Y===this.mousedownShape&&this._emitEvent("click",q,_,Y),this.mousedownShape=null,this.mousedownPoint=null)}},w.prototype._ondragover=function(_,Y,q){q.preventDefault(),this._emitDragoverEvents(q,_,this.currentShape,Y,!0)},w.prototype._onmousemove=function(_,Y,q){var st=this.canvas,At=this.currentShape,D=this.draggingShape;if(this.dragging)D&&this._emitDragoverEvents(q,_,At,Y,!1),this._emitEvent("drag",q,_,D);else{var R=this.mousedownPoint;if(R){var H=this.mousedownShape,it=R.clientX-_.clientX,ct=R.clientY-_.clientY;q.timeStamp-this.mousedownTimeStamp>120||it*it+ct*ct>40?H&&H.get("draggable")?((D=this.mousedownShape).set("capture",!1),this.draggingShape=D,this.dragging=!0,this._emitEvent("dragstart",q,_,D),this.mousedownShape=null,this.mousedownPoint=null):!H&&st.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",q,_,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(q,_,At,Y),this._emitEvent("mousemove",q,_,Y)):(this._emitMouseoverEvents(q,_,At,Y),this._emitEvent("mousemove",q,_,Y))}else this._emitMouseoverEvents(q,_,At,Y),this._emitEvent("mousemove",q,_,Y)}},w.prototype._emitEvent=function(_,Y,q,st,At,D){var R=this._getEventObj(_,Y,q,st,At,D);if(st){R.shape=st,lt(st,_,R);for(var H=st.getParent();H;)H.emitDelegation(_,R),R.propagationStopped||yt(H,_,R),R.propagationPath.push(H),H=H.getParent()}else lt(this.canvas,_,R)},w.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},w}();var ne=(0,Ct.qY)(),Ut=ne&&"firefox"===ne.name;const jt=function(w){function _(Y){var q=w.call(this,Y)||this;return q.initContainer(),q.initDom(),q.initEvents(),q.initTimeline(),q}return(0,Rt.ZT)(_,w),_.prototype.getDefaultCfg=function(){var Y=w.prototype.getDefaultCfg.call(this);return Y.cursor="default",Y.supportCSSTransform=!1,Y},_.prototype.initContainer=function(){var Y=this.get("container");(0,pt.HD)(Y)&&(Y=document.getElementById(Y),this.set("container",Y))},_.prototype.initDom=function(){var Y=this.createDom();this.set("el",Y),this.get("container").appendChild(Y),this.setDOMSize(this.get("width"),this.get("height"))},_.prototype.initEvents=function(){var Y=new $t({canvas:this});Y.init(),this.set("eventController",Y)},_.prototype.initTimeline=function(){var Y=new xt(this);this.set("timeline",Y)},_.prototype.setDOMSize=function(Y,q){var st=this.get("el");pt.jU&&(st.style.width=Y+"px",st.style.height=q+"px")},_.prototype.changeSize=function(Y,q){this.setDOMSize(Y,q),this.set("width",Y),this.set("height",q),this.onCanvasChange("changeSize")},_.prototype.getRenderer=function(){return this.get("renderer")},_.prototype.getCursor=function(){return this.get("cursor")},_.prototype.setCursor=function(Y){this.set("cursor",Y);var q=this.get("el");pt.jU&&q&&(q.style.cursor=Y)},_.prototype.getPointByEvent=function(Y){if(this.get("supportCSSTransform")){if(Ut&&!(0,pt.kK)(Y.layerX)&&Y.layerX!==Y.offsetX)return{x:Y.layerX,y:Y.layerY};if(!(0,pt.kK)(Y.offsetX))return{x:Y.offsetX,y:Y.offsetY}}var st=this.getClientByEvent(Y);return this.getPointByClient(st.x,st.y)},_.prototype.getClientByEvent=function(Y){var q=Y;return Y.touches&&(q="touchend"===Y.type?Y.changedTouches[0]:Y.touches[0]),{x:q.clientX,y:q.clientY}},_.prototype.getPointByClient=function(Y,q){var At=this.get("el").getBoundingClientRect();return{x:Y-At.left,y:q-At.top}},_.prototype.getClientByPoint=function(Y,q){var At=this.get("el").getBoundingClientRect();return{x:Y+At.left,y:q+At.top}},_.prototype.draw=function(){},_.prototype.removeDom=function(){var Y=this.get("el");Y.parentNode.removeChild(Y)},_.prototype.clearEvents=function(){this.get("eventController").destroy()},_.prototype.isCanvas=function(){return!0},_.prototype.getParent=function(){return null},_.prototype.destroy=function(){var Y=this.get("timeline");this.get("destroyed")||(this.clear(),Y&&Y.stop(),this.clearEvents(),this.removeDom(),w.prototype.destroy.call(this))},_}(Nt.Z)},6894:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>h});var Rt=K(4762),Ct=K(4872),Nt=K(2932),pt=K(2370),St={},wt="_INDEX";function dt(_t,bt){if(_t.set("canvas",bt),_t.isGroup()){var et=_t.get("children");et.length&&et.forEach(function(xt){dt(xt,bt)})}}function ut(_t,bt){if(_t.set("timeline",bt),_t.isGroup()){var et=_t.get("children");et.length&&et.forEach(function(xt){ut(xt,bt)})}}const h=function(_t){function bt(){return null!==_t&&_t.apply(this,arguments)||this}return(0,Rt.ZT)(bt,_t),bt.prototype.isCanvas=function(){return!1},bt.prototype.getBBox=function(){var et=1/0,xt=-1/0,Pt=1/0,Mt=-1/0,W=[],U=[],Q=this.getChildren().filter(function(lt){return lt.get("visible")&&(!lt.isGroup()||lt.isGroup()&&lt.getChildren().length>0)});return Q.length>0?((0,pt.S6)(Q,function(lt){var yt=lt.getBBox();W.push(yt.minX,yt.maxX),U.push(yt.minY,yt.maxY)}),et=(0,Ct.VV)(W),xt=(0,Ct.Fp)(W),Pt=(0,Ct.VV)(U),Mt=(0,Ct.Fp)(U)):(et=0,xt=0,Pt=0,Mt=0),{x:et,y:Pt,minX:et,minY:Pt,maxX:xt,maxY:Mt,width:xt-et,height:Mt-Pt}},bt.prototype.getCanvasBBox=function(){var et=1/0,xt=-1/0,Pt=1/0,Mt=-1/0,W=[],U=[],Q=this.getChildren().filter(function(lt){return lt.get("visible")&&(!lt.isGroup()||lt.isGroup()&&lt.getChildren().length>0)});return Q.length>0?((0,pt.S6)(Q,function(lt){var yt=lt.getCanvasBBox();W.push(yt.minX,yt.maxX),U.push(yt.minY,yt.maxY)}),et=(0,Ct.VV)(W),xt=(0,Ct.Fp)(W),Pt=(0,Ct.VV)(U),Mt=(0,Ct.Fp)(U)):(et=0,xt=0,Pt=0,Mt=0),{x:et,y:Pt,minX:et,minY:Pt,maxX:xt,maxY:Mt,width:xt-et,height:Mt-Pt}},bt.prototype.getDefaultCfg=function(){var et=_t.prototype.getDefaultCfg.call(this);return et.children=[],et},bt.prototype.onAttrChange=function(et,xt,Pt){if(_t.prototype.onAttrChange.call(this,et,xt,Pt),"matrix"===et){var Mt=this.getTotalMatrix();this._applyChildrenMarix(Mt)}},bt.prototype.applyMatrix=function(et){var xt=this.getTotalMatrix();_t.prototype.applyMatrix.call(this,et);var Pt=this.getTotalMatrix();Pt!==xt&&this._applyChildrenMarix(Pt)},bt.prototype._applyChildrenMarix=function(et){var xt=this.getChildren();(0,pt.S6)(xt,function(Pt){Pt.applyMatrix(et)})},bt.prototype.addShape=function(){for(var et=[],xt=0;xt<arguments.length;xt++)et[xt]=arguments[xt];var Pt=et[0],Mt=et[1];(0,pt.Kn)(Pt)?Mt=Pt:Mt.type=Pt;var W=St[Mt.type];W||(W=(0,pt.jC)(Mt.type),St[Mt.type]=W);var U=this.getShapeBase(),Q=new U[W](Mt);return this.add(Q),Q},bt.prototype.addGroup=function(){for(var et=[],xt=0;xt<arguments.length;xt++)et[xt]=arguments[xt];var W,Pt=et[0],Mt=et[1];if((0,pt.mf)(Pt))W=new Pt(Mt||{parent:this});else{var U=Pt||{},Q=this.getGroupBase();W=new Q(U)}return this.add(W),W},bt.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},bt.prototype.getShape=function(et,xt,Pt){if(!(0,pt.pP)(this))return null;var W,Mt=this.getChildren();if(this.isCanvas())W=this._findShape(Mt,et,xt,Pt);else{var U=[et,xt,1];U=this.invertFromMatrix(U),this.isClipped(U[0],U[1])||(W=this._findShape(Mt,U[0],U[1],Pt))}return W},bt.prototype._findShape=function(et,xt,Pt,Mt){for(var W=null,U=et.length-1;U>=0;U--){var Q=et[U];if((0,pt.pP)(Q)&&(Q.isGroup()?W=Q.getShape(xt,Pt,Mt):Q.isHit(xt,Pt)&&(W=Q)),W)break}return W},bt.prototype.add=function(et){var xt=this.getCanvas(),Pt=this.getChildren(),Mt=this.get("timeline"),W=et.getParent();W&&function(_t,bt,et){void 0===et&&(et=!0),et?bt.destroy():(bt.set("parent",null),bt.set("canvas",null)),(0,pt.As)(_t.getChildren(),bt)}(W,et,!1),et.set("parent",this),xt&&dt(et,xt),Mt&&ut(et,Mt),Pt.push(et),et.onCanvasChange("add"),this._applyElementMatrix(et)},bt.prototype._applyElementMatrix=function(et){var xt=this.getTotalMatrix();xt&&et.applyMatrix(xt)},bt.prototype.getChildren=function(){return this.get("children")},bt.prototype.sort=function(){var et=this.getChildren();(0,pt.S6)(et,function(xt,Pt){return xt[wt]=Pt,xt}),et.sort(function(bt,et){var xt=function(xt,Pt){return xt.get("zIndex")-Pt.get("zIndex")}(bt,et);return 0===xt?bt[wt]-et[wt]:xt}),this.onCanvasChange("sort")},bt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var et=this.getChildren(),xt=et.length-1;xt>=0;xt--)et[xt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},bt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),_t.prototype.destroy.call(this))},bt.prototype.getFirst=function(){return this.getChildByIndex(0)},bt.prototype.getLast=function(){var et=this.getChildren();return this.getChildByIndex(et.length-1)},bt.prototype.getChildByIndex=function(et){return this.getChildren()[et]},bt.prototype.getCount=function(){return this.getChildren().length},bt.prototype.contain=function(et){return this.getChildren().indexOf(et)>-1},bt.prototype.removeChild=function(et,xt){void 0===xt&&(xt=!0),this.contain(et)&&et.remove(xt)},bt.prototype.findAll=function(et){var xt=[],Pt=this.getChildren();return(0,pt.S6)(Pt,function(Mt){et(Mt)&&xt.push(Mt),Mt.isGroup()&&(xt=xt.concat(Mt.findAll(et)))}),xt},bt.prototype.find=function(et){var xt=null,Pt=this.getChildren();return(0,pt.S6)(Pt,function(Mt){if(et(Mt)?xt=Mt:Mt.isGroup()&&(xt=Mt.find(et)),xt)return!1}),xt},bt.prototype.findById=function(et){return this.find(function(xt){return xt.get("id")===et})},bt.prototype.findByClassName=function(et){return this.find(function(xt){return xt.get("className")===et})},bt.prototype.findAllByName=function(et){return this.findAll(function(xt){return xt.get("name")===et})},bt}(Nt.Z)},2932:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>Pt});var Rt=K(4762),Ct=K(4872),Nt=K(7089),pt=K(2370),St=K(4463),wt=K(1633),dt=Nt.vs,ut="matrix",Lt=["zIndex","capture","visible","type"],It=["repeat"];function _t(Mt,W){var U={},Q=W.attrs;for(var nt in Mt)U[nt]=Q[nt];return U}function bt(Mt,W){var U={},Q=W.attr();return(0,Ct.S6)(Mt,function(nt,lt){-1===It.indexOf(lt)&&!(0,Ct.Xy)(Q[lt],nt)&&(U[lt]=nt)}),U}function et(Mt,W){if(W.onFrame)return Mt;var U=W.startTime,Q=W.delay,nt=W.duration,lt=Object.prototype.hasOwnProperty;return(0,Ct.S6)(Mt,function(yt){U+Q<yt.startTime+yt.delay+yt.duration&&nt>yt.delay&&(0,Ct.S6)(W.toAttrs,function(Zt,$t){lt.call(yt.toAttrs,$t)&&(delete yt.toAttrs[$t],delete yt.fromAttrs[$t])})}),Mt}const Pt=function(Mt){function W(U){var Q=Mt.call(this,U)||this;Q.attrs={};var nt=Q.getDefaultAttrs();return(0,Ct.CD)(nt,U.attrs),Q.attrs=nt,Q.initAttrs(nt),Q.initAnimate(),Q}return(0,Rt.ZT)(W,Mt),W.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},W.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},W.prototype.onCanvasChange=function(U){},W.prototype.initAttrs=function(U){},W.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},W.prototype.isGroup=function(){return!1},W.prototype.getParent=function(){return this.get("parent")},W.prototype.getCanvas=function(){return this.get("canvas")},W.prototype.attr=function(){for(var U,Q=[],nt=0;nt<arguments.length;nt++)Q[nt]=arguments[nt];var lt=Q[0],yt=Q[1];if(!lt)return this.attrs;if((0,Ct.Kn)(lt)){for(var Zt in lt)this.setAttr(Zt,lt[Zt]);return this.afterAttrsChange(lt),this}return 2===Q.length?(this.setAttr(lt,yt),this.afterAttrsChange(((U={})[lt]=yt,U)),this):this.attrs[lt]},W.prototype.isClipped=function(U,Q){var nt=this.getClip();return nt&&!nt.isHit(U,Q)},W.prototype.setAttr=function(U,Q){var nt=this.attrs[U];nt!==Q&&(this.attrs[U]=Q,this.onAttrChange(U,Q,nt))},W.prototype.onAttrChange=function(U,Q,nt){"matrix"===U&&this.set("totalMatrix",null)},W.prototype.afterAttrsChange=function(U){if(this.cfg.isClipShape){var Q=this.cfg.applyTo;Q&&Q.onCanvasChange("clip")}else this.onCanvasChange("attr")},W.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},W.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},W.prototype.setZIndex=function(U){this.set("zIndex",U);var Q=this.getParent();return Q&&Q.sort(),this},W.prototype.toFront=function(){var U=this.getParent();if(U){var Q=U.getChildren(),lt=(this.get("el"),Q.indexOf(this));Q.splice(lt,1),Q.push(this),this.onCanvasChange("zIndex")}},W.prototype.toBack=function(){var U=this.getParent();if(U){var Q=U.getChildren(),lt=(this.get("el"),Q.indexOf(this));Q.splice(lt,1),Q.unshift(this),this.onCanvasChange("zIndex")}},W.prototype.remove=function(U){void 0===U&&(U=!0);var Q=this.getParent();Q?((0,pt.As)(Q.getChildren(),this),Q.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),U&&this.destroy()},W.prototype.resetMatrix=function(){this.attr(ut,this.getDefaultMatrix()),this.onCanvasChange("matrix")},W.prototype.getMatrix=function(){return this.attr(ut)},W.prototype.setMatrix=function(U){this.attr(ut,U),this.onCanvasChange("matrix")},W.prototype.getTotalMatrix=function(){var U=this.cfg.totalMatrix;if(!U){var Q=this.attr("matrix"),nt=this.cfg.parentMatrix;U=nt&&Q?(0,St.xq)(nt,Q):Q||nt,this.set("totalMatrix",U)}return U},W.prototype.applyMatrix=function(U){var nt,Q=this.attr("matrix");nt=U&&Q?(0,St.xq)(U,Q):Q||U,this.set("totalMatrix",nt),this.set("parentMatrix",U)},W.prototype.getDefaultMatrix=function(){return null},W.prototype.applyToMatrix=function(U){var Q=this.attr("matrix");return Q?(0,St.rG)(Q,U):U},W.prototype.invertFromMatrix=function(U){var Q=this.attr("matrix");if(Q){var nt=(0,St.U_)(Q);if(nt)return(0,St.rG)(nt,U)}return U},W.prototype.setClip=function(U){var Q=this.getCanvas(),nt=null;if(U){var Zt=this.getShapeBase()[(0,Ct.jC)(U.type)];Zt&&(nt=new Zt({type:U.type,isClipShape:!0,applyTo:this,attrs:U.attrs,canvas:Q}))}return this.set("clipShape",nt),this.onCanvasChange("clip"),nt},W.prototype.getClip=function(){return this.cfg.clipShape||null},W.prototype.clone=function(){var U=this,Q=this.attrs,nt={};(0,Ct.S6)(Q,function(Zt,$t){nt[$t]=(0,Ct.kJ)(Q[$t])?function(Mt){for(var W=[],U=0;U<Mt.length;U++)(0,Ct.kJ)(Mt[U])?W.push([].concat(Mt[U])):W.push(Mt[U]);return W}(Q[$t]):Q[$t]});var yt=new(0,this.constructor)({attrs:nt});return(0,Ct.S6)(Lt,function(Zt){yt.set(Zt,U.get(Zt))}),yt},W.prototype.destroy=function(){this.destroyed||(this.attrs={},Mt.prototype.destroy.call(this))},W.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},W.prototype.animate=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var nt=this.get("timeline");nt||(nt=this.get("canvas").get("timeline"),this.set("timeline",nt));var lt=this.get("animations")||[];nt.timer||nt.initTimer();var w,_,Y,q,st,yt=U[0],Zt=U[1],$t=U[2],qt=void 0===$t?"easeLinear":$t,ne=U[3],Ut=void 0===ne?Ct.ZT:ne,ee=U[4],jt=void 0===ee?0:ee;(0,Ct.mf)(yt)?(w=yt,yt={}):(0,Ct.Kn)(yt)&&yt.onFrame&&(w=yt.onFrame,_=yt.repeat),(0,Ct.Kn)(Zt)?(Zt=(st=Zt).duration,qt=st.easing||"easeLinear",jt=st.delay||0,_=st.repeat||_||!1,Ut=st.callback||Ct.ZT,Y=st.pauseCallback||Ct.ZT,q=st.resumeCallback||Ct.ZT):((0,Ct.hj)(Ut)&&(jt=Ut,Ut=null),(0,Ct.mf)(qt)?(Ut=qt,qt="easeLinear"):qt=qt||"easeLinear");var At=bt(yt,this),D={fromAttrs:_t(At,this),toAttrs:At,duration:Zt,easing:qt,repeat:_,callback:Ut,pauseCallback:Y,resumeCallback:q,delay:jt,startTime:nt.getTime(),id:(0,Ct.EL)(),onFrame:w,pathFormatted:!1};lt.length>0?lt=et(lt,D):nt.addAnimator(this),lt.push(D),this.set("animations",lt),this.set("_pause",{isPaused:!1})}},W.prototype.stopAnimate=function(U){var Q=this;void 0===U&&(U=!0);var nt=this.get("animations");(0,Ct.S6)(nt,function(lt){U&&Q.attr(lt.onFrame?lt.onFrame(1):lt.toAttrs),lt.callback&&lt.callback()}),this.set("animating",!1),this.set("animations",[])},W.prototype.pauseAnimate=function(){var U=this.get("timeline"),Q=this.get("animations"),nt=U.getTime();return(0,Ct.S6)(Q,function(lt){lt._paused=!0,lt._pauseTime=nt,lt.pauseCallback&&lt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:nt}),this},W.prototype.resumeAnimate=function(){var Q=this.get("timeline").getTime(),nt=this.get("animations"),lt=this.get("_pause").pauseTime;return(0,Ct.S6)(nt,function(yt){yt.startTime=yt.startTime+(Q-lt),yt._paused=!1,yt._pauseTime=null,yt.resumeCallback&&yt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",nt),this},W.prototype.emitDelegation=function(U,Q){var Zt,nt=this,lt=Q.propagationPath;this.getEvents(),"mouseenter"===U?Zt=Q.fromShape:"mouseleave"===U&&(Zt=Q.toShape);for(var $t=function(ee){var jt=lt[ee],w=jt.get("name");if(w){if((jt.isGroup()||jt.isCanvas&&jt.isCanvas())&&Zt&&(0,pt.UY)(jt,Zt))return"break";(0,Ct.kJ)(w)?(0,Ct.S6)(w,function(_){nt.emitDelegateEvent(jt,_,Q)}):qt.emitDelegateEvent(jt,w,Q)}},qt=this,ne=0;ne<lt.length&&"break"!==$t(ne);ne++);},W.prototype.emitDelegateEvent=function(U,Q,nt){var lt=this.getEvents(),yt=Q+":"+nt.type;(lt[yt]||lt["*"])&&(nt.name=yt,nt.currentTarget=U,nt.delegateTarget=this,nt.delegateObject=U.get("delegateObject"),this.emit(yt,nt))},W.prototype.translate=function(U,Q){void 0===U&&(U=0),void 0===Q&&(Q=0);var nt=this.getMatrix(),lt=dt(nt,[["t",U,Q]]);return this.setMatrix(lt),this},W.prototype.move=function(U,Q){var nt=this.attr("x")||0,lt=this.attr("y")||0;return this.translate(U-nt,Q-lt),this},W.prototype.moveTo=function(U,Q){return this.move(U,Q)},W.prototype.scale=function(U,Q){var nt=this.getMatrix(),lt=dt(nt,[["s",U,Q||U]]);return this.setMatrix(lt),this},W.prototype.rotate=function(U){var Q=this.getMatrix(),nt=dt(Q,[["r",U]]);return this.setMatrix(nt),this},W.prototype.rotateAtStart=function(U){var Q=this.attr(),nt=Q.x,lt=Q.y,yt=this.getMatrix(),Zt=dt(yt,[["t",-nt,-lt],["r",U],["t",nt,lt]]);return this.setMatrix(Zt),this},W.prototype.rotateAtPoint=function(U,Q,nt){var lt=this.getMatrix(),yt=dt(lt,[["t",-U,-Q],["r",nt],["t",U,Q]]);return this.setMatrix(yt),this},W}(wt.Z)},6590:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>pt});var Rt=K(4762);const pt=function(St){function wt(){return null!==St&&St.apply(this,arguments)||this}return(0,Rt.ZT)(wt,St),wt.prototype.isGroup=function(){return!0},wt.prototype.isEntityGroup=function(){return!1},wt.prototype.clone=function(){for(var dt=St.prototype.clone.call(this),ut=this.getChildren(),Lt=0;Lt<ut.length;Lt++)dt.add(ut[Lt].clone());return dt},wt}(K(6894).Z)},8041:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>St});var Rt=K(4762),Ct=K(2932),Nt=K(4463);const St=function(wt){function dt(ut){return wt.call(this,ut)||this}return(0,Rt.ZT)(dt,wt),dt.prototype._isInBBox=function(ut,Lt){var It=this.getBBox();return It.minX<=ut&&It.maxX>=ut&&It.minY<=Lt&&It.maxY>=Lt},dt.prototype.afterAttrsChange=function(ut){wt.prototype.afterAttrsChange.call(this,ut),this.clearCacheBBox()},dt.prototype.getBBox=function(){var ut=this.cfg.bbox;return ut||(ut=this.calculateBBox(),this.set("bbox",ut)),ut},dt.prototype.getCanvasBBox=function(){var ut=this.cfg.canvasBBox;return ut||(ut=this.calculateCanvasBBox(),this.set("canvasBBox",ut)),ut},dt.prototype.applyMatrix=function(ut){wt.prototype.applyMatrix.call(this,ut),this.set("canvasBBox",null)},dt.prototype.calculateCanvasBBox=function(){var ut=this.getBBox(),Lt=this.getTotalMatrix(),It=ut.minX,Et=ut.minY,zt=ut.maxX,h=ut.maxY;if(Lt){var _t=(0,Nt.rG)(Lt,[ut.minX,ut.minY]),bt=(0,Nt.rG)(Lt,[ut.maxX,ut.minY]),et=(0,Nt.rG)(Lt,[ut.minX,ut.maxY]),xt=(0,Nt.rG)(Lt,[ut.maxX,ut.maxY]);It=Math.min(_t[0],bt[0],et[0],xt[0]),zt=Math.max(_t[0],bt[0],et[0],xt[0]),Et=Math.min(_t[1],bt[1],et[1],xt[1]),h=Math.max(_t[1],bt[1],et[1],xt[1])}var Pt=this.attrs;if(Pt.shadowColor){var Mt=Pt.shadowBlur,W=void 0===Mt?0:Mt,U=Pt.shadowOffsetX,Q=void 0===U?0:U,nt=Pt.shadowOffsetY,lt=void 0===nt?0:nt,Zt=zt+W+Q,$t=Et-W+lt,qt=h+W+lt;It=Math.min(It,It-W+Q),zt=Math.max(zt,Zt),Et=Math.min(Et,$t),h=Math.max(h,qt)}return{x:It,y:Et,minX:It,minY:Et,maxX:zt,maxY:h,width:zt-It,height:h-Et}},dt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},dt.prototype.isClipShape=function(){return this.get("isClipShape")},dt.prototype.isInShape=function(ut,Lt){return!1},dt.prototype.isOnlyHitBox=function(){return!1},dt.prototype.isHit=function(ut,Lt){var It=this.get("startArrowShape"),Et=this.get("endArrowShape"),zt=[ut,Lt,1],h=(zt=this.invertFromMatrix(zt))[0],_t=zt[1],bt=this._isInBBox(h,_t);return this.isOnlyHitBox()?bt:!(!bt||this.isClipped(h,_t)||!(this.isInShape(h,_t)||It&&It.isHit(h,_t)||Et&&Et.isHit(h,_t)))},dt}(Ct.Z)},1585:(me,Qt,K)=>{"use strict";K.d(Qt,{b:()=>Nt});var Rt=new Map;function Ct(W,U){Rt.set(W,U)}function Nt(W){return Rt.get(W)}function pt(W){var U=W.attr();return{x:U.x,y:U.y,width:U.width,height:U.height}}function St(W){var U=W.attr(),lt=U.r;return{x:U.x-lt,y:U.y-lt,width:2*lt,height:2*lt}}var wt=K(9005);function dt(W,U){return W&&U?{minX:Math.min(W.minX,U.minX),minY:Math.min(W.minY,U.minY),maxX:Math.max(W.maxX,U.maxX),maxY:Math.max(W.maxY,U.maxY)}:W||U}function ut(W,U){var Q=W.get("startArrowShape"),nt=W.get("endArrowShape");return Q&&(U=dt(U,Q.getCanvasBBox())),nt&&(U=dt(U,nt.getCanvasBBox())),U}var Et=K(5938),h=K(8599),_t=K(4872);function et(W,U){var Q=W.prePoint,nt=W.currentPoint,lt=W.nextPoint,yt=Math.pow(nt[0]-Q[0],2)+Math.pow(nt[1]-Q[1],2),Zt=Math.pow(nt[0]-lt[0],2)+Math.pow(nt[1]-lt[1],2),$t=Math.pow(Q[0]-lt[0],2)+Math.pow(Q[1]-lt[1],2),qt=Math.acos((yt+Zt-$t)/(2*Math.sqrt(yt)*Math.sqrt(Zt)));if(!qt||0===Math.sin(qt)||(0,_t.vQ)(qt,0))return{xExtra:0,yExtra:0};var ne=Math.abs(Math.atan2(lt[1]-nt[1],lt[0]-nt[0])),Ut=Math.abs(Math.atan2(lt[0]-nt[0],lt[1]-nt[1]));return ne=ne>Math.PI/2?Math.PI-ne:ne,Ut=Ut>Math.PI/2?Math.PI-Ut:Ut,{xExtra:Math.cos(qt/2-ne)*(U/2*(1/Math.sin(qt/2)))-U/2||0,yExtra:Math.cos(Ut-qt/2)*(U/2*(1/Math.sin(qt/2)))-U/2||0}}Ct("rect",pt),Ct("image",pt),Ct("circle",St),Ct("marker",St),Ct("polyline",function(W){for(var Q=W.attr().points,nt=[],lt=[],yt=0;yt<Q.length;yt++){var Zt=Q[yt];nt.push(Zt[0]),lt.push(Zt[1])}var $t=wt.Zr.getBBoxByArray(nt,lt),qt=$t.x,ne=$t.y,jt={minX:qt,minY:ne,maxX:qt+$t.width,maxY:ne+$t.height};return{x:(jt=ut(W,jt)).minX,y:jt.minY,width:jt.maxX-jt.minX,height:jt.maxY-jt.minY}}),Ct("polygon",function(W){for(var Q=W.attr().points,nt=[],lt=[],yt=0;yt<Q.length;yt++){var Zt=Q[yt];nt.push(Zt[0]),lt.push(Zt[1])}return wt.Zr.getBBoxByArray(nt,lt)}),Ct("text",function(W){var U=W.attr(),Q=U.x,nt=U.y,lt=U.text,yt=U.fontSize,Zt=U.lineHeight,$t=U.font;$t||($t=(0,Et.$O)(U));var ne,qt=(0,Et.mY)(lt,$t);if(qt){var Ut=U.textAlign,ee=U.textBaseline,jt=(0,Et.FE)(lt,yt,Zt),w={x:Q,y:nt-jt};Ut&&("end"===Ut||"right"===Ut?w.x-=qt:"center"===Ut&&(w.x-=qt/2)),ee&&("top"===ee?w.y+=jt:"middle"===ee&&(w.y+=jt/2)),ne={x:w.x,y:w.y,width:qt,height:jt}}else ne={x:Q,y:nt,width:0,height:0};return ne}),Ct("path",function(W){var U=W.attr(),Q=U.path,lt=U.stroke?U.lineWidth:0,Zt=function(W,U){for(var Q=[],nt=[],lt=[],yt=0;yt<W.length;yt++){var $t=(Zt=W[yt]).currentPoint,qt=Zt.params,ne=Zt.prePoint,Ut=void 0;switch(Zt.command){case"Q":Ut=wt.lD.box(ne[0],ne[1],qt[1],qt[2],qt[3],qt[4]);break;case"C":Ut=wt.Ll.box(ne[0],ne[1],qt[1],qt[2],qt[3],qt[4],qt[5],qt[6]);break;case"A":var ee=Zt.arcParams;Ut=wt.wN.box(ee.cx,ee.cy,ee.rx,ee.ry,ee.xRotation,ee.startAngle,ee.endAngle);break;default:Q.push($t[0]),nt.push($t[1])}Ut&&(Zt.box=Ut,Q.push(Ut.x,Ut.x+Ut.width),nt.push(Ut.y,Ut.y+Ut.height)),U&&("L"===Zt.command||"M"===Zt.command)&&Zt.prePoint&&Zt.nextPoint&&lt.push(Zt)}Q=Q.filter(function(st){return!Number.isNaN(st)}),nt=nt.filter(function(st){return!Number.isNaN(st)});var jt=(0,_t.VV)(Q),w=(0,_t.VV)(nt),_=(0,_t.Fp)(Q),Y=(0,_t.Fp)(nt);if(0===lt.length)return{x:jt,y:w,width:_-jt,height:Y-w};for(yt=0;yt<lt.length;yt++){var Zt;($t=(Zt=lt[yt]).currentPoint)[0]===jt?jt-=et(Zt,U).xExtra:$t[0]===_&&(_+=et(Zt,U).xExtra),$t[1]===w?w-=et(Zt,U).yExtra:$t[1]===Y&&(Y+=et(Zt,U).yExtra)}return{x:jt,y:w,width:_-jt,height:Y-w}}(W.get("segments")||(0,h.zx)(Q),lt),$t=Zt.x,qt=Zt.y,ee={minX:$t,minY:qt,maxX:$t+Zt.width,maxY:qt+Zt.height};return{x:(ee=ut(W,ee)).minX,y:ee.minY,width:ee.maxX-ee.minX,height:ee.maxY-ee.minY}}),Ct("line",function(W){var U=W.attr(),Q=U.x1,nt=U.y1,lt=U.x2,yt=U.y2,Ut={minX:Math.min(Q,lt),maxX:Math.max(Q,lt),minY:Math.min(nt,yt),maxY:Math.max(nt,yt)};return{x:(Ut=ut(W,Ut)).minX,y:Ut.minY,width:Ut.maxX-Ut.minX,height:Ut.maxY-Ut.minY}}),Ct("ellipse",function(W){var U=W.attr(),lt=U.rx,yt=U.ry;return{x:U.x-lt,y:U.y-yt,width:2*lt,height:2*yt}})},3495:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>Ct});const Ct=function(){function Nt(pt,St){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=pt,this.name=pt,this.originalEvent=St,this.timeStamp=St.timeStamp}return Nt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Nt.prototype.stopPropagation=function(){this.propagationStopped=!0},Nt.prototype.toString=function(){return"[Event (type="+this.type+")]"},Nt.prototype.save=function(){},Nt.prototype.restore=function(){},Nt}()},8086:(me,Qt,K)=>{"use strict";K.r(Qt),K.d(Qt,{Event:()=>dt.Z,Base:()=>ut.Z,AbstractCanvas:()=>Lt.Z,AbstractGroup:()=>It.Z,AbstractShape:()=>Et.Z,PathUtil:()=>Rt,getBBoxMethod:()=>zt.b,getTextHeight:()=>h.FE,assembleFont:()=>h.$O,isAllowCapture:()=>_t.pP,multiplyVec2:()=>bt.rG,invert:()=>bt.U_,getOffScreenContext:()=>et.L,version:()=>xt});var Rt=K(813),Ct=K(8167),pt={};for(const Pt in Ct)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(Pt)<0&&(pt[Pt]=()=>Ct[Pt]);K.d(Qt,pt);var St=K(9348);pt={};for(const Pt in St)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(Pt)<0&&(pt[Pt]=()=>St[Pt]);K.d(Qt,pt);var dt=K(3495),ut=K(1633),Lt=K(2539),It=K(6590),Et=K(8041),zt=K(1585),h=K(5938),_t=K(2370),bt=K(4463),et=K(5527),xt="0.5.6"},9348:()=>{},8167:()=>{},4463:(me,Qt,K)=>{"use strict";function Rt(pt,St){var wt=[],dt=pt[0],ut=pt[1],Lt=pt[2],It=pt[3],Et=pt[4],zt=pt[5],h=pt[6],_t=pt[7],bt=pt[8],et=St[0],xt=St[1],Pt=St[2],Mt=St[3],W=St[4],U=St[5],Q=St[6],nt=St[7],lt=St[8];return wt[0]=et*dt+xt*It+Pt*h,wt[1]=et*ut+xt*Et+Pt*_t,wt[2]=et*Lt+xt*zt+Pt*bt,wt[3]=Mt*dt+W*It+U*h,wt[4]=Mt*ut+W*Et+U*_t,wt[5]=Mt*Lt+W*zt+U*bt,wt[6]=Q*dt+nt*It+lt*h,wt[7]=Q*ut+nt*Et+lt*_t,wt[8]=Q*Lt+nt*zt+lt*bt,wt}function Ct(pt,St){var wt=[],dt=St[0],ut=St[1];return wt[0]=pt[0]*dt+pt[3]*ut+pt[6],wt[1]=pt[1]*dt+pt[4]*ut+pt[7],wt}function Nt(pt){var St=[],wt=pt[0],dt=pt[1],ut=pt[2],Lt=pt[3],It=pt[4],Et=pt[5],zt=pt[6],h=pt[7],_t=pt[8],bt=_t*It-Et*h,et=-_t*Lt+Et*zt,xt=h*Lt-It*zt,Pt=wt*bt+dt*et+ut*xt;return Pt?(St[0]=bt*(Pt=1/Pt),St[1]=(-_t*dt+ut*h)*Pt,St[2]=(Et*dt-ut*It)*Pt,St[3]=et*Pt,St[4]=(_t*wt-ut*zt)*Pt,St[5]=(-Et*wt+ut*Lt)*Pt,St[6]=xt*Pt,St[7]=(-h*wt+dt*zt)*Pt,St[8]=(It*wt-dt*Lt)*Pt,St):null}K.d(Qt,{xq:()=>Rt,rG:()=>Ct,U_:()=>Nt})},5527:(me,Qt,K)=>{"use strict";K.d(Qt,{L:()=>Ct});var Rt=null;function Ct(){if(!Rt){var Nt=document.createElement("canvas");Nt.width=1,Nt.height=1,Rt=Nt.getContext("2d")}return Rt}},813:(me,Qt,K)=>{"use strict";K.r(Qt),K.d(Qt,{catmullRomToBezier:()=>wt,fillPath:()=>ee,fillPathByDiff:()=>Y,formatPath:()=>At,intersection:()=>$t,parsePathArray:()=>_t,parsePathString:()=>St,pathToAbsolute:()=>ut,pathToCurve:()=>zt,rectPath:()=>W});var Rt=K(4872),Ct="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Nt=new RegExp("([a-z])["+Ct+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ct+"]*,?["+Ct+"]*)+)","ig"),pt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ct+"]*,?["+Ct+"]*","ig"),St=function(D){if(!D)return null;if((0,Rt.kJ)(D))return D;var R={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},H=[];return String(D).replace(Nt,function(F,rt,it){var ct=[],O=rt.toLowerCase();if(it.replace(pt,function(y,b){b&&ct.push(+b)}),"m"===O&&ct.length>2&&(H.push([rt].concat(ct.splice(0,2))),O="l",rt="m"===rt?"l":"L"),"o"===O&&1===ct.length&&H.push([rt,ct[0]]),"r"===O)H.push([rt].concat(ct));else for(;ct.length>=R[O]&&(H.push([rt].concat(ct.splice(0,R[O]))),R[O]););return D}),H},wt=function(D,R){for(var H=[],F=0,rt=D.length;rt-2*!R>F;F+=2){var it=[{x:+D[F-2],y:+D[F-1]},{x:+D[F],y:+D[F+1]},{x:+D[F+2],y:+D[F+3]},{x:+D[F+4],y:+D[F+5]}];R?F?rt-4===F?it[3]={x:+D[0],y:+D[1]}:rt-2===F&&(it[2]={x:+D[0],y:+D[1]},it[3]={x:+D[2],y:+D[3]}):it[0]={x:+D[rt-2],y:+D[rt-1]}:rt-4===F?it[3]=it[2]:F||(it[0]={x:+D[F],y:+D[F+1]}),H.push(["C",(6*it[1].x-it[0].x+it[2].x)/6,(6*it[1].y-it[0].y+it[2].y)/6,(it[1].x+6*it[2].x-it[3].x)/6,(it[1].y+6*it[2].y-it[3].y)/6,it[2].x,it[2].y])}return H},dt=function(D,R,H,F,rt){var it=[];if(null===rt&&null===F&&(F=H),D=+D,R=+R,H=+H,F=+F,null!==rt){var ct=Math.PI/180,O=D+H*Math.cos(-F*ct),y=D+H*Math.cos(-rt*ct);it=[["M",O,R+H*Math.sin(-F*ct)],["A",H,H,0,+(rt-F>180),0,y,R+H*Math.sin(-rt*ct)]]}else it=[["M",D,R],["m",0,-F],["a",H,F,0,1,1,0,2*F],["a",H,F,0,1,1,0,-2*F],["z"]];return it},ut=function(D){if(!(D=St(D))||!D.length)return[["M",0,0]];var O,y,R=[],H=0,F=0,rt=0,it=0,ct=0;"M"===D[0][0]&&(rt=H=+D[0][1],it=F=+D[0][2],ct++,R[0]=["M",H,F]);for(var b=3===D.length&&"M"===D[0][0]&&"R"===D[1][0].toUpperCase()&&"Z"===D[2][0].toUpperCase(),B=void 0,k=void 0,C=ct,S=D.length;C<S;C++){if(R.push(B=[]),(O=(k=D[C])[0])!==O.toUpperCase())switch(B[0]=O.toUpperCase(),B[0]){case"A":B[1]=k[1],B[2]=k[2],B[3]=k[3],B[4]=k[4],B[5]=k[5],B[6]=+k[6]+H,B[7]=+k[7]+F;break;case"V":B[1]=+k[1]+F;break;case"H":B[1]=+k[1]+H;break;case"R":for(var A=2,I=(y=[H,F].concat(k.slice(1))).length;A<I;A++)y[A]=+y[A]+H,y[++A]=+y[A]+F;R.pop(),R=R.concat(wt(y,b));break;case"O":R.pop(),(y=dt(H,F,k[1],k[2])).push(y[0]),R=R.concat(y);break;case"U":R.pop(),R=R.concat(dt(H,F,k[1],k[2],k[3])),B=["U"].concat(R[R.length-1].slice(-2));break;case"M":rt=+k[1]+H,it=+k[2]+F;break;default:for(A=1,I=k.length;A<I;A++)B[A]=+k[A]+(A%2?H:F)}else if("R"===O)y=[H,F].concat(k.slice(1)),R.pop(),R=R.concat(wt(y,b)),B=["R"].concat(k.slice(-2));else if("O"===O)R.pop(),(y=dt(H,F,k[1],k[2])).push(y[0]),R=R.concat(y);else if("U"===O)R.pop(),R=R.concat(dt(H,F,k[1],k[2],k[3])),B=["U"].concat(R[R.length-1].slice(-2));else for(var J=0,g=k.length;J<g;J++)B[J]=k[J];if("O"!==(O=O.toUpperCase()))switch(B[0]){case"Z":H=+rt,F=+it;break;case"H":H=B[1];break;case"V":F=B[1];break;case"M":rt=B[B.length-2],it=B[B.length-1];break;default:H=B[B.length-2],F=B[B.length-1]}}return R},Lt=function(D,R,H,F){return[D,R,H,F,H,F]},It=function(D,R,H,F,rt,it){var ct=1/3,O=2/3;return[ct*D+O*H,ct*R+O*F,ct*rt+O*H,ct*it+O*F,rt,it]},Et=function(D,R,H,F,rt,it,ct,O,y,b){H===F&&(H+=1);var S,A,I,J,g,B=120*Math.PI/180,k=Math.PI/180*(+rt||0),C=[],V=function(vr,Ye,Ve){return{x:vr*Math.cos(Ve)-Ye*Math.sin(Ve),y:vr*Math.sin(Ve)+Ye*Math.cos(Ve)}};if(b)A=b[0],I=b[1],J=b[2],g=b[3];else{D=(S=V(D,R,-k)).x,R=S.y,y=(S=V(O,y,-k)).y,D===(O=S.x)&&R===y&&(O+=1,y+=1);var M=(D-O)/2,T=(R-y)/2,N=M*M/(H*H)+T*T/(F*F);N>1&&(H*=N=Math.sqrt(N),F*=N);var tt=H*H,vt=F*F,mt=(it===ct?-1:1)*Math.sqrt(Math.abs((tt*vt-tt*T*T-vt*M*M)/(tt*T*T+vt*M*M)));J=mt*H*T/F+(D+O)/2,g=mt*-F*M/H+(R+y)/2,A=Math.asin(((R-g)/F).toFixed(9)),I=Math.asin(((y-g)/F).toFixed(9)),A=D<J?Math.PI-A:A,I=O<J?Math.PI-I:I,A<0&&(A=2*Math.PI+A),I<0&&(I=2*Math.PI+I),ct&&A>I&&(A-=2*Math.PI),!ct&&I>A&&(I-=2*Math.PI)}var gt=I-A;if(Math.abs(gt)>B){var ht=I,Ot=O,Xt=y;I=A+B*(ct&&I>A?1:-1),O=J+H*Math.cos(I),y=g+F*Math.sin(I),C=Et(O,y,H,F,rt,0,ct,Ot,Xt,[I,ht,J,g])}gt=I-A;var Dt=Math.cos(A),Wt=Math.sin(A),Gt=Math.cos(I),Bt=Math.sin(I),Jt=Math.tan(gt/4),ae=4/3*H*Jt,le=4/3*F*Jt,Le=[D,R],ke=[D+ae*Wt,R-le*Dt],nr=[O+ae*Bt,y-le*Gt],$e=[O,y];if(ke[0]=2*Le[0]-ke[0],ke[1]=2*Le[1]-ke[1],b)return[ke,nr,$e].concat(C);for(var fr=[],Ie=0,Ke=(C=[ke,nr,$e].concat(C).join().split(",")).length;Ie<Ke;Ie++)fr[Ie]=Ie%2?V(C[Ie-1],C[Ie],k).y:V(C[Ie],C[Ie+1],k).x;return fr},zt=function(D,R){var B,H=ut(D),F=R&&ut(R),rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},it={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ct=[],O=[],y="",b="",k=function(M,T,N){var tt,vt;if(!M)return["C",T.x,T.y,T.x,T.y,T.x,T.y];switch(!(M[0]in{T:1,Q:1})&&(T.qx=T.qy=null),M[0]){case"M":T.X=M[1],T.Y=M[2];break;case"A":M=["C"].concat(Et.apply(0,[T.x,T.y].concat(M.slice(1))));break;case"S":"C"===N||"S"===N?(tt=2*T.x-T.bx,vt=2*T.y-T.by):(tt=T.x,vt=T.y),M=["C",tt,vt].concat(M.slice(1));break;case"T":"Q"===N||"T"===N?(T.qx=2*T.x-T.qx,T.qy=2*T.y-T.qy):(T.qx=T.x,T.qy=T.y),M=["C"].concat(It(T.x,T.y,T.qx,T.qy,M[1],M[2]));break;case"Q":T.qx=M[1],T.qy=M[2],M=["C"].concat(It(T.x,T.y,M[1],M[2],M[3],M[4]));break;case"L":M=["C"].concat(Lt(T.x,T.y,M[1],M[2]));break;case"H":M=["C"].concat(Lt(T.x,T.y,M[1],T.y));break;case"V":M=["C"].concat(Lt(T.x,T.y,T.x,M[1]));break;case"Z":M=["C"].concat(Lt(T.x,T.y,T.X,T.Y))}return M},C=function(M,T){if(M[T].length>7){M[T].shift();for(var N=M[T];N.length;)ct[T]="A",F&&(O[T]="A"),M.splice(T++,0,["C"].concat(N.splice(0,6)));M.splice(T,1),B=Math.max(H.length,F&&F.length||0)}},S=function(M,T,N,tt,vt){M&&T&&"M"===M[vt][0]&&"M"!==T[vt][0]&&(T.splice(vt,0,["M",tt.x,tt.y]),N.bx=0,N.by=0,N.x=M[vt][1],N.y=M[vt][2],B=Math.max(H.length,F&&F.length||0))};B=Math.max(H.length,F&&F.length||0);for(var A=0;A<B;A++){H[A]&&(y=H[A][0]),"C"!==y&&(ct[A]=y,A&&(b=ct[A-1])),H[A]=k(H[A],rt,b),"A"!==ct[A]&&"C"===y&&(ct[A]="C"),C(H,A),F&&(F[A]&&(y=F[A][0]),"C"!==y&&(O[A]=y,A&&(b=O[A-1])),F[A]=k(F[A],it,b),"A"!==O[A]&&"C"===y&&(O[A]="C"),C(F,A)),S(H,F,rt,it,A),S(F,H,it,rt,A);var I=H[A],J=F&&F[A],g=I.length,V=F&&J.length;rt.x=I[g-2],rt.y=I[g-1],rt.bx=parseFloat(I[g-4])||rt.x,rt.by=parseFloat(I[g-3])||rt.y,it.bx=F&&(parseFloat(J[V-4])||it.x),it.by=F&&(parseFloat(J[V-3])||it.y),it.x=F&&J[V-2],it.y=F&&J[V-1]}return F?[H,F]:H},h=/,?([a-z]),?/gi,_t=function(D){return D.join(",").replace(h,"$1")},bt=function(D,R,H,F,rt){return D*(D*(-3*R+9*H-9*F+3*rt)+6*R-12*H+6*F)-3*R+3*H},et=function(D,R,H,F,rt,it,ct,O,y){null===y&&(y=1);for(var b=(y=y>1?1:y<0?0:y)/2,k=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],C=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],S=0,A=0;A<12;A++){var I=b*k[A]+b,J=bt(I,D,H,rt,ct),g=bt(I,R,F,it,O);S+=C[A]*Math.sqrt(J*J+g*g)}return b*S},xt=function(D,R,H,F,rt,it,ct,O){for(var B,k,C,S,y=[],b=[[],[]],A=0;A<2;++A)if(0===A?(k=6*D-12*H+6*rt,B=-3*D+9*H-9*rt+3*ct,C=3*H-3*D):(k=6*R-12*F+6*it,B=-3*R+9*F-9*it+3*O,C=3*F-3*R),Math.abs(B)<1e-12){if(Math.abs(k)<1e-12)continue;(S=-C/k)>0&&S<1&&y.push(S)}else{var I=k*k-4*C*B,J=Math.sqrt(I);if(!(I<0)){var g=(-k+J)/(2*B);g>0&&g<1&&y.push(g);var V=(-k-J)/(2*B);V>0&&V<1&&y.push(V)}}for(var N,M=y.length,T=M;M--;)b[0][M]=(N=1-(S=y[M]))*N*N*D+3*N*N*S*H+3*N*S*S*rt+S*S*S*ct,b[1][M]=N*N*N*R+3*N*N*S*F+3*N*S*S*it+S*S*S*O;return b[0][T]=D,b[1][T]=R,b[0][T+1]=ct,b[1][T+1]=O,b[0].length=b[1].length=T+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}},Pt=function(D,R,H,F,rt,it,ct,O){if(!(Math.max(D,H)<Math.min(rt,ct)||Math.min(D,H)>Math.max(rt,ct)||Math.max(R,F)<Math.min(it,O)||Math.min(R,F)>Math.max(it,O))){var B=(D-H)*(it-O)-(R-F)*(rt-ct);if(B){var k=((D*F-R*H)*(rt-ct)-(D-H)*(rt*O-it*ct))/B,C=((D*F-R*H)*(it-O)-(R-F)*(rt*O-it*ct))/B,S=+k.toFixed(2),A=+C.toFixed(2);if(!(S<+Math.min(D,H).toFixed(2)||S>+Math.max(D,H).toFixed(2)||S<+Math.min(rt,ct).toFixed(2)||S>+Math.max(rt,ct).toFixed(2)||A<+Math.min(R,F).toFixed(2)||A>+Math.max(R,F).toFixed(2)||A<+Math.min(it,O).toFixed(2)||A>+Math.max(it,O).toFixed(2)))return{x:k,y:C}}}},Mt=function(D,R,H){return R>=D.x&&R<=D.x+D.width&&H>=D.y&&H<=D.y+D.height},W=function(D,R,H,F,rt){if(rt)return[["M",+D+ +rt,R],["l",H-2*rt,0],["a",rt,rt,0,0,1,rt,rt],["l",0,F-2*rt],["a",rt,rt,0,0,1,-rt,rt],["l",2*rt-H,0],["a",rt,rt,0,0,1,-rt,-rt],["l",0,2*rt-F],["a",rt,rt,0,0,1,rt,-rt],["z"]];var it=[["M",D,R],["l",H,0],["l",0,F],["l",-H,0],["z"]];return it.parsePathArray=_t,it},U=function(D,R,H,F){return null===D&&(D=R=H=F=0),null===R&&(R=D.y,H=D.width,F=D.height,D=D.x),{x:D,y:R,width:H,w:H,height:F,h:F,x2:D+H,y2:R+F,cx:D+H/2,cy:R+F/2,r1:Math.min(H,F)/2,r2:Math.max(H,F)/2,r0:Math.sqrt(H*H+F*F)/2,path:W(D,R,H,F),vb:[D,R,H,F].join(" ")}},nt=function(D,R,H,F,rt,it,ct,O){(0,Rt.kJ)(D)||(D=[D,R,H,F,rt,it,ct,O]);var y=xt.apply(null,D);return U(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},lt=function(D,R,H,F,rt,it,ct,O,y){var b=1-y,B=Math.pow(b,3),k=Math.pow(b,2),C=y*y,S=C*y,J=D+2*y*(H-D)+C*(rt-2*H+D),g=R+2*y*(F-R)+C*(it-2*F+R),V=H+2*y*(rt-H)+C*(ct-2*rt+H),M=F+2*y*(it-F)+C*(O-2*it+F);return{x:B*D+3*k*y*H+3*b*y*y*rt+S*ct,y:B*R+3*k*y*F+3*b*y*y*it+S*O,m:{x:J,y:g},n:{x:V,y:M},start:{x:b*D+y*H,y:b*R+y*F},end:{x:b*rt+y*ct,y:b*it+y*O},alpha:90-180*Math.atan2(J-V,g-M)/Math.PI}},yt=function(D,R,H){if(!function(D,R){return D=U(D),R=U(R),Mt(R,D.x,D.y)||Mt(R,D.x2,D.y)||Mt(R,D.x,D.y2)||Mt(R,D.x2,D.y2)||Mt(D,R.x,R.y)||Mt(D,R.x2,R.y)||Mt(D,R.x,R.y2)||Mt(D,R.x2,R.y2)||(D.x<R.x2&&D.x>R.x||R.x<D.x2&&R.x>D.x)&&(D.y<R.y2&&D.y>R.y||R.y<D.y2&&R.y>D.y)}(nt(D),nt(R)))return H?0:[];for(var O=~~(et.apply(0,D)/8),y=~~(et.apply(0,R)/8),b=[],B=[],k={},C=H?0:[],S=0;S<O+1;S++){var A=lt.apply(0,D.concat(S/O));b.push({x:A.x,y:A.y,t:S/O})}for(S=0;S<y+1;S++)A=lt.apply(0,R.concat(S/y)),B.push({x:A.x,y:A.y,t:S/y});for(S=0;S<O;S++)for(var I=0;I<y;I++){var J=b[S],g=b[S+1],V=B[I],M=B[I+1],T=Math.abs(g.x-J.x)<.001?"y":"x",N=Math.abs(M.x-V.x)<.001?"y":"x",tt=Pt(J.x,J.y,g.x,g.y,V.x,V.y,M.x,M.y);if(tt){if(k[tt.x.toFixed(4)]===tt.y.toFixed(4))continue;k[tt.x.toFixed(4)]=tt.y.toFixed(4);var vt=J.t+Math.abs((tt[T]-J[T])/(g[T]-J[T]))*(g.t-J.t),mt=V.t+Math.abs((tt[N]-V[N])/(M[N]-V[N]))*(M.t-V.t);vt>=0&&vt<=1&&mt>=0&&mt<=1&&(H?C+=1:C.push({x:tt.x,y:tt.y,t1:vt,t2:mt}))}}return C},$t=function(D,R){return function(D,R,H){D=zt(D),R=zt(R);for(var F,rt,it,ct,O,y,b,B,k,C,S=[],A=0,I=D.length;A<I;A++){var J=D[A];if("M"===J[0])F=O=J[1],rt=y=J[2];else{"C"===J[0]?(k=[F,rt].concat(J.slice(1)),F=k[6],rt=k[7]):(k=[F,rt,F,rt,O,y,O,y],F=O,rt=y);for(var g=0,V=R.length;g<V;g++){var M=R[g];if("M"===M[0])it=b=M[1],ct=B=M[2];else{"C"===M[0]?(C=[it,ct].concat(M.slice(1)),it=C[6],ct=C[7]):(C=[it,ct,it,ct,b,B,b,B],it=b,ct=B);for(var T=yt(k,C,H),N=0,tt=T.length;N<tt;N++)T[N].segment1=A,T[N].segment2=g,T[N].bez1=k,T[N].bez2=C;S=S.concat(T)}}}}return S}(D,R)};function qt(D,R){var H=[],F=[];return D.length&&function rt(it,ct){if(1===it.length)H.push(it[0]),F.push(it[0]);else{for(var O=[],y=0;y<it.length-1;y++)0===y&&H.push(it[0]),y===it.length-2&&F.push(it[y+1]),O[y]=[(1-ct)*it[y][0]+ct*it[y+1][0],(1-ct)*it[y][1]+ct*it[y+1][1]];rt(O,ct)}}(D,R),{left:H,right:F.reverse()}}var ee=function(D,R){if(1===D.length)return D;var H=D.length-1,F=R.length-1,rt=H/F,it=[];if(1===D.length&&"M"===D[0][0]){for(var ct=0;ct<F-H;ct++)D.push(D[0]);return D}for(ct=0;ct<F;ct++){var O=Math.floor(rt*ct);it[O]=(it[O]||0)+1}var y=it.reduce(function(b,B,k){return b.concat(k===H?D[H]:function(D,R,H){if(1===H)return[[].concat(D)];var F=[];if("L"===R[0]||"C"===R[0]||"Q"===R[0])F=F.concat(function(D,R,H){var F=[[D[1],D[2]]];H=H||2;var rt=[];"A"===R[0]?(F.push(R[6]),F.push(R[7])):"C"===R[0]?(F.push([R[1],R[2]]),F.push([R[3],R[4]]),F.push([R[5],R[6]])):"S"===R[0]||"Q"===R[0]?(F.push([R[1],R[2]]),F.push([R[3],R[4]])):F.push([R[1],R[2]]);for(var it=F,ct=1/H,O=0;O<H-1;O++){var b=qt(it,ct/(1-ct*O));rt.push(b.left),it=b.right}return rt.push(it),rt.map(function(k){var C=[];return 4===k.length&&(C.push("C"),C=C.concat(k[2])),k.length>=3&&(3===k.length&&C.push("Q"),C=C.concat(k[1])),2===k.length&&C.push("L"),C.concat(k[k.length-1])})}(D,R,H));else{var rt=[].concat(D);"M"===rt[0]&&(rt[0]="L");for(var it=0;it<=H-1;it++)F.push(rt)}return F}(D[k],D[k+1],B))},[]);return y.unshift(D[0]),("Z"===R[F]||"z"===R[F])&&y.push("Z"),y},jt=function(D,R){if(D.length!==R.length)return!1;var H=!0;return(0,Rt.S6)(D,function(F,rt){if(F!==R[rt])return H=!1,!1}),H};function w(D,R,H){var F=null,rt=H;return R<rt&&(rt=R,F="add"),D<rt&&(rt=D,F="del"),{type:F,min:rt}}var Y=function(D,R){var H=function(D,R){var rt,H=D.length,F=R.length,ct=0;if(0===H||0===F)return null;for(var O=[],y=0;y<=H;y++)O[y]=[],O[y][0]={min:y};for(var b=0;b<=F;b++)O[0][b]={min:b};for(y=1;y<=H;y++)for(rt=D[y-1],b=1;b<=F;b++)ct=jt(rt,R[b-1])?0:1,O[y][b]=w(O[y-1][b].min+1,O[y][b-1].min+1,O[y-1][b-1].min+ct);return O}(D,R),F=D.length,rt=R.length,it=[],ct=1,O=1;if(H[F][rt].min!==F){for(var y=1;y<=F;y++){var b=H[y][y].min;O=y;for(var B=ct;B<=rt;B++)H[y][B].min<b&&(b=H[y][B].min,O=B);H[y][ct=O].type&&it.push({index:y-1,type:H[y][ct].type})}for(y=it.length-1;y>=0;y--)ct=it[y].index,"add"===it[y].type?D.splice(ct,0,[].concat(D[ct])):D.splice(ct,1)}var k=rt-(F=D.length);if(F<rt)for(y=0;y<k;y++)"z"===D[F-1][0]||"Z"===D[F-1][0]?D.splice(F-2,0,D[F-2]):D.push(D[F-1]),F+=1;return D};function q(D,R,H){for(var rt,F=[].concat(D),it=1/(H+1),ct=st(R)[0],O=1;O<=H;O++)it*=O,0===(rt=Math.floor(D.length*it))?F.unshift([ct[0]*it+D[rt][0]*(1-it),ct[1]*it+D[rt][1]*(1-it)]):F.splice(rt,0,[ct[0]*it+D[rt][0]*(1-it),ct[1]*it+D[rt][1]*(1-it)]);return F}function st(D){var R=[];switch(D[0]){case"M":case"L":R.push([D[1],D[2]]);break;case"A":R.push([D[6],D[7]]);break;case"Q":R.push([D[3],D[4]]),R.push([D[1],D[2]]);break;case"T":R.push([D[1],D[2]]);break;case"C":R.push([D[5],D[6]]),R.push([D[1],D[2]]),R.push([D[3],D[4]]);break;case"S":R.push([D[3],D[4]]),R.push([D[1],D[2]]);break;case"H":case"V":R.push([D[1],D[1]])}return R}var At=function(D,R){if(D.length<=1)return D;for(var H,F=0;F<R.length;F++)if(D[F][0]!==R[F][0])switch(H=st(D[F]),R[F][0]){case"M":D[F]=["M"].concat(H[0]);break;case"L":D[F]=["L"].concat(H[0]);break;case"A":D[F]=[].concat(R[F]),D[F][6]=H[0][0],D[F][7]=H[0][1];break;case"Q":if(H.length<2){if(!(F>0)){D[F]=R[F];break}H=q(H,D[F-1],1)}D[F]=["Q"].concat(H.reduce(function(rt,it){return rt.concat(it)},[]));break;case"T":D[F]=["T"].concat(H[0]);break;case"C":if(H.length<3){if(!(F>0)){D[F]=R[F];break}H=q(H,D[F-1],2)}D[F]=["C"].concat(H.reduce(function(rt,it){return rt.concat(it)},[]));break;case"S":if(H.length<2){if(!(F>0)){D[F]=R[F];break}H=q(H,D[F-1],1)}D[F]=["S"].concat(H.reduce(function(rt,it){return rt.concat(it)},[]));break;default:D[F]=R[F]}return D}},5938:(me,Qt,K)=>{"use strict";K.d(Qt,{FE:()=>Nt,mY:()=>St,$O:()=>wt});var Rt=K(2370),Ct=K(5527);function Nt(dt,ut,Lt){var It=1;return(0,Rt.HD)(dt)&&(It=dt.split("\n").length),It>1?ut*It+function(dt,ut){return ut?ut-dt:.14*dt}(ut,Lt)*(It-1):ut}function St(dt,ut){var Lt=(0,Ct.L)(),It=0;if((0,Rt.kK)(dt)||""===dt)return It;if(Lt.save(),Lt.font=ut,(0,Rt.HD)(dt)&&dt.includes("\n")){var Et=dt.split("\n");(0,Rt.S6)(Et,function(zt){var h=Lt.measureText(zt).width;It<h&&(It=h)})}else It=Lt.measureText(dt).width;return Lt.restore(),It}function wt(dt){return[dt.fontStyle,dt.fontVariant,dt.fontWeight,dt.fontSize+"px",dt.fontFamily].join(" ").trim()}},2370:(me,Qt,K)=>{"use strict";K.d(Qt,{As:()=>Ct,jU:()=>Nt,kK:()=>Rt.UM,mf:()=>Rt.mf,HD:()=>Rt.HD,Kn:()=>Rt.Kn,CD:()=>Rt.CD,S6:()=>Rt.S6,jC:()=>Rt.jC,UY:()=>pt,pP:()=>St});var Rt=K(4872);function Ct(wt,dt){var ut=wt.indexOf(dt);-1!==ut&&wt.splice(ut,1)}var Nt="undefined"!=typeof window&&void 0!==window.document;function pt(wt,dt){if(wt.isCanvas())return!0;for(var ut=dt.getParent(),Lt=!1;ut;){if(ut===wt){Lt=!0;break}ut=ut.getParent()}return Lt}function St(wt){return wt.cfg.visible&&wt.cfg.capture}},9005:(me,Qt,K)=>{"use strict";K.d(Qt,{wN:()=>st,Ll:()=>yt,x1:()=>It,aH:()=>rt,lD:()=>Mt,Zr:()=>Rt});var Rt={};function Ct(O){return Math.min.apply(null,O)}function Nt(O){return Math.max.apply(null,O)}function pt(O,y,b,B){var k=O-b,C=y-B;return Math.sqrt(k*k+C*C)}function St(O,y){return Math.abs(O-y)<.001}function wt(O,y){var b=Ct(O),B=Ct(y);return{x:b,y:B,width:Nt(O)-b,height:Nt(y)-B}}function dt(O,y,b,B){return{minX:Ct([O,b]),maxX:Nt([O,b]),minY:Ct([y,B]),maxY:Nt([y,B])}}function ut(O){return(O+2*Math.PI)%(2*Math.PI)}K.r(Rt),K.d(Rt,{distance:()=>pt,getBBoxByArray:()=>wt,getBBoxRange:()=>dt,isNumberEqual:()=>St,piMod:()=>ut});var Lt=K(5886);const It={box:function(O,y,b,B){return wt([O,b],[y,B])},length:function(O,y,b,B){return pt(O,y,b,B)},pointAt:function(O,y,b,B,k){return{x:(1-k)*O+k*b,y:(1-k)*y+k*B}},pointDistance:function(O,y,b,B,k,C){var S=(b-O)*(k-O)+(B-y)*(C-y);return S<0?pt(O,y,k,C):S>(b-O)*(b-O)+(B-y)*(B-y)?pt(b,B,k,C):this.pointToLine(O,y,b,B,k,C)},pointToLine:function(O,y,b,B,k,C){var S=[b-O,B-y];if(Lt.I6(S,[0,0]))return Math.sqrt((k-O)*(k-O)+(C-y)*(C-y));var A=[-S[1],S[0]];return Lt.Fv(A,A),Math.abs(Lt.AK([k-O,C-y],A))},tangentAngle:function(O,y,b,B){return Math.atan2(B-y,b-O)}};function zt(O,y,b,B,k,C){var S,A=1/0,I=[b,B],J=20;C&&C>200&&(J=C/10);for(var g=1/J,V=g/10,M=0;M<=J;M++){var T=M*g,N=[k.apply(null,O.concat([T])),k.apply(null,y.concat([T]))];(tt=pt(I[0],I[1],N[0],N[1]))<A&&(S=T,A=tt)}if(0===S)return{x:O[0],y:y[0]};if(1===S){var vt=O.length;return{x:O[vt-1],y:y[vt-1]}}for(A=1/0,M=0;M<32&&!(V<1e-4);M++){var mt=S-V,gt=S+V,tt=(N=[k.apply(null,O.concat([mt])),k.apply(null,y.concat([mt]))],pt(I[0],I[1],N[0],N[1]));if(mt>=0&&tt<A)S=mt,A=tt;else{var ht=[k.apply(null,O.concat([gt])),k.apply(null,y.concat([gt]))],Ot=pt(I[0],I[1],ht[0],ht[1]);gt<=1&&Ot<A?(S=gt,A=Ot):V*=.5}}return{x:k.apply(null,O.concat([S])),y:k.apply(null,y.concat([S]))}}function _t(O,y,b,B){var k=1-B;return k*k*O+2*B*k*y+B*B*b}function bt(O,y,b){var B=O+b-2*y;if(St(B,0))return[.5];var k=(O-y)/B;return k<=1&&k>=0?[k]:[]}function et(O,y,b,B){return 2*(1-B)*(y-O)+2*B*(b-y)}function xt(O,y,b,B,k,C,S){var A=_t(O,b,k,S),I=_t(y,B,C,S),J=It.pointAt(O,y,b,B,S),g=It.pointAt(b,B,k,C,S);return[[O,y,J.x,J.y,A,I],[A,I,g.x,g.y,k,C]]}function Pt(O,y,b,B,k,C,S){if(0===S)return(pt(O,y,b,B)+pt(b,B,k,C)+pt(O,y,k,C))/2;var A=xt(O,y,b,B,k,C,.5),I=A[0],J=A[1];return I.push(S-1),J.push(S-1),Pt.apply(null,I)+Pt.apply(null,J)}const Mt={box:function(O,y,b,B,k,C){var S=bt(O,b,k)[0],A=bt(y,B,C)[0],I=[O,k],J=[y,C];return void 0!==S&&I.push(_t(O,b,k,S)),void 0!==A&&J.push(_t(y,B,C,A)),wt(I,J)},length:function(O,y,b,B,k,C){return Pt(O,y,b,B,k,C,3)},nearestPoint:function(O,y,b,B,k,C,S,A){return zt([O,b,k],[y,B,C],S,A,_t)},pointDistance:function(O,y,b,B,k,C,S,A){var I=this.nearestPoint(O,y,b,B,k,C,S,A);return pt(I.x,I.y,S,A)},interpolationAt:_t,pointAt:function(O,y,b,B,k,C,S){return{x:_t(O,b,k,S),y:_t(y,B,C,S)}},divide:function(O,y,b,B,k,C,S){return xt(O,y,b,B,k,C,S)},tangentAngle:function(O,y,b,B,k,C,S){var A=et(O,b,k,S),I=et(y,B,C,S);return ut(Math.atan2(I,A))}};function W(O,y,b,B,k){var C=1-k;return C*C*C*O+3*y*k*C*C+3*b*k*k*C+B*k*k*k}function U(O,y,b,B,k){var C=1-k;return 3*(C*C*(y-O)+2*C*k*(b-y)+k*k*(B-b))}function Q(O,y,b,B){var I,J,g,k=-3*O+9*y-9*b+3*B,C=6*O-12*y+6*b,S=3*y-3*O,A=[];if(St(k,0))St(C,0)||(I=-S/C)>=0&&I<=1&&A.push(I);else{var V=C*C-4*k*S;St(V,0)?A.push(-C/(2*k)):V>0&&(J=(-C-(g=Math.sqrt(V)))/(2*k),(I=(-C+g)/(2*k))>=0&&I<=1&&A.push(I),J>=0&&J<=1&&A.push(J))}return A}function nt(O,y,b,B,k,C,S,A,I){var J=W(O,b,k,S,I),g=W(y,B,C,A,I),V=It.pointAt(O,y,b,B,I),M=It.pointAt(b,B,k,C,I),T=It.pointAt(k,C,S,A,I),N=It.pointAt(V.x,V.y,M.x,M.y,I),tt=It.pointAt(M.x,M.y,T.x,T.y,I);return[[O,y,V.x,V.y,N.x,N.y,J,g],[J,g,tt.x,tt.y,T.x,T.y,S,A]]}function lt(O,y,b,B,k,C,S,A,I){if(0===I)return function(O,y){for(var b=0,B=O.length,k=0;k<B;k++)b+=pt(O[k],y[k],O[(k+1)%B],y[(k+1)%B]);return b/2}([O,b,k,S],[y,B,C,A]);var J=nt(O,y,b,B,k,C,S,A,.5),g=J[0],V=J[1];return g.push(I-1),V.push(I-1),lt.apply(null,g)+lt.apply(null,V)}const yt={extrema:Q,box:function(O,y,b,B,k,C,S,A){for(var I=[O,S],J=[y,A],g=Q(O,b,k,S),V=Q(y,B,C,A),M=0;M<g.length;M++)I.push(W(O,b,k,S,g[M]));for(M=0;M<V.length;M++)J.push(W(y,B,C,A,V[M]));return wt(I,J)},length:function(O,y,b,B,k,C,S,A){return lt(O,y,b,B,k,C,S,A,3)},nearestPoint:function(O,y,b,B,k,C,S,A,I,J,g){return zt([O,b,k,S],[y,B,C,A],I,J,W,g)},pointDistance:function(O,y,b,B,k,C,S,A,I,J,g){var V=this.nearestPoint(O,y,b,B,k,C,S,A,I,J,g);return pt(V.x,V.y,I,J)},interpolationAt:W,pointAt:function(O,y,b,B,k,C,S,A,I){return{x:W(O,b,k,S,I),y:W(y,B,C,A,I)}},divide:function(O,y,b,B,k,C,S,A,I){return nt(O,y,b,B,k,C,S,A,I)},tangentAngle:function(O,y,b,B,k,C,S,A,I){var J=U(O,b,k,S,I),g=U(y,B,C,A,I);return ut(Math.atan2(g,J))}};function Zt(O,y){var b=Math.abs(O);return y>0?b:-1*b}function jt(O,y,b,B,k,C){return b*Math.cos(k)*Math.cos(C)-B*Math.sin(k)*Math.sin(C)+O}function w(O,y,b,B,k,C){return b*Math.sin(k)*Math.cos(C)+B*Math.cos(k)*Math.sin(C)+y}function Y(O,y,b){return{x:O*Math.cos(b),y:y*Math.sin(b)}}function q(O,y,b){var B=Math.cos(b),k=Math.sin(b);return[O*B-y*k,O*k+y*B]}const st={box:function(O,y,b,B,k,C,S){for(var A=function(O,y,b){return Math.atan(-y/O*Math.tan(b))}(b,B,k),I=1/0,J=-1/0,g=[C,S],V=2*-Math.PI;V<=2*Math.PI;V+=Math.PI){var M=A+V;C<S?C<M&&M<S&&g.push(M):S<M&&M<C&&g.push(M)}for(V=0;V<g.length;V++){var T=jt(O,0,b,B,k,g[V]);T<I&&(I=T),T>J&&(J=T)}var N=function(O,y,b){return Math.atan(y/(O*Math.tan(b)))}(b,B,k),tt=1/0,vt=-1/0,mt=[C,S];for(V=2*-Math.PI;V<=2*Math.PI;V+=Math.PI){var gt=N+V;C<S?C<gt&&gt<S&&mt.push(gt):S<gt&&gt<C&&mt.push(gt)}for(V=0;V<mt.length;V++){var ht=w(0,y,b,B,k,mt[V]);ht<tt&&(tt=ht),ht>vt&&(vt=ht)}return{x:I,y:tt,width:J-I,height:vt-tt}},length:function(O,y,b,B,k,C,S){},nearestPoint:function(O,y,b,B,k,C,S,A,I){var J=q(A-O,I-y,-k),M=function(O,y,b,B,k,C){var S=b,A=B;if(0===S||0===A)return{x:O,y};for(var tt,vt,I=k-O,J=C-y,g=Math.abs(I),V=Math.abs(J),M=S*S,T=A*A,N=Math.PI/4,mt=0;mt<4;mt++){tt=S*Math.cos(N),vt=A*Math.sin(N);var gt=(M-T)*Math.pow(Math.cos(N),3)/S,ht=(T-M)*Math.pow(Math.sin(N),3)/A,Ot=tt-gt,Xt=vt-ht,Dt=g-gt,Wt=V-ht,Gt=Math.hypot(Xt,Ot),Bt=Math.hypot(Wt,Dt);N+=Gt*Math.asin((Ot*Wt-Xt*Dt)/(Gt*Bt))/Math.sqrt(M+T-tt*tt-vt*vt),N=Math.min(Math.PI/2,Math.max(0,N))}return{x:O+Zt(tt,I),y:y+Zt(vt,J)}}(0,0,b,B,J[0],J[1]),T=function(O,y,b,B){return(Math.atan2(B*O,b*y)+2*Math.PI)%(2*Math.PI)}(b,B,M.x,M.y);T<C?M=Y(b,B,C):T>S&&(M=Y(b,B,S));var N=q(M.x,M.y,k);return{x:N[0]+O,y:N[1]+y}},pointDistance:function(O,y,b,B,k,C,S,A,I){var J=this.nearestPoint(O,y,b,B,A,I);return pt(J.x,J.y,A,I)},pointAt:function(O,y,b,B,k,C,S,A){var I=(S-C)*A+C;return{x:jt(O,0,b,B,k,I),y:w(0,y,b,B,k,I)}},tangentAngle:function(O,y,b,B,k,C,S,A){var I=(S-C)*A+C,J=function(O,y,b,B,k,C,S,A){return-1*b*Math.cos(k)*Math.sin(A)-B*Math.sin(k)*Math.cos(A)}(0,0,b,B,k,0,0,I),g=function(O,y,b,B,k,C,S,A){return-1*b*Math.sin(k)*Math.sin(A)+B*Math.cos(k)*Math.cos(A)}(0,0,b,B,k,0,0,I);return ut(Math.atan2(g,J))}};function At(O){for(var y=0,b=[],B=0;B<O.length-1;B++){var k=O[B],C=O[B+1],S=pt(k[0],k[1],C[0],C[1]);b.push({from:k,to:C,length:S}),y+=S}return{segments:b,totalLength:y}}const rt={box:function(O){for(var y=[],b=[],B=0;B<O.length;B++){var k=O[B];y.push(k[0]),b.push(k[1])}return wt(y,b)},length:function(O){return function(O){if(O.length<2)return 0;for(var y=0,b=0;b<O.length-1;b++){var B=O[b],k=O[b+1];y+=pt(B[0],B[1],k[0],k[1])}return y}(O)},pointAt:function(O,y){return function(O,y){if(y>1||y<0||O.length<2)return null;var b=At(O),B=b.segments,k=b.totalLength;if(0===k)return{x:O[0][0],y:O[0][1]};for(var C=0,S=null,A=0;A<B.length;A++){var I=B[A],J=I.from,g=I.to,V=I.length/k;if(y>=C&&y<=C+V){S=It.pointAt(J[0],J[1],g[0],g[1],(y-C)/V);break}C+=V}return S}(O,y)},pointDistance:function(O,y,b){return function(O,y,b){for(var B=1/0,k=0;k<O.length-1;k++){var C=O[k],S=O[k+1],A=It.pointDistance(C[0],C[1],S[0],S[1],y,b);A<B&&(B=A)}return B}(O,y,b)},tangentAngle:function(O,y){return function(O,y){if(y>1||y<0||O.length<2)return 0;for(var b=At(O),B=b.segments,k=b.totalLength,C=0,S=0,A=0;A<B.length;A++){var I=B[A],J=I.from,g=I.to,V=I.length/k;if(y>=C&&y<=C+V){S=Math.atan2(g[1]-J[1],g[0]-J[0]);break}C+=V}return S}(O,y)}}},7089:(me,Qt,K)=>{"use strict";K.d(Qt,{m$:()=>Nt,zu:()=>pt,lh:()=>St,vs:()=>dt,Dg:()=>Lt});var Rt=K(1790),Ct=K(5886);function Nt(Et,zt,h){var _t=[0,0,0,0,0,0,0,0,0];return Rt.vc(_t,h),Rt.Jp(Et,_t,zt)}function pt(Et,zt,h){var _t=[0,0,0,0,0,0,0,0,0];return Rt.Us(_t,h),Rt.Jp(Et,_t,zt)}function St(Et,zt,h){var _t=[0,0,0,0,0,0,0,0,0];return Rt.xJ(_t,h),Rt.Jp(Et,_t,zt)}function wt(Et,zt,h){return Rt.Jp(Et,h,zt)}function dt(Et,zt){for(var h=Et?[].concat(Et):[1,0,0,0,1,0,0,0,1],_t=0,bt=zt.length;_t<bt;_t++){var et=zt[_t];switch(et[0]){case"t":Nt(h,h,[et[1],et[2]]);break;case"s":St(h,h,[et[1],et[2]]);break;case"r":pt(h,h,et[1]);break;case"m":wt(h,h,et[1])}}return h}function Lt(Et,zt,h){var _t=Ct.EU(Et,zt),bt=function(Et,zt){return Et[0]*zt[1]-zt[0]*Et[1]}(Et,zt)>=0;return h?bt?2*Math.PI-_t:_t:bt?_t:2*Math.PI-_t}},8599:(me,Qt,K)=>{"use strict";K.d(Qt,{e9:()=>wt,Wq:()=>k,tr:()=>h,wb:()=>et,zx:()=>D});var Rt=K(4872),Ct=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Nt=/[^\s\,]+/gi;function wt(C,S){for(var A=[],I=0,J=C.length;J-2*!S>I;I+=2){var g=[{x:+C[I-2],y:+C[I-1]},{x:+C[I],y:+C[I+1]},{x:+C[I+2],y:+C[I+3]},{x:+C[I+4],y:+C[I+5]}];S?I?J-4===I?g[3]={x:+C[0],y:+C[1]}:J-2===I&&(g[2]={x:+C[0],y:+C[1]},g[3]={x:+C[2],y:+C[3]}):g[0]={x:+C[J-2],y:+C[J-1]}:J-4===I?g[3]=g[2]:I||(g[0]={x:+C[I],y:+C[I+1]}),A.push(["C",(6*g[1].x-g[0].x+g[2].x)/6,(6*g[1].y-g[0].y+g[2].y)/6,(g[1].x+6*g[2].x-g[3].x)/6,(g[1].y+6*g[2].y-g[3].y)/6,g[2].x,g[2].y])}return A}var It="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Et=new RegExp("([a-z])["+It+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+It+"]*,?["+It+"]*)+)","ig"),zt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+It+"]*,?["+It+"]*","ig");function h(C){if(!C)return null;if((0,Rt.kJ)(C))return C;var S={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},A=[];return String(C).replace(Et,function(I,J,g){var V=[],M=J.toLowerCase();if(g.replace(zt,function(T,N){N&&V.push(+N)}),"m"===M&&V.length>2&&(A.push([J].concat(V.splice(0,2))),M="l",J="m"===J?"l":"L"),"o"===M&&1===V.length&&A.push([J,V[0]]),"r"===M)A.push([J].concat(V));else for(;V.length>=S[M]&&(A.push([J].concat(V.splice(0,S[M]))),S[M]););return""}),A}var _t=/[a-z]/;function bt(C,S){return[S[0]+(S[0]-C[0]),S[1]+(S[1]-C[1])]}function et(C){var S=h(C);if(!S||!S.length)return[["M",0,0]];for(var A=!1,I=0;I<S.length;I++)if(_t.test(J=S[I][0])||["V","H","T","S"].indexOf(J)>=0){A=!0;break}if(!A)return S;var g=[],V=0,M=0,T=0,N=0,tt=0,gt=S[0];("M"===gt[0]||"m"===gt[0])&&(T=V=+gt[1],N=M=+gt[2],tt++,g[0]=["M",V,M]),I=tt;for(var ht=S.length;I<ht;I++){var J,Ot=S[I],Xt=g[I-1],Dt=[],Wt=(J=Ot[0]).toUpperCase();if(J!==Wt)switch(Dt[0]=Wt,Wt){case"A":Dt[1]=Ot[1],Dt[2]=Ot[2],Dt[3]=Ot[3],Dt[4]=Ot[4],Dt[5]=Ot[5],Dt[6]=+Ot[6]+V,Dt[7]=+Ot[7]+M;break;case"V":Dt[1]=+Ot[1]+M;break;case"H":Dt[1]=+Ot[1]+V;break;case"M":T=+Ot[1]+V,N=+Ot[2]+M;break;default:for(var Gt=1,Bt=Ot.length;Gt<Bt;Gt++)Dt[Gt]=+Ot[Gt]+(Gt%2?V:M)}else Dt=S[I];switch(Wt){case"Z":V=+T,M=+N;break;case"H":Dt=["L",V=Dt[1],M];break;case"V":Dt=["L",V,M=Dt[1]];break;case"T":V=Dt[1],M=Dt[2];var Jt=bt([Xt[1],Xt[2]],[Xt[3],Xt[4]]);Dt=["Q",Jt[0],Jt[1],V,M];break;case"S":V=Dt[Dt.length-2],M=Dt[Dt.length-1];var ae=Xt.length,le=bt([Xt[ae-4],Xt[ae-3]],[Xt[ae-2],Xt[ae-1]]);Dt=["C",le[0],le[1],Dt[1],Dt[2],V,M];break;case"M":T=Dt[Dt.length-2],N=Dt[Dt.length-1];break;default:V=Dt[Dt.length-2],M=Dt[Dt.length-1]}g.push(Dt)}return g}function w(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function _(C,S){return w(C)*w(S)?(C[0]*S[0]+C[1]*S[1])/(w(C)*w(S)):1}function Y(C,S){return(C[0]*S[1]<C[1]*S[0]?-1:1)*Math.acos(_(C,S))}function q(C,S){return C[0]===S[0]&&C[1]===S[1]}function st(C,S){var A=S[1],I=S[2],J=(0,Rt.wQ)((0,Rt.c$)(S[3]),2*Math.PI),g=S[4],V=S[5],M=C[0],T=C[1],N=S[6],tt=S[7],vt=Math.cos(J)*(M-N)/2+Math.sin(J)*(T-tt)/2,mt=-1*Math.sin(J)*(M-N)/2+Math.cos(J)*(T-tt)/2,gt=vt*vt/(A*A)+mt*mt/(I*I);gt>1&&(A*=Math.sqrt(gt),I*=Math.sqrt(gt));var ht=A*A*(mt*mt)+I*I*(vt*vt),Ot=ht?Math.sqrt((A*A*(I*I)-ht)/ht):1;g===V&&(Ot*=-1),isNaN(Ot)&&(Ot=0);var Xt=I?Ot*A*mt/I:0,Dt=A?Ot*-I*vt/A:0,Wt=(M+N)/2+Math.cos(J)*Xt-Math.sin(J)*Dt,Gt=(T+tt)/2+Math.sin(J)*Xt+Math.cos(J)*Dt,Bt=[(vt-Xt)/A,(mt-Dt)/I],Jt=[(-1*vt-Xt)/A,(-1*mt-Dt)/I],ae=Y([1,0],Bt),le=Y(Bt,Jt);return _(Bt,Jt)<=-1&&(le=Math.PI),_(Bt,Jt)>=1&&(le=0),0===V&&le>0&&(le-=2*Math.PI),1===V&&le<0&&(le+=2*Math.PI),{cx:Wt,cy:Gt,rx:q(C,[N,tt])?0:A,ry:q(C,[N,tt])?0:I,startAngle:ae,endAngle:ae+le,xRotation:J,arcFlag:g,sweepFlag:V}}function At(C,S){return[S[0]+(S[0]-C[0]),S[1]+(S[1]-C[1])]}function D(C){for(var S=[],A=null,I=null,J=null,g=0,V=(C=function(C){var S=C||[];return(0,Rt.kJ)(S)?S:(0,Rt.HD)(S)?(S=S.match(Ct),(0,Rt.S6)(S,function(A,I){if((A=A.match(Nt))[0].length>1){var J=A[0].charAt(0);A.splice(1,0,A[0].substr(1)),A[0]=J}(0,Rt.S6)(A,function(g,V){isNaN(g)||(A[V]=+g)}),S[I]=A}),S):void 0}(C)).length,M=0;M<V;M++){var T=C[M];I=C[M+1];var N=T[0],tt={command:N,prePoint:A,params:T,startTangent:null,endTangent:null};switch(N){case"M":J=[T[1],T[2]],g=M;break;case"A":var vt=st(A,T);tt.arcParams=vt}if("Z"===N)A=J,I=C[g+1];else{var mt=T.length;A=[T[mt-2],T[mt-1]]}I&&"Z"===I[0]&&(I=C[g],S[g]&&(S[g].prePoint=A)),tt.currentPoint=A,S[g]&&q(A,S[g].currentPoint)&&(S[g].prePoint=tt.prePoint),tt.nextPoint=I?[I[I.length-2],I[I.length-1]]:null;var ht=tt.prePoint;if(["L","H","V"].includes(N))tt.startTangent=[ht[0]-A[0],ht[1]-A[1]],tt.endTangent=[A[0]-ht[0],A[1]-ht[1]];else if("Q"===N)tt.startTangent=[ht[0]-(Ot=[T[1],T[2]])[0],ht[1]-Ot[1]],tt.endTangent=[A[0]-Ot[0],A[1]-Ot[1]];else if("T"===N){var Ot=At((Xt=S[M-1]).currentPoint,ht);"Q"===Xt.command?(tt.command="Q",tt.startTangent=[ht[0]-Ot[0],ht[1]-Ot[1]],tt.endTangent=[A[0]-Ot[0],A[1]-Ot[1]]):(tt.command="TL",tt.startTangent=[ht[0]-A[0],ht[1]-A[1]],tt.endTangent=[A[0]-ht[0],A[1]-ht[1]])}else if("C"===N){var Wt=[T[3],T[4]];tt.startTangent=[ht[0]-(Dt=[T[1],T[2]])[0],ht[1]-Dt[1]],tt.endTangent=[A[0]-Wt[0],A[1]-Wt[1]]}else if("S"===N){var Xt,Dt=At((Xt=S[M-1]).currentPoint,ht);Wt=[T[1],T[2]],"C"===Xt.command?(tt.command="C",tt.startTangent=[ht[0]-Dt[0],ht[1]-Dt[1]],tt.endTangent=[A[0]-Wt[0],A[1]-Wt[1]]):(tt.command="SQ",tt.startTangent=[ht[0]-Wt[0],ht[1]-Wt[1]],tt.endTangent=[A[0]-Wt[0],A[1]-Wt[1]])}else if("A"===N){var Gt=.001,Bt=tt.arcParams||{},Jt=Bt.cx,ae=void 0===Jt?0:Jt,le=Bt.cy,Le=void 0===le?0:le,ke=Bt.rx,nr=void 0===ke?0:ke,$e=Bt.ry,fr=void 0===$e?0:$e,Ie=Bt.sweepFlag,vr=Bt.startAngle,Ye=void 0===vr?0:vr,Ve=Bt.endAngle,ir=void 0===Ve?0:Ve;0===(void 0===Ie?0:Ie)&&(Gt*=-1);var _r=nr*Math.cos(Ye-Gt)+ae,Kr=fr*Math.sin(Ye-Gt)+Le;tt.startTangent=[_r-J[0],Kr-J[1]];var pr=nr*Math.cos(Ye+ir+Gt)+ae,tn=fr*Math.sin(Ye+ir-Gt)+Le;tt.endTangent=[ht[0]-pr,ht[1]-tn]}S.push(tt)}return S}function H(C){return Math.abs(C)<1e-6?0:C<0?-1:1}function F(C,S,A){return(A[0]-C[0])*(S[1]-C[1])==(S[0]-C[0])*(A[1]-C[1])&&Math.min(C[0],S[0])<=A[0]&&A[0]<=Math.max(C[0],S[0])&&Math.min(C[1],S[1])<=A[1]&&A[1]<=Math.max(C[1],S[1])}function rt(C,S,A){var I=!1,J=C.length;if(J<=2)return!1;for(var g=0;g<J;g++){var V=C[g],M=C[(g+1)%J];if(F(V,M,[S,A]))return!0;H(V[1]-A)>0!=H(M[1]-A)>0&&H(S-(A-V[1])*(V[0]-M[0])/(V[1]-M[1])-V[0])<0&&(I=!I)}return I}var it=function(C,S,A){return C>=S&&C<=A};function O(C){for(var S=[],A=C.length,I=0;I<A-1;I++){var J=C[I],g=C[I+1];S.push({from:{x:J[0],y:J[1]},to:{x:g[0],y:g[1]}})}if(S.length>1){var V=C[0],M=C[A-1];S.push({from:{x:M[0],y:M[1]},to:{x:V[0],y:V[1]}})}return S}function b(C){var S=C.map(function(I){return I[0]}),A=C.map(function(I){return I[1]});return{minX:Math.min.apply(null,S),maxX:Math.max.apply(null,S),minY:Math.min.apply(null,A),maxY:Math.max.apply(null,A)}}function k(C,S){if(C.length<2||S.length<2)return!1;if(!function(C,S){return!(S.minX>C.maxX||S.maxX<C.minX||S.minY>C.maxY||S.maxY<C.minY)}(b(C),b(S)))return!1;var J=!1;if((0,Rt.S6)(S,function(T){if(rt(C,T[0],T[1]))return J=!0,!1}),J||((0,Rt.S6)(C,function(T){if(rt(S,T[0],T[1]))return J=!0,!1}),J))return!0;var g=O(C),V=O(S),M=!1;return(0,Rt.S6)(V,function(T){if(function(C,S){var A=!1;return(0,Rt.S6)(C,function(I){if(function(C,S,A,I){var g_x=A.x-C.x,g_y=A.y-C.y,V_x=S.x-C.x,V_y=S.y-C.y,M_x=I.x-A.x,M_y=I.y-A.y,T=V_x*M_y-V_y*M_x,mt=null;if(T*T>.001*(V_x*V_x+V_y*V_y)*(M_x*M_x+M_y*M_y)){var gt=(g_x*M_y-g_y*M_x)/T,ht=(g_x*V_y-g_y*V_x)/T;it(gt,0,1)&&it(ht,0,1)&&(mt={x:C.x+gt*V_x,y:C.y+gt*V_y})}return mt}(I.from,I.to,S.from,S.to))return A=!0,!1}),A}(g,T))return M=!0,!1}),M}},4872:(me,Qt,K)=>{"use strict";K.d(Qt,{Ct:()=>Ki,f0:()=>jn,uZ:()=>nr,VS:()=>Il,d9:()=>Jn,FX:()=>pt,Ds:()=>Xi,b$:()=>Oo,e5:()=>ut,S6:()=>Pt,yW:()=>mt,hX:()=>wt,sE:()=>qt,Wx:()=>Ut,ri:()=>fr,xH:()=>jt,U2:()=>qi,rx:()=>At,ru:()=>Gt,vM:()=>Dt,Ms:()=>Wt,wH:()=>uo,YM:()=>g,q9:()=>pt,cq:()=>Ce,kJ:()=>bt,jn:()=>El,J_:()=>Mo,kK:()=>Po,xb:()=>Ir,Xy:()=>Er,mf:()=>zt,UM:()=>_t,Ft:()=>To,hj:()=>Ke,vQ:()=>Cn,Kn:()=>et,PO:()=>Zt,HD:()=>C,o8:()=>Eo,XP:()=>W,Z$:()=>V,vl:()=>fo,UI:()=>nn,Q8:()=>Wi,Fp:()=>Y,HP:()=>Qn,VV:()=>q,CD:()=>jn,wQ:()=>io,ZT:()=>Be,ei:()=>an,u4:()=>b,Od:()=>k,U7:()=>Ui,t8:()=>Fo,dp:()=>Ro,G:()=>ht,ng:()=>vo,P2:()=>ji,qo:()=>$n,c$:()=>lo,BB:()=>Mn,jj:()=>I,EL:()=>gr,jC:()=>go,VO:()=>co,I:()=>J});const Ct=function(E){return null!==E&&"function"!=typeof E&&isFinite(E.length)},pt=function(E,X){return!!Ct(E)&&E.indexOf(X)>-1},wt=function(E,X){if(!Ct(E))return E;for(var $=[],ot=0;ot<E.length;ot++){var ft=E[ot];X(ft,ot)&&$.push(ft)}return $},ut=function(E,X){return void 0===X&&(X=[]),wt(E,function($){return!pt(X,$)})};var Lt={}.toString;const Et=function(E,X){return Lt.call(E)==="[object "+X+"]"},zt=function(E){return Et(E,"Function")},_t=function(E){return null==E},bt=function(E){return Array.isArray?Array.isArray(E):Et(E,"Array")},et=function(E){var X=typeof E;return null!==E&&"object"===X||"function"===X},Pt=function(E,X){if(E)if(bt(E))for(var ot=0,ft=E.length;ot<ft&&!1!==X(E[ot],ot);ot++);else if(et(E))for(var Ht in E)if(E.hasOwnProperty(Ht)&&!1===X(E[Ht],Ht))break},W=Object.keys?function(E){return Object.keys(E)}:function(E){var X=[];return Pt(E,function($,ot){zt(E)&&"prototype"===ot||X.push(ot)}),X},lt=function(E){return"object"==typeof E&&null!==E},Zt=function(E){if(!lt(E)||!Et(E,"Object"))return!1;if(null===Object.getPrototypeOf(E))return!0;for(var X=E;null!==Object.getPrototypeOf(X);)X=Object.getPrototypeOf(X);return Object.getPrototypeOf(E)===X},qt=function(E,X){if(!bt(E))return null;var $;if(zt(X)&&($=X),Zt(X)&&($=function(ft){return function(E,X){var $=W(X),ot=$.length;if(_t(E))return!ot;for(var ft=0;ft<ot;ft+=1){var Ht=$[ft];if(X[Ht]!==E[Ht]||!(Ht in E))return!1}return!0}(ft,X)}),$)for(var ot=0;ot<E.length;ot+=1)if($(E[ot]))return E[ot];return null},Ut=function(E,X){for(var $=null,ot=0;ot<E.length;ot++){var Ht=E[ot][X];if(!_t(Ht)){$=bt(Ht)?Ht[0]:Ht;break}}return $},jt=function(E){if(!bt(E))return[];for(var X=[],$=0;$<E.length;$++)X=X.concat(E[$]);return X},Y=function(E){if(bt(E))return E.reduce(function(X,$){return Math.max(X,$)},E[0])},q=function(E){if(bt(E))return E.reduce(function(X,$){return Math.min(X,$)},E[0])},At=function(E){var X=E.filter(function(re){return!isNaN(re)});if(!X.length)return{min:0,max:0};if(bt(E[0])){for(var $=[],ot=0;ot<E.length;ot++)$=$.concat(E[ot]);X=$}var ft=Y(X);return{min:q(X),max:ft}};var it=Array.prototype.splice;const b=function(E,X,$){if(!bt(E)&&!Zt(E))return E;var ot=$;return Pt(E,function(ft,Ht){ot=X(ot,ft,Ht)}),ot},k=function(E,X){var $=[];if(!Ct(E))return $;for(var ot=-1,ft=[],Ht=E.length;++ot<Ht;){var re=E[ot];X(re,ot,E)&&($.push(re),ft.push(ot))}return function(X,$){if(!Ct(X))return[];for(var ot=X?$.length:0,ft=ot-1;ot--;){var Ht=void 0,re=$[ot];(ot===ft||re!==Ht)&&(Ht=re,it.call(X,re,1))}}(E,ft),$},C=function(E){return Et(E,"String")};function I(E,X){void 0===X&&(X=new Map);var $=[];if(Array.isArray(E))for(var ot=0,ft=E.length;ot<ft;ot++){var Ht=E[ot];X.has(Ht)||($.push(Ht),X.set(Ht,!0))}return $}const J=function(E,X){for(var $=[],ot={},ft=0;ft<E.length;ft++){var re=E[ft][X];if(!_t(re)){bt(re)||(re=[re]);for(var ye=0;ye<re.length;ye++){var dr=re[ye];ot[dr]||($.push(dr),ot[dr]=!0)}}}return $};function g(E){if(Ct(E))return E[0]}function V(E){if(Ct(E))return E[E.length-1]}const mt=function(E,X){for(var $=0;$<E.length;$++)if(!X(E[$],$))return!1;return!0},ht=function(E,X){for(var $=0;$<E.length;$++)if(X(E[$],$))return!0;return!1};var Ot=Object.prototype.hasOwnProperty;const Dt=function(E,X){if(!X||!bt(E))return{};for(var ft,$={},ot=zt(X)?X:function(ye){return ye[X]},Ht=0;Ht<E.length;Ht++){var re=E[Ht];ft=ot(re),Ot.call($,ft)?$[ft].push(re):$[ft]=[re]}return $};function Wt(E,X){if(!X)return{0:E};if(!zt(X)){var $=bt(X)?X:X.replace(/\s+/g,"").split("*");X=function(ot){for(var ft="_",Ht=0,re=$.length;Ht<re;Ht++)ft+=ot[$[Ht]]&&ot[$[Ht]].toString();return ft}}return Dt(E,X)}const Gt=function(E,X){if(!X)return[E];var $=Wt(E,X),ot=[];for(var ft in $)ot.push($[ft]);return ot},nr=function(E,X,$){return E<X?X:E>$?$:E},fr=function(E,X){var $=X.toString(),ot=$.indexOf(".");if(-1===ot)return Math.round(E);var ft=$.substr(ot+1).length;return ft>20&&(ft=20),parseFloat(E.toFixed(ft))},Ke=function(E){return Et(E,"Number")};function Cn(E,X,$){return void 0===$&&($=1e-5),Math.abs(E-X)<$}const io=function(E,X){return(E%X+X)%X};Math,parseInt;var oo=Math.PI/180;const lo=function(E){return oo*E},uo=function(E,X){return E.hasOwnProperty(X)},co=Object.values?function(E){return Object.values(E)}:function(E){var X=[];return Pt(E,function($,ot){zt(E)&&"prototype"===ot||X.push($)}),X},Mn=function(E){return _t(E)?"":E.toString()},fo=function(E){return Mn(E).toLowerCase()},vo=function(E,X){return E&&X?E.replace(/\\?\{([^{}]+)\}/g,function($,ot){return"\\"===$.charAt(0)?$.slice(1):void 0===X[ot]?"":X[ot]}):E},go=function(E){var X=Mn(E);return X.charAt(0).toUpperCase()+X.substring(1)};var mo={}.toString;const El=function(E){return Et(E,"Boolean")},Mo=function(E){return Et(E,"Date")},To=function(E){return null===E};var bo=Object.prototype;const Eo=function(E){return void 0===E},Po=function(E){return E instanceof Element||E instanceof HTMLDocument};function Ui(E){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function($){return setTimeout($,16)})(E)}function Il(E){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(E)}var qn=function(E){if("object"!=typeof E||null===E)return E;var X;if(bt(E)){X=[];for(var $=0,ot=E.length;$<ot;$++)X[$]="object"==typeof E[$]&&null!=E[$]?qn(E[$]):E[$]}else for(var ft in X={},E)X[ft]="object"==typeof E[ft]&&null!=E[ft]?qn(E[ft]):E[ft];return X};const Jn=qn,Xi=function(E,X,$){var ot;return function(){var ft=this,Ht=arguments,re=function(){ot=null,$||E.apply(ft,Ht)},ye=$&&!ot;clearTimeout(ot),ot=setTimeout(re,X),ye&&E.apply(ft,Ht)}},Qn=function(E,X){if(!zt(E))throw new TypeError("Expected a function");var $=function(){for(var ot=[],ft=0;ft<arguments.length;ft++)ot[ft]=arguments[ft];var Ht=X?X.apply(this,ot):ot[0],re=$.cache;if(re.has(Ht))return re.get(Ht);var ye=E.apply(this,ot);return re.set(Ht,ye),ye};return $.cache=new Map,$};function Vi(E,X,$,ot){for(var ft in $=$||0,ot=ot||5,X)if(X.hasOwnProperty(ft)){var Ht=X[ft];null!==Ht&&Zt(Ht)?(Zt(E[ft])||(E[ft]={}),$<ot?Vi(E[ft],Ht,$+1,ot):E[ft]=X[ft]):bt(Ht)?(E[ft]=[],E[ft]=E[ft].concat(Ht)):void 0!==Ht&&(E[ft]=Ht)}}const Oo=function(E){for(var X=[],$=1;$<arguments.length;$++)X[$-1]=arguments[$];for(var ot=0;ot<X.length;ot+=1)Vi(E,X[ot]);return E},Ce=function(E,X){if(!Ct(E))return-1;var $=Array.prototype.indexOf;if($)return $.call(E,X);for(var ot=-1,ft=0;ft<E.length;ft++)if(E[ft]===X){ot=ft;break}return ot};var Ft=Object.prototype.hasOwnProperty;const Ir=function(E){if(_t(E))return!0;if(Ct(E))return!E.length;var X=function(E){return mo.call(E).replace(/^\[object /,"").replace(/]$/,"")}(E);if("Map"===X||"Set"===X)return!E.size;if(function(E){var X=E&&E.constructor;return E===("function"==typeof X&&X.prototype||bo)}(E))return!Object.keys(E).length;for(var $ in E)if(Ft.call(E,$))return!1;return!0};var pe=function(E,X){if(E===X)return!0;if(!E||!X||C(E)||C(X))return!1;if(Ct(E)||Ct(X)){if(E.length!==X.length)return!1;for(var $=!0,ot=0;ot<E.length&&($=pe(E[ot],X[ot]));ot++);return $}if(lt(E)||lt(X)){var ft=Object.keys(E),Ht=Object.keys(X);if(ft.length!==Ht.length)return!1;for($=!0,ot=0;ot<ft.length&&($=pe(E[ft[ot]],X[ft[ot]]));ot++);return $}return!1};const Er=pe,nn=function(E,X){if(!Ct(E))return E;for(var $=[],ot=0;ot<E.length;ot++)$.push(X(E[ot],ot));return $};var ce=function(E){return E};const Wi=function(E,X){void 0===X&&(X=ce);var $={};return et(E)&&!_t(E)&&Object.keys(E).forEach(function(ot){$[ot]=X(E[ot],ot)}),$};function wn(E,X){for(var $ in X)X.hasOwnProperty($)&&"constructor"!==$&&void 0!==X[$]&&(E[$]=X[$])}function jn(E,X,$,ot){return X&&wn(E,X),$&&wn(E,$),ot&&wn(E,ot),E}const qi=function(E,X,$){for(var ot=0,ft=C(X)?X.split("."):X;E&&ot<ft.length;)E=E[ft[ot++]];return void 0===E||ot<ft.length?$:E},Fo=function(E,X,$){var ot=E,ft=C(X)?X.split("."):X;return ft.forEach(function(Ht,re){re<ft.length-1?(et(ot[Ht])||(ot[Ht]=Ke(ft[re+1])?[]:{}),ot=ot[Ht]):ot[Ht]=$}),E};var Ji=Object.prototype.hasOwnProperty;const an=function(E,X){if(null===E||!Zt(E))return{};var $={};return Pt(X,function(ot){Ji.call(E,ot)&&($[ot]=E[ot])}),$},ji=function(E,X,$){var ot,ft,Ht,re,ye=0;$||($={});var dr=function(){ye=!1===$.leading?0:Date.now(),ot=null,re=E.apply(ft,Ht),ot||(ft=Ht=null)},on=function(){var Or=Date.now();!ye&&!1===$.leading&&(ye=Or);var Tn=X-(Or-ye);return ft=this,Ht=arguments,Tn<=0||Tn>X?(ot&&(clearTimeout(ot),ot=null),ye=Or,re=E.apply(ft,Ht),ot||(ft=Ht=null)):!ot&&!1!==$.trailing&&(ot=setTimeout(dr,Tn)),re};return on.cancel=function(){clearTimeout(ot),ye=0,ot=ft=Ht=null},on},$n=function(E){return Ct(E)?Array.prototype.slice.call(E):[]};var Sn={};const gr=function(E){return Sn[E=E||"g"]?Sn[E]+=1:Sn[E]=1,E+Sn[E]},Be=function(){};function Ro(E){return _t(E)?0:Ct(E)?E.length:Object.keys(E).length}const Ki=function(){function E(){this.map={}}return E.prototype.has=function(X){return void 0!==this.map[X]},E.prototype.get=function(X,$){var ot=this.map[X];return void 0===ot?$:ot},E.prototype.set=function(X,$){this.map[X]=$},E.prototype.clear=function(){this.map={}},E.prototype.delete=function(X){delete this.map[X]},E.prototype.size=function(){return Object.keys(this.map).length},E}()},9012:(me,Qt,K)=>{"use strict";function Rt(y){return+y}function Ct(y){return y*y}function Nt(y){return y*(2-y)}function pt(y){return((y*=2)<=1?y*y:--y*(2-y)+1)/2}function St(y){return y*y*y}function wt(y){return--y*y*y+1}function dt(y){return((y*=2)<=1?y*y*y:(y-=2)*y*y+2)/2}K.r(Qt),K.d(Qt,{easeBack:()=>R,easeBackIn:()=>At,easeBackInOut:()=>R,easeBackOut:()=>D,easeBounce:()=>Y,easeBounceIn:()=>_,easeBounceInOut:()=>q,easeBounceOut:()=>Y,easeCircle:()=>nt,easeCircleIn:()=>U,easeCircleInOut:()=>nt,easeCircleOut:()=>Q,easeCubic:()=>dt,easeCubicIn:()=>St,easeCubicInOut:()=>dt,easeCubicOut:()=>wt,easeElastic:()=>ct,easeElasticIn:()=>it,easeElasticInOut:()=>O,easeElasticOut:()=>ct,easeExp:()=>W,easeExpIn:()=>Pt,easeExpInOut:()=>W,easeExpOut:()=>Mt,easeLinear:()=>Rt,easePoly:()=>Et,easePolyIn:()=>Lt,easePolyInOut:()=>Et,easePolyOut:()=>It,easeQuad:()=>pt,easeQuadIn:()=>Ct,easeQuadInOut:()=>pt,easeQuadOut:()=>Nt,easeSin:()=>et,easeSinIn:()=>_t,easeSinInOut:()=>et,easeSinOut:()=>bt});var Lt=function y(b){function B(k){return Math.pow(k,b)}return b=+b,B.exponent=y,B}(3),It=function y(b){function B(k){return 1-Math.pow(1-k,b)}return b=+b,B.exponent=y,B}(3),Et=function y(b){function B(k){return((k*=2)<=1?Math.pow(k,b):2-Math.pow(2-k,b))/2}return b=+b,B.exponent=y,B}(3),zt=Math.PI,h=zt/2;function _t(y){return 1==+y?1:1-Math.cos(y*h)}function bt(y){return Math.sin(y*h)}function et(y){return(1-Math.cos(zt*y))/2}function xt(y){return 1.0009775171065494*(Math.pow(2,-10*y)-.0009765625)}function Pt(y){return xt(1-+y)}function Mt(y){return 1-xt(y)}function W(y){return((y*=2)<=1?xt(1-y):2-xt(y-1))/2}function U(y){return 1-Math.sqrt(1-y*y)}function Q(y){return Math.sqrt(1- --y*y)}function nt(y){return((y*=2)<=1?1-Math.sqrt(1-y*y):Math.sqrt(1-(y-=2)*y)+1)/2}var w=7.5625;function _(y){return 1-Y(1-y)}function Y(y){return(y=+y)<.36363636363636365?w*y*y:y<.7272727272727273?w*(y-=.5454545454545454)*y+.75:y<.9090909090909091?w*(y-=.8181818181818182)*y+.9375:w*(y-=.9545454545454546)*y+.984375}function q(y){return((y*=2)<=1?1-Y(1-y):Y(y-1)+1)/2}var st=1.70158,At=function y(b){function B(k){return(k=+k)*k*(b*(k-1)+k)}return b=+b,B.overshoot=y,B}(st),D=function y(b){function B(k){return--k*k*((k+1)*b+k)+1}return b=+b,B.overshoot=y,B}(st),R=function y(b){function B(k){return((k*=2)<1?k*k*((b+1)*k-b):(k-=2)*k*((b+1)*k+b)+2)/2}return b=+b,B.overshoot=y,B}(st),H=2*Math.PI,it=function y(b,B){var k=Math.asin(1/(b=Math.max(1,b)))*(B/=H);function C(S){return b*xt(- --S)*Math.sin((k-S)/B)}return C.amplitude=function(S){return y(S,B*H)},C.period=function(S){return y(b,S)},C}(1,.3),ct=function y(b,B){var k=Math.asin(1/(b=Math.max(1,b)))*(B/=H);function C(S){return 1-b*xt(S=+S)*Math.sin((S+k)/B)}return C.amplitude=function(S){return y(S,B*H)},C.period=function(S){return y(b,S)},C}(1,.3),O=function y(b,B){var k=Math.asin(1/(b=Math.max(1,b)))*(B/=H);function C(S){return((S=2*S-1)<0?b*xt(-S)*Math.sin((k-S)/B):2-b*xt(S)*Math.sin((k+S)/B))/2}return C.amplitude=function(S){return y(S,B*H)},C.period=function(S){return y(b,S)},C}(1,.3)},1972:(me,Qt,K)=>{"use strict";K.d(Qt,{Z:()=>Nt,M:()=>pt});var Rt=K(634),Ct=K(9881);function Nt(St,wt){return((0,Ct.v)(wt)?Ct.Z:pt)(St,wt)}function pt(St,wt){var Et,dt=wt?wt.length:0,ut=St?Math.min(dt,St.length):0,Lt=new Array(ut),It=new Array(dt);for(Et=0;Et<ut;++Et)Lt[Et]=(0,Rt.Z)(St[Et],wt[Et]);for(;Et<dt;++Et)It[Et]=wt[Et];return function(zt){for(Et=0;Et<ut;++Et)It[Et]=Lt[Et](zt);return It}}},9881:(me,Qt,K)=>{"use strict";function Rt(Nt,pt){pt||(pt=[]);var dt,St=Nt?Math.min(pt.length,Nt.length):0,wt=pt.slice();return function(ut){for(dt=0;dt<St;++dt)wt[dt]=Nt[dt]*(1-ut)+pt[dt]*ut;return wt}}function Ct(Nt){return ArrayBuffer.isView(Nt)&&!(Nt instanceof DataView)}K.d(Qt,{Z:()=>Rt,v:()=>Ct})},634:(me,Qt,K)=>{"use strict";function Rt(M,T,N){M.prototype=T.prototype=N,N.constructor=M}function Ct(M,T){var N=Object.create(M.prototype);for(var tt in T)N[tt]=T[tt];return N}function Nt(){}K.d(Qt,{Z:()=>V});var St=1/.7,wt="\\s*([+-]?\\d+)\\s*",dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lt=/^#([0-9a-f]{3,8})$/,It=new RegExp("^rgb\\("+[wt,wt,wt]+"\\)$"),Et=new RegExp("^rgb\\("+[ut,ut,ut]+"\\)$"),zt=new RegExp("^rgba\\("+[wt,wt,wt,dt]+"\\)$"),h=new RegExp("^rgba\\("+[ut,ut,ut,dt]+"\\)$"),_t=new RegExp("^hsl\\("+[dt,ut,ut]+"\\)$"),bt=new RegExp("^hsla\\("+[dt,ut,ut,dt]+"\\)$"),et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xt(){return this.rgb().formatHex()}function Mt(){return this.rgb().formatRgb()}function W(M){var T,N;return M=(M+"").trim().toLowerCase(),(T=Lt.exec(M))?(N=T[1].length,T=parseInt(T[1],16),6===N?U(T):3===N?new yt(T>>8&15|T>>4&240,T>>4&15|240&T,(15&T)<<4|15&T,1):8===N?Q(T>>24&255,T>>16&255,T>>8&255,(255&T)/255):4===N?Q(T>>12&15|T>>8&240,T>>8&15|T>>4&240,T>>4&15|240&T,((15&T)<<4|15&T)/255):null):(T=It.exec(M))?new yt(T[1],T[2],T[3],1):(T=Et.exec(M))?new yt(255*T[1]/100,255*T[2]/100,255*T[3]/100,1):(T=zt.exec(M))?Q(T[1],T[2],T[3],T[4]):(T=h.exec(M))?Q(255*T[1]/100,255*T[2]/100,255*T[3]/100,T[4]):(T=_t.exec(M))?ne(T[1],T[2]/100,T[3]/100,1):(T=bt.exec(M))?ne(T[1],T[2]/100,T[3]/100,T[4]):et.hasOwnProperty(M)?U(et[M]):"transparent"===M?new yt(NaN,NaN,NaN,0):null}function U(M){return new yt(M>>16&255,M>>8&255,255&M,1)}function Q(M,T,N,tt){return tt<=0&&(M=T=N=NaN),new yt(M,T,N,tt)}function nt(M){return M instanceof Nt||(M=W(M)),M?new yt((M=M.rgb()).r,M.g,M.b,M.opacity):new yt}function lt(M,T,N,tt){return 1===arguments.length?nt(M):new yt(M,T,N,null==tt?1:tt)}function yt(M,T,N,tt){this.r=+M,this.g=+T,this.b=+N,this.opacity=+tt}function Zt(){return"#"+qt(this.r)+qt(this.g)+qt(this.b)}function $t(){var M=this.opacity;return(1===(M=isNaN(M)?1:Math.max(0,Math.min(1,M)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===M?")":", "+M+")")}function qt(M){return((M=Math.max(0,Math.min(255,Math.round(M)||0)))<16?"0":"")+M.toString(16)}function ne(M,T,N,tt){return tt<=0?M=T=N=NaN:N<=0||N>=1?M=T=NaN:T<=0&&(M=NaN),new jt(M,T,N,tt)}function Ut(M){if(M instanceof jt)return new jt(M.h,M.s,M.l,M.opacity);if(M instanceof Nt||(M=W(M)),!M)return new jt;if(M instanceof jt)return M;var T=(M=M.rgb()).r/255,N=M.g/255,tt=M.b/255,vt=Math.min(T,N,tt),mt=Math.max(T,N,tt),gt=NaN,ht=mt-vt,Ot=(mt+vt)/2;return ht?(gt=T===mt?(N-tt)/ht+6*(N<tt):N===mt?(tt-T)/ht+2:(T-N)/ht+4,ht/=Ot<.5?mt+vt:2-mt-vt,gt*=60):ht=Ot>0&&Ot<1?0:gt,new jt(gt,ht,Ot,M.opacity)}function jt(M,T,N,tt){this.h=+M,this.s=+T,this.l=+N,this.opacity=+tt}function w(M,T,N){return 255*(M<60?T+(N-T)*M/60:M<180?N:M<240?T+(N-T)*(240-M)/60:T)}function _(M,T,N,tt,vt){var mt=M*M,gt=mt*M;return((1-3*M+3*mt-gt)*T+(4-6*mt+3*gt)*N+(1+3*M+3*mt-3*gt)*tt+gt*vt)/6}function st(M){return function(){return M}}function F(M,T){var N=T-M;return N?function(M,T){return function(N){return M+N*T}}(M,N):st(isNaN(M)?T:M)}Rt(Nt,W,{copy:function(M){return Object.assign(new this.constructor,this,M)},displayable:function(){return this.rgb().displayable()},hex:xt,formatHex:xt,formatHsl:function(){return Ut(this).formatHsl()},formatRgb:Mt,toString:Mt}),Rt(yt,lt,Ct(Nt,{brighter:function(M){return M=null==M?St:Math.pow(St,M),new yt(this.r*M,this.g*M,this.b*M,this.opacity)},darker:function(M){return M=null==M?.7:Math.pow(.7,M),new yt(this.r*M,this.g*M,this.b*M,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zt,formatHex:Zt,formatRgb:$t,toString:$t})),Rt(jt,function(M,T,N,tt){return 1===arguments.length?Ut(M):new jt(M,T,N,null==tt?1:tt)},Ct(Nt,{brighter:function(M){return M=null==M?St:Math.pow(St,M),new jt(this.h,this.s,this.l*M,this.opacity)},darker:function(M){return M=null==M?.7:Math.pow(.7,M),new jt(this.h,this.s,this.l*M,this.opacity)},rgb:function(){var M=this.h%360+360*(this.h<0),T=isNaN(M)||isNaN(this.s)?0:this.s,N=this.l,tt=N+(N<.5?N:1-N)*T,vt=2*N-tt;return new yt(w(M>=240?M-240:M+120,vt,tt),w(M,vt,tt),w(M<120?M+240:M-120,vt,tt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var M=this.opacity;return(1===(M=isNaN(M)?1:Math.max(0,Math.min(1,M)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===M?")":", "+M+")")}}));const rt=function M(T){var N=function(M){return 1==(M=+M)?F:function(T,N){return N-T?function(M,T,N){return M=Math.pow(M,N),T=Math.pow(T,N)-M,N=1/N,function(tt){return Math.pow(M+tt*T,N)}}(T,N,M):st(isNaN(T)?N:T)}}(T);function tt(vt,mt){var gt=N((vt=lt(vt)).r,(mt=lt(mt)).r),ht=N(vt.g,mt.g),Ot=N(vt.b,mt.b),Xt=F(vt.opacity,mt.opacity);return function(Dt){return vt.r=gt(Dt),vt.g=ht(Dt),vt.b=Ot(Dt),vt.opacity=Xt(Dt),vt+""}}return tt.gamma=M,tt}(1);function it(M){return function(T){var gt,ht,N=T.length,tt=new Array(N),vt=new Array(N),mt=new Array(N);for(gt=0;gt<N;++gt)ht=lt(T[gt]),tt[gt]=ht.r||0,vt[gt]=ht.g||0,mt[gt]=ht.b||0;return tt=M(tt),vt=M(vt),mt=M(mt),ht.opacity=1,function(Ot){return ht.r=tt(Ot),ht.g=vt(Ot),ht.b=mt(Ot),ht+""}}}it(function(M){var T=M.length-1;return function(N){var tt=N<=0?N=0:N>=1?(N=1,T-1):Math.floor(N*T),vt=M[tt],mt=M[tt+1];return _((N-tt/T)*T,tt>0?M[tt-1]:2*vt-mt,vt,mt,tt<T-1?M[tt+2]:2*mt-vt)}}),it(function(M){var T=M.length;return function(N){var tt=Math.floor(((N%=1)<0?++N:N)*T);return _((N-tt/T)*T,M[(tt+T-1)%T],M[tt%T],M[(tt+1)%T],M[(tt+2)%T])}});var y=K(1972);function b(M,T){var N=new Date;return M=+M,T=+T,function(tt){return N.setTime(M*(1-tt)+T*tt),N}}function B(M,T){return M=+M,T=+T,function(N){return M*(1-N)+T*N}}function k(M,T){var vt,N={},tt={};for(vt in(null===M||"object"!=typeof M)&&(M={}),(null===T||"object"!=typeof T)&&(T={}),T)vt in M?N[vt]=V(M[vt],T[vt]):tt[vt]=T[vt];return function(mt){for(vt in N)tt[vt]=N[vt](mt);return tt}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S=new RegExp(C.source,"g");function J(M,T){var tt,vt,mt,N=C.lastIndex=S.lastIndex=0,gt=-1,ht=[],Ot=[];for(M+="",T+="";(tt=C.exec(M))&&(vt=S.exec(T));)(mt=vt.index)>N&&(mt=T.slice(N,mt),ht[gt]?ht[gt]+=mt:ht[++gt]=mt),(tt=tt[0])===(vt=vt[0])?ht[gt]?ht[gt]+=vt:ht[++gt]=vt:(ht[++gt]=null,Ot.push({i:gt,x:B(tt,vt)})),N=S.lastIndex;return N<T.length&&(mt=T.slice(N),ht[gt]?ht[gt]+=mt:ht[++gt]=mt),ht.length<2?Ot[0]?function(M){return function(T){return M(T)+""}}(Ot[0].x):function(M){return function(){return M}}(T):(T=Ot.length,function(Xt){for(var Wt,Dt=0;Dt<T;++Dt)ht[(Wt=Ot[Dt]).i]=Wt.x(Xt);return ht.join("")})}var g=K(9881);function V(M,T){var tt,N=typeof T;return null==T||"boolean"===N?st(T):("number"===N?B:"string"===N?(tt=W(T))?(T=tt,rt):J:T instanceof W?rt:T instanceof Date?b:(0,g.v)(T)?g.Z:Array.isArray(T)?y.M:"function"!=typeof T.valueOf&&"function"!=typeof T.toString||isNaN(T)?k:B)(M,T)}},4729:(me,Qt,K)=>{"use strict";K.d(Qt,{HT:()=>bt});var St,wt,Rt=0,Ct=0,Nt=0,dt=0,ut=0,Lt=0,It="object"==typeof performance&&performance.now?performance:Date,Et="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function zt(){return ut||(Et(h),ut=It.now()+Lt)}function h(){ut=0}function _t(){this._call=this._time=this._next=null}function bt(U,Q,nt){var lt=new _t;return lt.restart(U,Q,nt),lt}function xt(){ut=(dt=It.now())+Lt,Rt=Ct=0;try{!function(){zt(),++Rt;for(var Q,U=St;U;)(Q=ut-U._time)>=0&&U._call.call(null,Q),U=U._next;--Rt}()}finally{Rt=0,function(){for(var U,nt,Q=St,lt=1/0;Q;)Q._call?(lt>Q._time&&(lt=Q._time),U=Q,Q=Q._next):(nt=Q._next,Q._next=null,Q=U?U._next=nt:St=nt);wt=U,W(lt)}(),ut=0}}function Pt(){var U=It.now(),Q=U-dt;Q>1e3&&(Lt-=Q,dt=U)}function W(U){Rt||(Ct&&(Ct=clearTimeout(Ct)),U-ut>24?(U<1/0&&(Ct=setTimeout(xt,U-It.now()-Lt)),Nt&&(Nt=clearInterval(Nt))):(Nt||(dt=It.now(),Nt=setInterval(Pt,1e3)),Rt=1,Et(xt)))}_t.prototype=bt.prototype={constructor:_t,restart:function(U,Q,nt){if("function"!=typeof U)throw new TypeError("callback is not a function");nt=(null==nt?zt():+nt)+(null==Q?0:+Q),!this._next&&wt!==this&&(wt?wt._next=this:St=this,wt=this),this._call=U,this._time=nt,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}}},7057:(me,Qt,K)=>{"use strict";K.d(Qt,{qY:()=>zt});var Ct=function(W,U,Q){this.name=W,this.version=U,this.os=Q,this.type="browser"},Nt=function(W){this.version=W,this.type="node",this.name="node",this.os=process.platform},pt=function(W,U,Q,nt){this.name=W,this.version=U,this.os=Q,this.bot=nt,this.type="bot-device"},St=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},wt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ut=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,It=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Et=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function zt(Mt){return Mt?bt(Mt):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new wt:"undefined"!=typeof navigator?bt(navigator.userAgent):"undefined"!=typeof process&&process.version?new Nt(process.version.slice(1)):null}function bt(Mt){var W=function(Mt){return""!==Mt&&It.reduce(function(W,U){var Q=U[0];if(W)return W;var lt=U[1].exec(Mt);return!!lt&&[Q,lt]},!1)}(Mt);if(!W)return null;var U=W[0],Q=W[1];if("searchbot"===U)return new St;var nt=Q[1]&&Q[1].split(/[._]/).slice(0,3);nt?nt.length<3&&(nt=function(){for(var Mt=0,W=0,U=arguments.length;W<U;W++)Mt+=arguments[W].length;var Q=Array(Mt),nt=0;for(W=0;W<U;W++)for(var lt=arguments[W],yt=0,Zt=lt.length;yt<Zt;yt++,nt++)Q[nt]=lt[yt];return Q}(nt,function(Mt){for(var W=[],U=0;U<Mt;U++)W.push("0");return W}(3-nt.length))):nt=[];var lt=nt.join("."),yt=function(Mt){for(var W=0,U=Et.length;W<U;W++){var Q=Et[W],nt=Q[0];if(Q[1].exec(Mt))return nt}return null}(Mt),Zt=ut.exec(Mt);return Zt&&Zt[1]?new pt(U,lt,yt,Zt[1]):new Ct(U,lt,yt)}},4563:(me,Qt,K)=>{"use strict";K.d(Qt,{WT:()=>Ct});var Ct="undefined"!=typeof Float32Array?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var ut=0,Lt=arguments.length;Lt--;)ut+=arguments[Lt]*arguments[Lt];return Math.sqrt(ut)})},1790:(me,Qt,K)=>{"use strict";function Lt(w,_){var Y=_[0],q=_[1],st=_[2],At=_[3],D=_[4],R=_[5],H=_[6],F=_[7],rt=_[8],it=rt*D-R*F,ct=-rt*At+R*H,O=F*At-D*H,y=Y*it+q*ct+st*O;return y?(w[0]=it*(y=1/y),w[1]=(-rt*q+st*F)*y,w[2]=(R*q-st*D)*y,w[3]=ct*y,w[4]=(rt*Y-st*H)*y,w[5]=(-R*Y+st*At)*y,w[6]=O*y,w[7]=(-F*Y+q*H)*y,w[8]=(D*Y-q*At)*y,w):null}function zt(w,_,Y){var q=_[0],st=_[1],At=_[2],D=_[3],R=_[4],H=_[5],F=_[6],rt=_[7],it=_[8],ct=Y[0],O=Y[1],y=Y[2],b=Y[3],B=Y[4],k=Y[5],C=Y[6],S=Y[7],A=Y[8];return w[0]=ct*q+O*D+y*F,w[1]=ct*st+O*R+y*rt,w[2]=ct*At+O*H+y*it,w[3]=b*q+B*D+k*F,w[4]=b*st+B*R+k*rt,w[5]=b*At+B*H+k*it,w[6]=C*q+S*D+A*F,w[7]=C*st+S*R+A*rt,w[8]=C*At+S*H+A*it,w}function et(w,_){return w[0]=1,w[1]=0,w[2]=0,w[3]=0,w[4]=1,w[5]=0,w[6]=_[0],w[7]=_[1],w[8]=1,w}function xt(w,_){var Y=Math.sin(_),q=Math.cos(_);return w[0]=q,w[1]=Y,w[2]=0,w[3]=-Y,w[4]=q,w[5]=0,w[6]=0,w[7]=0,w[8]=1,w}function Pt(w,_){return w[0]=_[0],w[1]=0,w[2]=0,w[3]=0,w[4]=_[1],w[5]=0,w[6]=0,w[7]=0,w[8]=1,w}K.d(Qt,{U_:()=>Lt,Jp:()=>zt,vc:()=>et,Us:()=>xt,xJ:()=>Pt})},5886:(me,Qt,K)=>{"use strict";K.d(Qt,{IH:()=>dt,$X:()=>ut,VV:()=>h,Fp:()=>_t,bA:()=>et,TE:()=>Pt,kE:()=>W,Fv:()=>lt,AK:()=>yt,kK:()=>ee,EU:()=>_,I6:()=>st,lu:()=>R});var Rt=K(4563);function dt(y,b,B){return y[0]=b[0]+B[0],y[1]=b[1]+B[1],y}function ut(y,b,B){return y[0]=b[0]-B[0],y[1]=b[1]-B[1],y}function h(y,b,B){return y[0]=Math.min(b[0],B[0]),y[1]=Math.min(b[1],B[1]),y}function _t(y,b,B){return y[0]=Math.max(b[0],B[0]),y[1]=Math.max(b[1],B[1]),y}function et(y,b,B){return y[0]=b[0]*B,y[1]=b[1]*B,y}function Pt(y,b){return Math.hypot(b[0]-y[0],b[1]-y[1])}function W(y){return Math.hypot(y[0],y[1])}function lt(y,b){var B=b[0],k=b[1],C=B*B+k*k;return C>0&&(C=1/Math.sqrt(C)),y[0]=b[0]*C,y[1]=b[1]*C,y}function yt(y,b){return y[0]*b[0]+y[1]*b[1]}function ee(y,b,B){var k=b[0],C=b[1];return y[0]=B[0]*k+B[3]*C+B[6],y[1]=B[1]*k+B[4]*C+B[7],y}function _(y,b){var B=y[0],k=y[1],C=b[0],S=b[1],A=Math.sqrt(B*B+k*k)*Math.sqrt(C*C+S*S);return Math.acos(Math.min(Math.max(A&&(B*C+k*S)/A,-1),1))}function st(y,b){return y[0]===b[0]&&y[1]===b[1]}var R=ut;(function(){var y=new Rt.WT(2);Rt.WT!=Float32Array&&(y[0]=0,y[1]=0)})()},5259:(me,Qt,K)=>{"use strict";K.r(Qt),K.d(Qt,{DashboardModule:()=>aS});var Rt={};K.r(Rt),K.d(Rt,{assign:()=>Rr,default:()=>su,defaultI18n:()=>Uo,format:()=>au,parse:()=>ou,setGlobalDateI18n:()=>jl,setGlobalDateMasks:()=>iu});var Ct={};K.r(Ct),K.d(Ct,{Arc:()=>Pd,DataMarker:()=>Fd,DataRegion:()=>zd,Html:()=>Jd,Image:()=>Od,Line:()=>Ad,Region:()=>kd,RegionFilter:()=>Yd,Shape:()=>Hd,Text:()=>Ed});var Nt={};K.r(Nt),K.d(Nt,{ellipsisHead:()=>$d,ellipsisMiddle:()=>Kd,ellipsisTail:()=>mh,getDefault:()=>jd});var pt={};K.r(pt),K.d(pt,{equidistance:()=>Ch,equidistanceWithReverseBoth:()=>o0,getDefault:()=>e0,reserveBoth:()=>a0,reserveFirst:()=>r0,reserveLast:()=>n0});var St={};K.r(St),K.d(St,{fixedAngle:()=>wh,getDefault:()=>l0,unfixedAngle:()=>u0});var wt={};K.r(wt),K.d(wt,{autoEllipsis:()=>Nt,autoHide:()=>pt,autoRotate:()=>St});var dt={};K.r(dt),K.d(dt,{Base:()=>hs,Circle:()=>m0,Html:()=>C0,Line:()=>Sh});var ut={};K.r(ut),K.d(ut,{CONTAINER_CLASS:()=>En,CROSSHAIR_X:()=>ps,CROSSHAIR_Y:()=>gs,LIST_CLASS:()=>yi,LIST_ITEM_CLASS:()=>wa,MARKER_CLASS:()=>Sa,NAME_CLASS:()=>_h,TITLE_CLASS:()=>Bn,VALUE_CLASS:()=>Ta});var Lt={};K.r(Lt),K.d(Lt,{Base:()=>hr,Circle:()=>cx,Ellipse:()=>vx,Image:()=>gx,Line:()=>mx,Marker:()=>Cx,Path:()=>Xs,Polygon:()=>Bx,Polyline:()=>Lx,Rect:()=>Dx,Text:()=>Rx});var It={};K.r(It),K.d(It,{Canvas:()=>Yx,Group:()=>Ns,Shape:()=>Lt,getArcParams:()=>za,version:()=>Gx});var Et={};K.r(Et),K.d(Et,{Base:()=>rr,Circle:()=>Wx,Dom:()=>Jx,Ellipse:()=>jx,Image:()=>Kx,Line:()=>e1,Marker:()=>n1,Path:()=>o1,Polygon:()=>l1,Polyline:()=>h1,Rect:()=>g1,Text:()=>C1});var zt={};K.r(zt),K.d(zt,{Canvas:()=>G1,Group:()=>Ws,Shape:()=>Et,version:()=>H1});var h=K(7716),_t=K(2100),bt=K(1172),et=K(8583);function xt(n,r){if(1&n&&(h.ynx(0),h._UZ(1,"span",2),h.BQk()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("innerHTML",t.i.text,h.oJD)}}function Pt(n,r){1&n&&h.GkF(0)}const Mt=function(n){return{$implicit:n}};var W=(()=>{return(n=W||(W={}))[n.ing=0]="ing",n[n.pause=1]="pause",n[n.stop=2]="stop",n[n.done=3]="done",W;var n})();let U=(()=>{class n{constructor(t){this.ngZone=t,this.fns=[],this.commands=[],this.nextTime=0,this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const e=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*e;for(let i=0,a=this.fns.length;i<a;i+=2){let o=this.fns[i+1];if(0===o)this.fns[i](e);else{o+=2*e-1;const s=Math.floor(o/20);s>0&&this.fns[i](s),this.fns[i+1]=o%20+1}}!this.ing||setTimeout(()=>this.process(),t)}add(t,e){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===e?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const e=this.fns.indexOf(t);-1!==e&&this.fns.splice(e,2),this.ing=this.fns.length>0}),this}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Q=(()=>{class n{constructor(t){this.locale=t,this.demand=!1,this.leftTime=0,this.format="HH:mm:ss",this.timezone="+0000",this.formatDate=({date:e,formatStr:i,timezone:a})=>(0,et.p6)(new Date(e),i,this.locale,a||this.timezone||"+0000")}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({factory:function(){return new n(h.LFG(h.soG))},token:n,providedIn:"root"}),n})(),nt=(()=>{class n{constructor(t,e,i,a,o){this.locale=t,this.timer=e,this.defCog=i,this.cdr=a,this.ngZone=o,this.frequency=1e3,this._notify={},this.status=W.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new h.vpe}set config(t){null!=t.notify&&!Array.isArray(t.notify)&&t.notify>0&&(t.notify=[t.notify]),this._config=t}get config(){return this._config}begin(){this.status=W.ing,this.callEvent("start")}restart(){this.status!==W.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==W.stop&&(this.status=W.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===W.stop||this.status===W.pause||(this.status=W.pause,this.callEvent("pause"))}resume(){this.status===W.stop||this.status!==W.pause||(this.status=W.ing,this.callEvent("resume"))}callEvent(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}init(){const{locale:t,defCog:e}=this,i=this.config=Object.assign(Object.assign(Object.assign({},new Q(t)),e),this.config),a=this.frequency=~i.format.indexOf("S")?100:1e3;this.status=i.demand?W.pause:W.ing,this.getLeft();const o=this.reflow;this.reflow=(s=0,l=!1)=>o.apply(this,[s,l]),Array.isArray(i.notify)&&i.notify.forEach(s=>{if(s<1)throw new Error("The notify config must be a positive integer.");s*=1e3,this._notify[s-=s%a]=!0}),this.timer.add(this.reflow,a).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(t=0,e=!1){if(this.isDestroy)return;const{status:i,config:a,_notify:o}=this;if(!e&&i!==W.ing)return;let s=this.left=this.left-this.frequency*t;s<1&&(s=0),this.i={value:s,text:a.formatDate({date:s,formatStr:a.format,timezone:a.timezone})},"function"==typeof a.prettyText&&(this.i.text=a.prettyText(this.i.text)),this.cdr.detectChanges(),(0===a.notify||o[s])&&this.ngZone.run(()=>{this.callEvent("notify")}),0===s&&this.ngZone.run(()=>{this.status=W.done,this.destroy(),this.callEvent("done")})}getLeft(){const{config:t,frequency:e}=this;let i=1e3*t.leftTime;const a=t.stopTime;!i&&a&&(i=a-(new Date).getTime()),this.left=i-i%e}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(t){t.config.firstChange||this.restart()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG),h.Y36(U),h.Y36(Q),h.Y36(h.sBO),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["countdown"]],hostVars:2,hostBindings:function(t,e){2&t&&h.ekj("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[h.TTD],decls:2,vars:5,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(h.YNc(0,xt,2,1,"ng-container",0),h.YNc(1,Pt,1,0,"ng-container",1)),2&t&&(h.Q6J("ngIf",!e.render),h.xp6(1),h.Q6J("ngTemplateOutlet",e.render)("ngTemplateOutletContext",h.VKq(3,Mt,e.i)))},directives:[et.O5,et.tP],encapsulation:2,changeDetection:0}),n})(),lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[U],imports:[[et.ez]]}),n})();const yt=["cd"];function Zt(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"countdown",1,2),h.NdJ("event",function(i){return h.CHM(t),h.oxw().handleEvent(i)}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("config",t.config)}}let $t=(()=>{class n{constructor(){this.event=new h.vpe}set target(t){this.config={format:"HH:mm:ss",stopTime:"number"==typeof t?(0,_t.Z)(new Date,t).valueOf():+(0,bt.Z)(t,"t")}}handleEvent(t){this.event.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["count-down"]],viewQuery:function(t,e){if(1&t&&h.Gf(yt,5),2&t){let i;h.iGM(i=h.CRH())&&(e.instance=i.first)}},inputs:{target:"target",config:"config"},outputs:{event:"event"},exportAs:["countDown"],decls:1,vars:1,consts:[[3,"config","event",4,"ngIf"],[3,"config","event"],["cd",""]],template:function(t,e){1&t&&h.YNc(0,Zt,2,1,"countdown",0),2&t&&h.Q6J("ngIf",e.config)},directives:[et.O5,nt],encapsulation:2,changeDetection:0}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,lt]]}),n})();var Ut=K(3630),ee=K(4453),jt=K(641),w=K(8178),_=K(8381),Y=K(521),q=K(4514);let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,Ut.lD,_.$6,w.T,ee.sL,jt.g]]}),n})();var g=K(4762),V=K(6587),M=K(464);let mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,M.PV,w.T]]}),n})();var gt=K(5170),Ot=(K(6782),K(5435)),Xt=K(4395),Dt=K(4086),Wt=K(6790);let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,w.T,Wt.H0]]}),n})();var ke=K(3873);function nr(n,r){1&n&&h._UZ(0,"nz-skeleton")}let $e=(()=>{class n extends Dt.$4{constructor(){super(...arguments),this.color="#2f9cff",this.padding=[10,10,30,10]}install(){window.G2.registerShape("point","pointer",{draw(l,u){const f=u.addGroup({}),v=this.parsePoint({x:0,y:0});return f.addShape("line",{attrs:{x1:v.x,y1:v.y,x2:l.x,y2:l.y,stroke:l.color,lineWidth:2.5,lineCap:"round"}}),f.addShape("circle",{attrs:{x:v.x,y:v.y,r:5.75,stroke:l.color,lineWidth:2,fill:"#fff"}}),f}});const{el:t,height:e,padding:i,format:a,theme:o}=this,s=this._chart=new window.G2.Chart({container:t.nativeElement,autoFit:!0,height:e,padding:i,theme:o});s.legend(!1),s.animate(!1),s.tooltip(!1),s.coordinate("polar",{startAngle:-9/8*Math.PI,endAngle:1/8*Math.PI,radius:.75}),s.scale("value",{min:0,max:100,nice:!0,tickCount:6}),s.axis("1",!1),s.axis("value",{line:null,label:{offset:-14,formatter:a},tickLine:null,grid:null}),s.point().position("value*1").shape("pointer"),this.changeData(),s.render()}changeData(){const{_chart:t,percent:e,color:i,bgColor:a,title:o}=this;if(!t)return;const s=[{name:o,value:e}],l=s[0].value;t.annotation().clear(!0),t.geometries[0].color(i),t.annotation().arc({top:!1,start:[0,.95],end:[100,.95],style:{stroke:a,lineWidth:12,lineDash:null}}),t.annotation().arc({start:[0,.95],end:[s[0].value,.95],style:{stroke:i,lineWidth:12,lineDash:null}}),t.annotation().text({position:["50%","85%"],content:o,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.43)",textAlign:"center"}}),t.annotation().text({position:["50%","90%"],content:`${l} %`,style:{fontSize:20,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center"},offsetY:15}),t.changeData(s)}}return n.\u0275fac=function(){let r;return function(e){return(r||(r=h.n5z(n)))(e||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["g2-gauge"]],hostVars:2,hostBindings:function(t,e){2&t&&h.ekj("g2-gauge",!0)},inputs:{color:"color",padding:"padding",title:"title",height:"height",bgColor:"bgColor",format:"format",percent:"percent"},exportAs:["g2Gauge"],features:[h.qOj],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&h.YNc(0,nr,1,0,"nz-skeleton",0),2&t&&h.Q6J("ngIf",!e.loaded)},directives:[et.O5,Wt.ng],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.Rn)()],n.prototype,"height",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"percent",void 0),n})(),Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,Wt.H0]]}),n})();var Ke=K(1938),vr=K(4458),Ye=K(7420);let tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,Ut.lD,Ye.cg]]}),n})();function xn(n,r){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.title)}}function Cn(n,r){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,xn,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.title)}}function ar(n,r){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.subTitle)}}function Yi(n,r){if(1&n&&(h.TgZ(0,"div",8),h.YNc(1,ar,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.subTitle)}}function Xn(n,r){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.total)}}function Vn(n,r){if(1&n&&(h.TgZ(0,"em",9),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.suffix)}}function en(n,r){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.subTotal)}}function Gi(n,r){if(1&n&&h._UZ(0,"i",12),2&n){const t=h.oxw(2);h.MGl("nzType","caret-",t.status,"")}}function Wn(n,r){if(1&n&&(h.TgZ(0,"span",10),h.YNc(1,en,2,1,"ng-container",4),h.YNc(2,Gi,1,1,"i",11),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.subTotal),h.xp6(1),h.Q6J("ngIf",t.status)}}const io=function(n){return{"margin-top.px":n}};let Hi=(()=>{class n{constructor(){this.theme="light",this.gap=8}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["number-info"]],hostVars:6,hostBindings:function(t,e){2&t&&h.ekj("number-info",!0)("number-info__light","light"===e.theme)("number-info__default","default"===e.theme)},inputs:{theme:"theme",gap:"gap",title:"title",subTitle:"subTitle",total:"total",subTotal:"subTotal",suffix:"suffix",status:"status"},exportAs:["numberInfo"],decls:7,vars:8,consts:[["class","number-info__title",4,"ngIf"],["class","number-info__title-sub",4,"ngIf"],[1,"number-info__value",3,"ngStyle"],[1,"number-info__value-text"],[4,"nzStringTemplateOutlet"],["class","number-info__value-suffix",4,"ngIf"],["class","number-info__value-text number-info__value-sub",4,"ngIf"],[1,"number-info__title"],[1,"number-info__title-sub"],[1,"number-info__value-suffix"],[1,"number-info__value-text","number-info__value-sub"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,e){1&t&&(h.YNc(0,Cn,2,1,"div",0),h.YNc(1,Yi,2,1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"span",3),h.YNc(4,Xn,2,1,"ng-container",4),h.YNc(5,Vn,2,1,"em",5),h.qZA(),h.YNc(6,Wn,3,2,"span",6),h.qZA()),2&t&&(h.Q6J("ngIf",e.title),h.xp6(1),h.Q6J("ngIf",e.subTitle),h.xp6(1),h.Q6J("ngStyle",h.VKq(6,io,e.gap)),h.xp6(2),h.Q6J("nzStringTemplateOutlet",e.total),h.xp6(1),h.Q6J("ngIf",e.suffix),h.xp6(1),h.Q6J("ngIf",e.status||e.subTotal))},directives:[et.O5,et.PC,w.f,M.Ls],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.Rn)()],n.prototype,"gap",void 0),n})(),wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,M.PV,w.T]]}),n})();var ao=K(3385);function oo(n,r){1&n&&h._UZ(0,"nz-skeleton")}function so(n,r){if(1&n&&(h.ynx(0),h._UZ(1,"div",10),h.BQk()),2&n){const t=h.oxw(3);h.xp6(1),h.Q6J("innerHTML",t.subTitle,h.oJD)}}function lo(n,r){if(1&n&&(h.TgZ(0,"h4",8),h.YNc(1,so,2,1,"ng-container",9),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.subTitle)}}function Sl(n,r){if(1&n&&(h.ynx(0),h._UZ(1,"div",10),h.BQk()),2&n){const t=h.oxw(3);h.xp6(1),h.Q6J("innerHTML",t.total,h.oJD)}}function Tl(n,r){if(1&n&&(h.TgZ(0,"div",11),h.YNc(1,Sl,2,1,"ng-container",9),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.total)}}function uo(n,r){if(1&n&&(h.TgZ(0,"div",5),h.YNc(1,lo,2,1,"h4",6),h.YNc(2,Tl,2,1,"div",7),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.subTitle),h.xp6(1),h.Q6J("ngIf",t.total)}}const ho=function(n){return{"background-color":n}};function co(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"li",14),h.NdJ("click",function(){const a=h.CHM(t).index;return h.oxw(2)._click(a)}),h._UZ(1,"span",15),h.TgZ(2,"span",16),h._uU(3),h.qZA(),h._UZ(4,"nz-divider",17),h.TgZ(5,"span",18),h._uU(6),h.qZA(),h._UZ(7,"span",19),h.qZA()}if(2&n){const t=r.$implicit,e=h.oxw(2);h.xp6(1),h.Q6J("ngStyle",h.VKq(4,ho,t.checked?t.color:"#aaa")),h.xp6(2),h.Oqu(t.x),h.xp6(3),h.hij("",t.percent,"%"),h.xp6(1),h.Q6J("innerHTML",e.valueFormat?e.valueFormat(t.y):t.y,h.oJD)}}function bl(n,r){if(1&n&&(h.TgZ(0,"ul",12),h.YNc(1,co,8,6,"li",13),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.legendData)}}let Mn=(()=>{class n extends Dt.$4{constructor(){super(...arguments),this.legendData=[],this.animate=!0,this.color="rgba(24, 144, 255, 0.85)",this.height=0,this.hasLegend=!1,this.inner=.75,this.padding=[12,0,12,0],this.tooltip=!0,this.lineWidth=0,this.blockMaxWidth=380,this.select=!0,this.data=[],this.interaction="none",this.ratio={text:"\u5360\u6bd4",inverse:"\u53cd\u6bd4",color:"",inverseColor:"#F0F2F5"},this.clickItem=new h.vpe}get block(){return this.hasLegend&&this.el.nativeElement.clientWidth<=this.blockMaxWidth}fixData(){const{percent:t,color:e}=this;if(this.isPercent=null!=t,!this.isPercent)return;this.select=!1,this.tooltip=!1;const{text:i,inverse:a,color:o,inverseColor:s}=this.ratio;this.percentColor=l=>l===i?o||e:s,this.data=[{x:i,y:t},{x:a,y:100-t}]}install(){const{node:t,height:e,padding:i,tooltip:a,inner:o,hasLegend:s,interaction:l,theme:u,animate:f,lineWidth:v,isPercent:p,percentColor:d,colors:m}=this,x=this._chart=new window.G2.Chart({container:t.nativeElement,autoFit:!0,height:e,padding:i,theme:u});x.animate(f),x.tooltip(!!a&&{showTitle:!1,showMarkers:!1}),"none"!==l&&x.interaction(l),x.axis(!1).legend(!1).coordinate("theta",{innerRadius:o}),x.filter("x",(P,L)=>!1!==L.checked),x.interval().adjust("stack").position("y").style({lineWidth:v,stroke:"#fff"}).color("x",p?d:m).tooltip("x*percent",(P,L)=>({name:P,value:`${s?L:(100*L).toFixed(2)} %`})).state({}),x.scale({x:{type:"cat",range:[0,1]}}),x.on("interval:click",P=>{this.ngZone.run(()=>{var L;return this.clickItem.emit({item:null===(L=P.data)||void 0===L?void 0:L.data,ev:P})})}),this.changeData(),x.render()}changeData(){const{_chart:t,data:e}=this;if(!t||!Array.isArray(e)||e.length<=0)return;const i=e.reduce((a,o)=>a+o.y,0);for(const a of e)a.percent=0===i?0:a.y/i;t.changeData(e),this.ngZone.run(()=>this.genLegend())}genLegend(){const{hasLegend:t,isPercent:e,cdr:i,_chart:a}=this;!t||e||(this.legendData=a.geometries[0].dataArray.map(o=>{const s=o[0]._origin;return s.color=o[0].color,s.checked=!0,s.percent=(100*s.percent).toFixed(2),s}),i.detectChanges())}_click(t){const{legendData:e,_chart:i}=this;e[t].checked=!e[t].checked,i.render(!0)}onChanges(){this.fixData()}}return n.\u0275fac=function(){let r;return function(e){return(r||(r=h.n5z(n)))(e||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["g2-pie"]],hostVars:8,hostBindings:function(t,e){2&t&&h.ekj("g2-pie",!0)("g2-pie__legend-has",e.hasLegend)("g2-pie__legend-block",e.block)("g2-pie__mini",e.isPercent)},inputs:{animate:"animate",color:"color",height:"height",hasLegend:"hasLegend",inner:"inner",padding:"padding",tooltip:"tooltip",lineWidth:"lineWidth",blockMaxWidth:"blockMaxWidth",select:"select",data:"data",interaction:"interaction",ratio:"ratio",subTitle:"subTitle",total:"total",percent:"percent",valueFormat:"valueFormat",colors:"colors"},outputs:{clickItem:"clickItem"},exportAs:["g2Pie"],features:[h.qOj],decls:6,vars:3,consts:[[4,"ngIf"],[1,"g2-pie__chart"],["container",""],["class","g2-pie__total",4,"ngIf"],["class","g2-pie__legend",4,"ngIf"],[1,"g2-pie__total"],["class","g2-pie__total-title",4,"ngIf"],["class","g2-pie__total-stat",4,"ngIf"],[1,"g2-pie__total-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],[1,"g2-pie__total-stat"],[1,"g2-pie__legend"],["class","g2-pie__legend-item",3,"click",4,"ngFor","ngForOf"],[1,"g2-pie__legend-item",3,"click"],[1,"g2-pie__legend-dot",3,"ngStyle"],[1,"g2-pie__legend-title"],["nzType","vertical"],[1,"g2-pie__legend-percent"],[1,"g2-pie__legend-value",3,"innerHTML"]],template:function(t,e){1&t&&(h.YNc(0,oo,1,0,"nz-skeleton",0),h.TgZ(1,"div",1),h._UZ(2,"div",null,2),h.YNc(4,uo,3,2,"div",3),h.qZA(),h.YNc(5,bl,2,1,"ul",4)),2&t&&(h.Q6J("ngIf",!e.loaded),h.xp6(4),h.Q6J("ngIf",e.subTitle||e.total),h.xp6(1),h.Q6J("ngIf",e.hasLegend&&(null==e.legendData?null:e.legendData.length)))},directives:[et.O5,Wt.ng,w.f,et.sg,et.PC,ao.g],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.yF)()],n.prototype,"animate",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"height",void 0),(0,g.gn)([(0,V.yF)()],n.prototype,"hasLegend",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"percent",void 0),(0,g.gn)([(0,V.yF)()],n.prototype,"tooltip",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"lineWidth",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"blockMaxWidth",void 0),(0,g.gn)([(0,V.yF)()],n.prototype,"select",void 0),n})(),fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,ao.S,w.T,Wt.H0]]}),n})();var or=K(6704);function vo(n,r){1&n&&h._UZ(0,"nz-skeleton")}function po(n,r){if(1&n&&(h.ynx(0),h.TgZ(1,"h4"),h._uU(2),h.qZA(),h.BQk()),2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.title)}}const go=function(n){return{"background-color":n}};function mo(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"div",6),h.NdJ("click",function(){const a=h.CHM(t).index;return h.oxw(2)._click(a)}),h._UZ(1,"i",7),h._uU(2),h.TgZ(3,"h6",8),h._uU(4),h.qZA(),h.qZA()}if(2&n){const t=r.$implicit,e=h.oxw(2);h.Q6J("nzSpan",24/e.legendData.length),h.xp6(1),h.Q6J("ngStyle",h.VKq(4,go,t.checked?t.color:"#aaa")),h.xp6(1),h.hij(" ",t.name," "),h.xp6(2),h.Oqu(t.value)}}function yo(n,r){if(1&n&&(h.TgZ(0,"div",4),h.YNc(1,mo,5,6,"div",5),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.legendData)}}let Ni=(()=>{class n extends Dt.$4{constructor(){super(...arguments),this.legendData=[],this.height=0,this.padding=[44,30,16,30],this.hasLegend=!0,this.tickCount=4,this.data=[],this.colors=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"],this.clickItem=new h.vpe}getHeight(){return this.height-(this.hasLegend?80:22)}install(){const{node:t,padding:e,theme:i,tickCount:a}=this,o=this._chart=new window.G2.Chart({container:t.nativeElement,autoFit:!0,height:this.getHeight(),padding:e,theme:i});o.coordinate("polar"),o.legend(!1),o.axis("label",{line:null,label:{offset:8},grid:{line:{style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),o.axis("value",{grid:{line:{type:"polygon",style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),o.scale({value:{min:0,tickCount:a}}),o.filter("name",s=>{const l=this.legendData.find(u=>u.name===s);return!l||!1!==l.checked}),o.line().position("label*value").color("name",this.colors),o.point().position("label*value").shape("circle").size(3),o.on("point:click",s=>{this.ngZone.run(()=>{var l;return this.clickItem.emit({item:null===(l=s.data)||void 0===l?void 0:l.data,ev:s})})}),this.changeData(),o.render()}changeData(){const{_chart:t,data:e}=this;!t||!Array.isArray(e)||e.length<=0||(t.changeData(e),this.ngZone.run(()=>this.genLegend()))}genLegend(){const{hasLegend:t,cdr:e,_chart:i}=this;!t||(this.legendData=i.geometries[0].dataArray.map(a=>({name:a[0]._origin.name,color:a[0].color,checked:!0,value:a.reduce((l,u)=>l+u._origin.value,0)})),e.detectChanges())}_click(t){const{legendData:e,_chart:i}=this;e[t].checked=!e[t].checked,i.render(!0)}onChanges(){this.legendData.forEach(t=>t.checked=!0)}}return n.\u0275fac=function(){let r;return function(e){return(r||(r=h.n5z(n)))(e||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["g2-radar"]],hostVars:4,hostBindings:function(t,e){2&t&&(h.Udp("height",e.height,"px"),h.ekj("g2-radar",!0))},inputs:{height:"height",padding:"padding",hasLegend:"hasLegend",tickCount:"tickCount",data:"data",colors:"colors",title:"title"},outputs:{clickItem:"clickItem"},exportAs:["g2Radar"],features:[h.qOj],decls:5,vars:3,consts:[[4,"ngIf"],[4,"nzStringTemplateOutlet"],["container",""],["nz-row","","class","g2-radar__legend",4,"ngIf"],["nz-row","",1,"g2-radar__legend"],["nz-col","","class","g2-radar__legend-item",3,"nzSpan","click",4,"ngFor","ngForOf"],["nz-col","",1,"g2-radar__legend-item",3,"nzSpan","click"],[1,"g2-radar__legend-dot",3,"ngStyle"],[1,"g2-radar__legend-title"]],template:function(t,e){1&t&&(h.YNc(0,vo,1,0,"nz-skeleton",0),h.YNc(1,po,3,1,"ng-container",1),h._UZ(2,"div",null,2),h.YNc(4,yo,2,1,"div",3)),2&t&&(h.Q6J("ngIf",!e.loaded),h.xp6(1),h.Q6J("nzStringTemplateOutlet",e.title),h.xp6(3),h.Q6J("ngIf",e.hasLegend))},directives:[et.O5,w.f,Wt.ng,or.SK,et.sg,or.t3,et.PC],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.Rn)()],n.prototype,"height",void 0),(0,g.gn)([(0,V.yF)()],n.prototype,"hasLegend",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"tickCount",void 0),n})(),_l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,or.Jb,w.T,Wt.H0]]}),n})(),Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez]]}),n})();function Mo(n,r){1&n&&h._UZ(0,"nz-skeleton")}let wo=(()=>{class n extends Dt.$4{constructor(){super(...arguments),this.width=0,this.height=200,this.padding=0,this.data=[],this.clickItem=new h.vpe}initTagCloud(){window.G2.registerShape("point","cloud",{draw(t,e){const i=t.data,a=e.addShape({type:"text",name:"tag-cloud-text",attrs:Object.assign(Object.assign({},t.style),{fontSize:i.size,text:i.text,textAlign:"center",fontFamily:i.font,fill:t.color,textBaseline:"Alphabetic",x:t.x,y:t.y})});return i.rotate&&window.G2.Util.rotate(a,i.rotate*Math.PI/180),a}})}install(){this.initTagCloud();const{el:t,padding:e,theme:i}=this;0===this.height&&(this.height=this.el.nativeElement.clientHeight),0===this.width&&(this.width=this.el.nativeElement.clientWidth);const a=this._chart=new window.G2.Chart({container:t.nativeElement,autoFit:!1,padding:e,height:this.height,width:this.width,theme:i});a.scale({x:{nice:!1},y:{nice:!1}}),a.legend(!1),a.axis(!1),a.tooltip({showTitle:!1,showMarkers:!1}),a.coordinate().reflect(),a.point().position("x*y").color("text").shape("cloud").state({active:{style:{fillOpacity:.4}}}),a.interaction("element-active"),a.on("tag-cloud-text:click",o=>{this.ngZone.run(()=>{var s;return this.clickItem.emit({item:null===(s=o.data)||void 0===s?void 0:s.data,ev:o})})}),this.changeData(),a.render()}changeData(){const{_chart:t,data:e}=this;if(!t||!Array.isArray(e)||e.length<=0)return;const i=(new window.DataSet.View).source(e),a=i.range("value"),o=a[0],s=a[1];i.transform({type:"tag-cloud",fields:["name","value"],font:"Verdana",size:[this.width,this.height],padding:0,timeInterval:5e3,rotate(){let l=~~(4*Math.random())%4;return 2===l&&(l=0),90*l},fontSize:l=>(l.value-o)/(s-o)*24+8}),t.changeData(i.rows)}installResizeEvent(){this.resize$=(0,gt.R)(window,"resize").pipe((0,Ot.h)(()=>!!this._chart),(0,Xt.b)(200)).subscribe(()=>this.changeData())}onInit(){this.installResizeEvent()}}return n.\u0275fac=function(){let r;return function(e){return(r||(r=h.n5z(n)))(e||n)}}(),n.\u0275cmp=h.Xpm({type:n,selectors:[["g2-tag-cloud"]],inputs:{width:"width",height:"height",padding:"padding",data:"data"},outputs:{clickItem:"clickItem"},exportAs:["g2TagCloud"],features:[h.qOj],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&h.YNc(0,Mo,1,0,"nz-skeleton",0),2&t&&h.Q6J("ngIf",!e.loaded)},directives:[et.O5,Wt.ng],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.Rn)()],n.prototype,"width",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"height",void 0),n})(),Bl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,Wt.H0]]}),n})();var So=K(7586);let Ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,M.PV]]}),n})();const kl=["container"];function _o(n,r){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.title)}}function Eo(n,r){if(1&n&&(h.TgZ(0,"span",6),h.YNc(1,_o,2,1,"ng-container",7),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.title)}}const Bo=function(n,r){return{"height.px":n,"width.px":r,overflow:"hidden"}},Po=function(n){return{"width.px":n}};let Ui=(()=>{class n{constructor(t,e,i,a,o){this.el=t,this.renderer=e,this.ngZone=i,this.cdr=a,this.platform=o,this.resize$=null,this.animate=!0,this.delay=0,this.color="#1890FF",this.height=160}renderChart(t){if(!this.resize$)return;this.updateRadio();const{percent:e,color:i,node:a,animate:o}=this,s=Math.min(Math.max(e/100,0),100),l=this;cancelAnimationFrame(this.timer);const u=a.nativeElement,f=u.getContext("2d"),v=u.width,p=u.height,d=v/2,x=d-2;f.beginPath(),f.lineWidth=4;const P=v-2,L=P/8;let z=0;const G=.2;let j=G,at=0;const Tt=o?.005:.015;let kt=[];const Yt=d-2,Vt=-Math.PI/2;let Kt=!0;for(let ue=Vt;ue<Vt+2*Math.PI;ue+=1/(8*Math.PI))kt.push([d+Yt*Math.cos(ue),d+Yt*Math.sin(ue)]);const te=kt.shift();f.strokeStyle=i,f.moveTo(te[0],te[1]),function we(){if(f.clearRect(0,0,v,p),Kt&&!t)if(kt.length)if(o){const ue=kt.shift();f.lineTo(ue[0],ue[1]),f.stroke()}else{for(const ue of kt)f.lineTo(ue[0],ue[1]),f.stroke();kt=[]}else Kt=!1,f.lineTo(te[0],te[1]),f.stroke(),kt=null,f.globalCompositeOperation="destination-over",f.beginPath(),f.lineWidth=2,f.arc(d,d,Yt,0,2*Math.PI,!0),f.beginPath(),f.save(),f.arc(d,d,d-6,0,2*Math.PI,!0),f.restore(),f.clip(),f.fillStyle=i;else s>=.85?j>G/4&&(j-=.002):s<=.1?j<1.5*G&&(j+=.002):(j<=G&&(j+=.002),j>=G&&(j-=.002)),s-at>0&&(at+=Tt),s-at<0&&(at-=Tt),z+=.07,function(){f.beginPath(),f.save();const ue=[];for(let Me=2;Me<=2+P;Me+=20/P){const Qr=Math.sin(z+(2+Me)/L)*j,je=Me,jr=2*x*(1-at)+(d-x)-L*Qr;f.lineTo(je,jr),ue.push([je,jr])}const Qe=ue.shift();f.lineTo(2+P,p),f.lineTo(2,p),f.lineTo(Qe[0],Qe[1]);const Ze=f.createLinearGradient(0,0,0,p);Ze.addColorStop(0,"#ffffff"),Ze.addColorStop(1,i),f.fillStyle=Ze,f.fill(),f.restore()}();l.timer=requestAnimationFrame(we)}()}updateRadio(){const{offsetWidth:t}=this.el.nativeElement.parentNode;this.renderer.setStyle(this.el.nativeElement,"transform",`scale(${t<this.height?t/this.height:1})`)}render(){this.renderChart(!1)}installResizeEvent(){this.resize$=(0,gt.R)(window,"resize").pipe((0,Xt.b)(200)).subscribe(()=>this.updateRadio())}ngOnInit(){!this.platform.isBrowser||(this.installResizeEvent(),this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.render(),this.delay)))}ngOnChanges(){this.ngZone.runOutsideAngular(()=>this.renderChart(!0)),this.cdr.detectChanges()}ngOnDestroy(){this.timer&&cancelAnimationFrame(this.timer),this.resize$&&this.resize$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(Y.t4))},n.\u0275cmp=h.Xpm({type:n,selectors:[["g2-water-wave"]],viewQuery:function(t,e){if(1&t&&h.Gf(kl,7),2&t){let i;h.iGM(i=h.CRH())&&(e.node=i.first)}},hostVars:2,hostBindings:function(t,e){2&t&&h.ekj("g2-water-wave",!0)},inputs:{animate:"animate",delay:"delay",color:"color",height:"height",title:"title",percent:"percent"},exportAs:["g2WaterWave"],features:[h.TTD],decls:7,vars:11,consts:[[3,"ngStyle"],[1,"g2-water-wave__canvas",3,"width","height"],["container",""],[1,"g2-water-wave__desc",3,"ngStyle"],["class","g2-water-wave__desc-title",4,"ngIf"],[1,"g2-water-wave__desc-percent"],[1,"g2-water-wave__desc-title"],[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"canvas",1,2),h.qZA(),h.TgZ(3,"div",3),h.YNc(4,Eo,2,1,"span",4),h.TgZ(5,"h4",5),h._uU(6),h.qZA(),h.qZA()),2&t&&(h.Q6J("ngStyle",h.WLB(6,Bo,e.height,e.height)),h.xp6(1),h.s9C("width",2*e.height),h.s9C("height",2*e.height),h.xp6(2),h.Q6J("ngStyle",h.VKq(9,Po,e.height)),h.xp6(1),h.Q6J("ngIf",e.title),h.xp6(2),h.hij("",e.percent,"%"))},directives:[et.PC,et.O5,w.f],encapsulation:2,changeDetection:0}),(0,g.gn)([(0,V.yF)()],n.prototype,"animate",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"delay",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"height",void 0),(0,g.gn)([(0,V.Rn)()],n.prototype,"percent",void 0),n})(),Ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[et.ez,w.T]]}),n})();var Lo=K(2080),qn=K(7482),Jn=K(8058),ko=K(5917);let Xi=(()=>{class n{constructor(t,e,i,a){this.http=t,this.msg=e,this.i18n=i,this.cdr=a,this.data={},this.loading=!0,this.date_range=[],this.rankingListData=Array(7).fill({}).map((o,s)=>({title:this.i18n.fanyi("app.analysis.test",{no:s}),total:323234})),this.titleMap={y1:this.i18n.fanyi("app.analysis.traffic"),y2:this.i18n.fanyi("app.analysis.payments")},this.searchColumn=[{title:{text:"\u6392\u540d",i18n:"app.analysis.table.rank"},index:"index"},{title:{text:"\u641c\u7d22\u5173\u952e\u8bcd",i18n:"app.analysis.table.search-keyword"},index:"keyword",click:o=>this.msg.success(o.keyword)},{type:"number",title:{text:"\u7528\u6237\u6570",i18n:"app.analysis.table.users"},index:"count",sort:{compare:(o,s)=>o.count-s.count}},{type:"number",title:{text:"\u5468\u6da8\u5e45",i18n:"app.analysis.table.weekly-range"},index:"range",render:"range",sort:{compare:(o,s)=>o.range-s.range}}],this.salesType="all",this.salesTotal=0,this.saleTabs=[{key:"sales",show:!0},{key:"visits"}],this.offlineIdx=0}ngOnInit(){}setDate(t){this.date_range=(0,qn.wb)(t),setTimeout(()=>this.cdr.detectChanges())}changeSaleType(){this.salesPieData="all"===this.salesType?this.data.salesTypeData:"online"===this.salesType?this.data.salesTypeDataOnline:this.data.salesTypeDataOffline,this.salesPieData&&(this.salesTotal=this.salesPieData.reduce((t,e)=>e.y+t,0)),this.cdr.detectChanges()}handlePieValueFormat(t){return(0,Lo.c2)(t)}salesChange(t){!0!==this.saleTabs[t].show&&(this.saleTabs[t].show=!0,this.cdr.detectChanges())}offlineChange(t){!0!==this.data.offlineData[t].show&&(this.data.offlineData[t].show=!0,this.cdr.detectChanges())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ut.lP),h.Y36(Jn.dD),h.Y36(ko.t$),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard-analysis"]],decls:0,vars:0,template:function(t,e){},styles:['[_nghost-%COMP%]     .icon-group i{margin-left:16px;color:#00000073;cursor:pointer;transition:color .32s}[_nghost-%COMP%]     .icon-group i:hover{color:#000000d9}[_nghost-%COMP%]     .rank-list{margin:25px 0 0;padding:0;list-style:none}[_nghost-%COMP%]     .rank-list li{display:flex;align-items:center;margin-top:16px}[_nghost-%COMP%]     .rank-list li:before{display:table;content:""}[_nghost-%COMP%]     .rank-list li:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .rank-list li span{font-size:14px;line-height:22px}[_nghost-%COMP%]     .rank-list li .number{display:inline-block;width:20px;height:20px;margin-top:1.5px;margin-right:16px;font-weight:600;font-size:12px;line-height:20px;text-align:center;background-color:#f5f5f5;border-radius:20px}[_nghost-%COMP%]     .rank-list li .number.active{color:#fff;background-color:#314659}[_nghost-%COMP%]     .rank-list li .title{flex:1;margin-right:8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]     .sales-extra{display:inline-block;margin-right:24px}[_nghost-%COMP%]     .sales-extra a{margin-left:24px}[_nghost-%COMP%]     .sales-extra a:hover{color:#1890ff}[_nghost-%COMP%]     .sales-extra a.currentDate{color:#1890ff}[_nghost-%COMP%]     .sales-card .bar{padding:0 0 32px 32px}[_nghost-%COMP%]     .sales-card .rank{padding:0 32px 32px 72px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar{padding-left:16px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar .ant-tabs-nav .ant-tabs-tab{padding-top:16px;padding-bottom:14px;line-height:24px}[_nghost-%COMP%]     .sales-card .ant-tabs-extra-content{padding-right:24px;line-height:55px}[_nghost-%COMP%]     .sales-card .ant-card-head{position:relative}[_nghost-%COMP%]     .sales-card .ant-card-head-title{align-items:normal}[_nghost-%COMP%]     .offline-card .ant-tabs-ink-bar{bottom:auto}[_nghost-%COMP%]     .offline-card .ant-tabs-bar{border-bottom:none}[_nghost-%COMP%]     .offline-card .ant-tabs-nav-container-scrolling{padding-right:40px;padding-left:40px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-prev-icon:before{position:relative;left:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-next-icon:before{position:relative;right:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-active h4{color:#1890ff}[_nghost-%COMP%]     .trend-text{margin-left:8px;color:#000000d9}@media screen and (max-width: 992px){[_nghost-%COMP%]     .sales-extra{display:none}[_nghost-%COMP%]     .rank-list li span:first-child{margin-right:8px}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .rank-title{margin-top:16px}[_nghost-%COMP%]     .sales-card .bar{padding:16px}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .sales-extra-wrap{display:none}[_nghost-%COMP%]     .sales-card .ant-tabs-content{padding-top:30px}}[_nghost-%COMP%]     .ant-table-pagination{margin-bottom:0}[_nghost-%COMP%]     .g2-pie__legend-block .g2-pie__chart{margin:0}'],changeDetection:0}),n})();var Qn=K(3423),kr=K(7018);function Vi(n,r){1&n&&h._UZ(0,"count-down",28),2&n&&h.Q6J("target",30)}function Io(n,r){if(1&n&&(h.TgZ(0,"div",29),h._UZ(1,"number-info",30),h._UZ(2,"g2-mini-area",31),h.TgZ(3,"div",32),h.TgZ(4,"p"),h._uU(5),h.qZA(),h.TgZ(6,"p"),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"div",33),h.TgZ(9,"span"),h._uU(10,"00:00"),h.qZA(),h.TgZ(11,"span"),h._uU(12),h.qZA(),h.TgZ(13,"span"),h._uU(14),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw();h.xp6(2),h.Q6J("animate",!1)("borderWidth",2)("height",84)("padding",0)("data",t.activeData),h.xp6(3),h.hij("",t.activeStat.max," \u4ebf\u5143"),h.xp6(2),h.hij("",t.activeStat.min," \u4ebf\u5143"),h.xp6(5),h.Oqu(t.activeStat.t1),h.xp6(2),h.Oqu(t.activeStat.t2)}}function Oo(n,r){if(1&n&&(h._UZ(0,"g2-gauge",34),h.ALo(1,"i18n")),2&n){const t=h.oxw();h.Q6J("title",h.lcZ(1,4,"app.monitor.ratio"))("height",180)("percent",t.percent)("format",t.couponFormat)}}const Dl=function(){return{"text-align":"center"}};let Do=(()=>{class n{constructor(t,e,i){this.http=t,this.msg=e,this.cdr=i,this.data={},this.tags=[],this.loading=!0,this.q={start:null,end:null},this.percent=null,this.activeStat={max:0,min:0,t1:"",t2:""}}ngOnInit(){}refData(){const t=[];for(let e=0;e<24;e+=1)t.push({x:`${e.toString().padStart(2,"0")}:00`,y:50*e+Math.floor(200*Math.random())});this.activeData=t,this.activeStat.max=[...t].sort()[t.length-1].y+200,this.activeStat.min=[...t].sort()[Math.floor(t.length/2)].y,this.activeStat.t1=t[Math.floor(t.length/2)].x,this.activeStat.t2=t[t.length-1].x,this.percent=Math.floor(100*Math.random()),this.cdr.detectChanges()}couponFormat(t){switch(parseInt(t,10)){case 20:return"\u5dee";case 40:return"\u4e2d";case 60:return"\u826f";case 80:return"\u4f18";default:return""}}ngOnDestroy(){this.activeTime$&&clearInterval(this.activeTime$)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ut.lP),h.Y36(Jn.dD),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard-monitor"]],decls:53,vars:80,consts:[["nz-row","",1,"pt-lg",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","18"],[1,"mb-lg",3,"nzTitle","nzBordered"],["nz-row",""],["nz-col","","nzXs","24","nzSm","12","nzMd","6"],["suffix","\u5143",3,"subTitle","total"],[3,"subTitle","total"],["lastTotalTime",""],["total","234","suffix","\u5143",3,"subTitle"],[1,"map-chart"],["nz-tooltip","","nzTooltipPlacement","top","src","https://gw.alipayobjects.com/zos/rmsportal/HBWnDEUXCnGnGrRfrpKa.png","alt","map",3,"nzTooltipTitle"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","6"],["class","active-chart",4,"ngIf"],[1,"mb-lg",3,"nzTitle","nzBordered","nzBodyStyle"],[3,"title","height","percent","format",4,"ngIf"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12",1,"mb-lg"],[1,"pie-card",3,"nzTitle","nzBordered"],["nz-row","",2,"padding","16px 0",3,"nzGutter"],["nz-col","",3,"nzSpan"],["total","28%",3,"animate","percent","subTitle","height","lineWidth"],["color","#5DDECF","total","22%",3,"animate","percent","subTitle","height","lineWidth"],["color","#2FC25B","total","32%",3,"animate","percent","subTitle","height","lineWidth"],["nz-col","","nzXs","24","nzSm","24","nzLg","6",1,"mb-lg"],[3,"nzTitle","nzBordered"],[3,"data","height"],[1,"text-center"],[3,"title","percent","height"],[3,"target"],[1,"active-chart"],["subTitle","\u76ee\u6807\u8bc4\u4f30","total","\u6709\u671b\u8fbe\u5230\u9884\u671f"],["line","",3,"animate","borderWidth","height","padding","data"],[1,"active-grid"],[1,"active-legend"],[3,"title","height","percent","format"]],template:function(t,e){if(1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"nz-card",2),h.ALo(3,"i18n"),h.TgZ(4,"div",3),h.TgZ(5,"div",4),h._UZ(6,"number-info",5),h.ALo(7,"i18n"),h.qZA(),h.TgZ(8,"div",4),h._UZ(9,"number-info",6),h.ALo(10,"i18n"),h.qZA(),h.TgZ(11,"div",4),h.TgZ(12,"number-info",6),h.ALo(13,"i18n"),h.YNc(14,Vi,1,1,"ng-template",null,7,h.W1O),h.qZA(),h.qZA(),h.TgZ(16,"div",4),h._UZ(17,"number-info",8),h.ALo(18,"i18n"),h.qZA(),h.qZA(),h.TgZ(19,"div",9),h._UZ(20,"img",10),h.ALo(21,"i18n"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(22,"div",11),h.TgZ(23,"nz-card",2),h.ALo(24,"i18n"),h.YNc(25,Io,15,9,"div",12),h.qZA(),h.TgZ(26,"nz-card",13),h.ALo(27,"i18n"),h.YNc(28,Oo,2,6,"g2-gauge",14),h.qZA(),h.qZA(),h.qZA(),h.TgZ(29,"div",15),h.TgZ(30,"div",16),h.TgZ(31,"nz-card",17),h.ALo(32,"i18n"),h.TgZ(33,"div",18),h.TgZ(34,"div",19),h._UZ(35,"g2-pie",20),h.ALo(36,"i18n"),h.qZA(),h.TgZ(37,"div",19),h._UZ(38,"g2-pie",21),h.ALo(39,"i18n"),h.qZA(),h.TgZ(40,"div",19),h._UZ(41,"g2-pie",22),h.ALo(42,"i18n"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(43,"div",23),h.TgZ(44,"nz-card",24),h.ALo(45,"i18n"),h._UZ(46,"g2-tag-cloud",25),h.qZA(),h.qZA(),h.TgZ(47,"div",23),h.TgZ(48,"nz-card",24),h.ALo(49,"i18n"),h.TgZ(50,"div",26),h._UZ(51,"g2-water-wave",27),h.ALo(52,"i18n"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){const i=h.MAs(15);h.Q6J("nzGutter",24),h.xp6(2),h.Q6J("nzTitle",h.lcZ(3,49,"app.monitor.trading-activity"))("nzBordered",!1),h.xp6(4),h.Q6J("subTitle",h.lcZ(7,51,"app.monitor.total-transactions"))("total","124,543,233"),h.xp6(3),h.Q6J("subTitle",h.lcZ(10,53,"app.monitor.sales-target"))("total","92%"),h.xp6(3),h.Q6J("subTitle",h.lcZ(13,55,"app.monitor.remaining-time"))("total",i),h.xp6(5),h.Q6J("subTitle",h.lcZ(18,57,"app.monitor.total-transactions-per-second")),h.xp6(3),h.Q6J("nzTooltipTitle",h.lcZ(21,59,"app.monitor.waiting-for-implementation")),h.xp6(3),h.Q6J("nzTitle",h.lcZ(24,61,"app.monitor.activity-forecast"))("nzBordered",!1),h.xp6(2),h.Q6J("ngIf",e.activeData),h.xp6(1),h.Q6J("nzTitle",h.lcZ(27,63,"app.monitor.efficiency"))("nzBordered",!1)("nzBodyStyle",h.DdM(79,Dl)),h.xp6(2),h.Q6J("ngIf",e.percent),h.xp6(1),h.Q6J("nzGutter",24),h.xp6(2),h.Q6J("nzTitle",h.lcZ(32,65,"app.monitor.proportion-per-category"))("nzBordered",!1),h.xp6(2),h.Q6J("nzGutter",4),h.xp6(1),h.Q6J("nzSpan",8),h.xp6(1),h.Q6J("animate",!1)("percent",28)("subTitle",h.lcZ(36,67,"app.monitor.fast-food"))("height",128)("lineWidth",2),h.xp6(2),h.Q6J("nzSpan",8),h.xp6(1),h.Q6J("animate",!1)("percent",22)("subTitle",h.lcZ(39,69,"app.monitor.western-food"))("height",128)("lineWidth",2),h.xp6(2),h.Q6J("nzSpan",8),h.xp6(1),h.Q6J("animate",!1)("percent",32)("subTitle",h.lcZ(42,71,"app.monitor.hot-pot"))("height",128)("lineWidth",2),h.xp6(3),h.Q6J("nzTitle",h.lcZ(45,73,"app.monitor.popular-searches"))("nzBordered",!1),h.xp6(2),h.Q6J("data",e.tags)("height",165),h.xp6(2),h.Q6J("nzTitle",h.lcZ(49,75,"app.monitor.resource-surplus"))("nzBordered",!1),h.xp6(3),h.Q6J("title",h.lcZ(52,77,"app.monitor.fund-surplus"))("percent",34)("height",165)}},directives:[or.SK,or.t3,kr.bd,Hi,Ye.SY,et.O5,Mn,wo,Ui,$t,Ke.D,$e],pipes:[Ut.w5],styles:["[_nghost-%COMP%]     .map-chart{height:457px;padding-top:24px;text-align:center}[_nghost-%COMP%]     .map-chart img{display:inline-block;max-width:100%;max-height:437px}[_nghost-%COMP%]     .pie-card .pie-stat{font-size:24px!important}[_nghost-%COMP%]     .active-chart{position:relative}[_nghost-%COMP%]     .active-chart g2-mini-area{margin-top:32px}[_nghost-%COMP%]     .active-chart .active-grid p{position:absolute;top:80px;width:100%;padding-bottom:4px;border-bottom:1px dashed #e9e9e9}[_nghost-%COMP%]     .active-chart .active-grid p:last-child{top:115px}[_nghost-%COMP%]     .active-chart .active-legend{position:relative;height:20px;margin-top:8px;font-size:0;line-height:20px}[_nghost-%COMP%]     .active-chart .active-legend span{display:inline-block;width:33.33%;font-size:12px;text-align:center}[_nghost-%COMP%]     .active-chart .active-legend span:first-child{text-align:left}[_nghost-%COMP%]     .active-chart .active-legend span:last-child{text-align:right}@media screen and (max-width: 992px){[_nghost-%COMP%]     .map-chart{height:auto}}"],changeDetection:0}),n})();var an,Qi,ji,$n,c=K(4872),Ce=(()=>{return(n=Ce||(Ce={})).FORE="fore",n.MID="mid",n.BG="bg",Ce;var n})(),Ft=(()=>{return(n=Ft||(Ft={})).TOP="top",n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.RIGHT="right",n.RIGHT_TOP="right-top",n.RIGHT_BOTTOM="right-bottom",n.LEFT="left",n.LEFT_TOP="left-top",n.LEFT_BOTTOM="left-bottom",n.BOTTOM="bottom",n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n.RADIUS="radius",n.CIRCLE="circle",n.NONE="none",Ft;var n})(),be=(()=>{return(n=be||(be={})).AXIS="axis",n.GRID="grid",n.LEGEND="legend",n.TOOLTIP="tooltip",n.ANNOTATION="annotation",n.SLIDER="slider",n.SCROLLBAR="scrollbar",n.OTHER="other",be;var n})(),pe=(()=>{return(n=pe||(pe={})).BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_PAINT="beforepaint",n.AFTER_PAINT="afterpaint",n.BEFORE_CHANGE_DATA="beforechangedata",n.AFTER_CHANGE_DATA="afterchangedata",n.BEFORE_CLEAR="beforeclear",n.AFTER_CLEAR="afterclear",n.BEFORE_DESTROY="beforedestroy",n.BEFORE_CHANGE_SIZE="beforechangesize",n.AFTER_CHANGE_SIZE="afterchangesize",pe;var n})(),Er=(()=>{return(n=Er||(Er={})).BEFORE_DRAW_ANIMATE="beforeanimate",n.AFTER_DRAW_ANIMATE="afteranimate",Er;var n})(),Fe=(()=>{return(n=Fe||(Fe={})).MOUSE_ENTER="plot:mouseenter",n.MOUSE_DOWN="plot:mousedown",n.MOUSE_MOVE="plot:mousemove",n.MOUSE_UP="plot:mouseup",n.MOUSE_LEAVE="plot:mouseleave",n.TOUCH_START="plot:touchstart",n.TOUCH_MOVE="plot:touchmove",n.TOUCH_END="plot:touchend",n.TOUCH_CANCEL="plot:touchcancel",n.CLICK="plot:click",n.DBLCLICK="plot:dblclick",n.CONTEXTMENU="plot:contextmenu",n.LEAVE="plot:leave",n.ENTER="plot:enter",Fe;var n})(),rn=(()=>{return(n=rn||(rn={})).ACTIVE="active",n.INACTIVE="inactive",n.SELECTED="selected",n.DEFAULT="default",rn;var n})(),nn=["color","shape","size"],ce="_origin",qi={};function Ji(n,r){qi[n]=r}function gr(n){an||(an=document.createElement("table"),Qi=document.createElement("tr"),ji=/^\s*<(\w+|!)[^>]*>/,$n={tr:document.createElement("tbody"),tbody:an,thead:an,tfoot:an,td:Qi,th:Qi,"*":document.createElement("div")});var r=ji.test(n)&&RegExp.$1;(!r||!(r in $n))&&(r="*");var t=$n[r];n=n.replace(/(^\s*)|(\s*$)/g,""),t.innerHTML=""+n;var e=t.childNodes[0];return t.removeChild(e),e}function Be(n,r){if(n)for(var t in r)r.hasOwnProperty(t)&&(n.style[t]=r[t]);return n}function $i(n){return"number"==typeof n&&!isNaN(n)}function Ki(n,r,t,e){var i=t,a=e;if(r){var o=function(n){var r=getComputedStyle(n);return{width:(n.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(n.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}(n);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max($i(i)?i:1,1),height:Math.max($i(a)?a:1,1)}}var X=K(7208);const ot=function(n){function r(t){var e=n.call(this)||this;e.destroyed=!1;var i=t.visible;return e.visible=void 0===i||i,e}return(0,g.ZT)(r,n),r.prototype.show=function(){this.visible||this.changeVisible(!0)},r.prototype.hide=function(){this.visible&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(X.Z);var ft=K(8086);const Or=function(){function n(r){var t=r.xField,e=r.yField,i=r.adjustNames;this.adjustNames=void 0===i?["x","y"]:i,this.xField=t,this.yField=e}return n.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},n.prototype.getAdjustRange=function(r,t,e){var s,l,i=this.yField,a=e.indexOf(t),o=e.length;return!i&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[0===a?0:a-1],l=e[a===o-1?o-1:a+1],0!==a?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=0===t?0:t-.5,l=0===t?1:t+.5),{pre:s,next:l}},n.prototype.adjustData=function(r,t){var e=this,i=this.getDimValues(t);c.S6(r,function(a,o){c.S6(i,function(s,l){e.adjustDim(l,s,a,o)})})},n.prototype.groupData=function(r,t){return c.S6(r,function(e){void 0===e[t]&&(e[t]=0)}),c.vM(r,t)},n.prototype.adjustDim=function(r,t,e,i){},n.prototype.getDimValues=function(r){var e=this.xField,i=this.yField,a={},o=[];return e&&this.isAdjust("x")&&o.push(e),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(l){a[l]=c.I(r,l).sort(function(u,f){return u-f})}),!i&&this.isAdjust("y")&&(a.y=[0,1]),a},n}();var Tn={},Fl=function(n){return Tn[n.toLowerCase()]},ta=function(n,r){if(Fl(n))throw new Error("Adjust type '"+n+"' existed.");Tn[n.toLowerCase()]=r},zo=function(n,r){return(zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(n,r)};function ea(n,r){function t(){this.constructor=n}zo(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var mr=function(){return(mr=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r}).apply(this,arguments)};const pv=function(n){function r(t){var e=n.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,o=t.dodgeRatio,s=void 0===o?.5:o,l=t.dodgeBy,u=t.intervalPadding,f=t.dodgePadding,v=t.xDimensionLength,p=t.groupNum,d=t.defaultSize,m=t.maxColumnWidth,x=t.minColumnWidth,P=t.columnWidthRatio;return e.marginRatio=void 0===i?.5:i,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=f,e.xDimensionLegenth=v,e.groupNum=p,e.defaultSize=d,e.maxColumnWidth=m,e.minColumnWidth=x,e.columnWidthRatio=P,e}return ea(r,n),r.prototype.process=function(t){var e=c.d9(t),i=c.xH(e),a=this.dodgeBy,o=a?c.ru(i,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,i,a){var o=this,s=this.getDistribution(t),l=this.groupData(i,t);return c.S6(l,function(u,f){var v;v=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,parseFloat(f),e),c.S6(u,function(p){var m=s[p[t]],x=m.indexOf(a);p[t]=o.getDodgeOffset(v,x,m.length)})}),[]},r.prototype.getDodgeOffset=function(t,e,i){var d,a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,f=t.pre,v=t.next,p=v-f;if(!c.UM(l)&&c.UM(u)&&l>=0)d=f+this.getIntervalOnlyOffset(i,e);else if(!c.UM(u)&&c.UM(l)&&u>=0)d=f+this.getDodgeOnlyOffset(i,e);else if(!c.UM(l)&&!c.UM(u)&&l>=0&&u>=0)d=f+this.getIntervalAndDodgeOffset(i,e);else{var x=p*o/i,P=s*x;d=(f+v)/2+(.5*(p-i*x-(i-1)*P)+((e+1)*x+e*P)-.5*x-.5*p)}return d},r.prototype.getIntervalOnlyOffset=function(t,e){var i=this,a=i.defaultSize,s=i.xDimensionLegenth,l=i.groupNum,f=i.maxColumnWidth,v=i.minColumnWidth,p=i.columnWidthRatio,d=i.intervalPadding/s,m=(1-(l-1)*d)/l*i.dodgeRatio/(t-1),x=((1-d*(l-1))/l-m*(t-1))/t;return x=c.UM(p)?x:1/l/t*p,c.UM(f)||(x=Math.min(x,f/s)),c.UM(v)||(x=Math.max(x,v/s)),((.5+e)*(x=a?a/s:x)+e*(m=((1-(l-1)*d)/l-t*x)/(t-1))+.5*d)*l-d/2},r.prototype.getDodgeOnlyOffset=function(t,e){var i=this,a=i.defaultSize,s=i.xDimensionLegenth,l=i.groupNum,f=i.maxColumnWidth,v=i.minColumnWidth,p=i.columnWidthRatio,d=i.dodgePadding/s,m=1*i.marginRatio/(l-1),x=((1-m*(l-1))/l-d*(t-1))/t;return x=p?1/l/t*p:x,c.UM(f)||(x=Math.min(x,f/s)),c.UM(v)||(x=Math.max(x,v/s)),((.5+e)*(x=a?a/s:x)+e*d+.5*(m=(1-(x*t+d*(t-1))*l)/(l-1)))*l-m/2},r.prototype.getIntervalAndDodgeOffset=function(t,e){var i=this,s=i.xDimensionLegenth,l=i.groupNum,u=i.intervalPadding/s,f=i.dodgePadding/s;return((.5+e)*(((1-u*(l-1))/l-f*(t-1))/t)+e*f+.5*u)*l-u/2},r.prototype.getDistribution=function(t){var i=this.cacheMap,a=i[t];return a||(a={},c.S6(this.adjustDataArray,function(o,s){var l=c.I(o,t);l.length||l.push(0),c.S6(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),i[t]=a),a},r}(Or),mv=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ea(r,n),r.prototype.process=function(t){var e=c.d9(t),i=c.xH(e);return this.adjustData(e,i),e},r.prototype.adjustDim=function(t,e,i){var a=this,o=this.groupData(i,t);return c.S6(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,i=t.next,a=.05*(i-e);return function(n,r){return(r-n)*Math.random()+n}(e+a,i-a)},r.prototype.adjustGroup=function(t,e,i,a){var o=this,s=this.getAdjustRange(e,i,a);return c.S6(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Or);var Zo=c.Ct;const xv=function(n){function r(t){var e=n.call(this,t)||this,i=t.adjustNames,o=t.height,s=void 0===o?NaN:o,l=t.size,u=void 0===l?10:l,f=t.reverseOrder,v=void 0!==f&&f;return e.adjustNames=void 0===i?["y"]:i,e.height=s,e.size=u,e.reverseOrder=v,e}return ea(r,n),r.prototype.process=function(t){var a=this.reverseOrder,o=this.yField?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,i=e.xField,a=e.yField,s=e.reverseOrder?this.reverse(t):t,l=new Zo,u=new Zo;return s.map(function(f){return f.map(function(v){var p,d=c.U2(v,i,0),m=c.U2(v,[a]),x=d.toString();if(m=c.kJ(m)?m[1]:m,!c.UM(m)){var P=m>=0?l:u;P.has(x)||P.set(x,0);var L=P.get(x),Z=m+L;return P.set(x,Z),mr(mr({},v),((p={})[a]=[L,Z],p))}return v})})},r.prototype.processOneDimStack=function(t){var e=this,i=this,a=i.xField,o=i.height,u=i.reverseOrder?this.reverse(t):t,f=new Zo;return u.map(function(v){return v.map(function(p){var d,x=p[a],P=2*e.size/o;f.has(x)||f.set(x,P/2);var L=f.get(x);return f.set(x,L+P),mr(mr({},p),((d={}).y=L,d))})})},r}(Or),Mv=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ea(r,n),r.prototype.process=function(t){var e=c.xH(t),a=this.xField,o=this.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return c.UI(t,function(u){return c.UI(u,function(f){var v,p,d=f[o],m=f[a];if(c.kJ(d)){var x=(l-s[m])/2;return mr(mr({},f),((v={})[o]=c.UI(d,function(L){return x+L}),v))}var P=(l-d)/2;return mr(mr({},f),((p={})[o]=[P,d+P],p))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,a=this.xField,o=this.yField,s=c.vM(t,function(l){return l[a]});return c.Q8(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var i=c.UI(t,function(o){return c.U2(o,e,[])}),a=c.xH(i);return Math.max.apply(Math,a)},r}(Or);ta("Dodge",pv),ta("Jitter",mv),ta("Stack",xv),ta("Symmetric",Mv);var zl=function(n,r){return(0,c.HD)(r)?r:n.invert(n.scale(r))};const Kn=function(){function n(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return n.prototype.mapping=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.map(function(a,o){return r._toOriginParam(a,r.scales[o])});return this.callback.apply(this,i)},n.prototype.getLinearValue=function(r){var t=this.values.length-1,e=Math.floor(t*r),a=this.values[e];return a+((e===t?a:this.values[e+1])-a)*(t*r-e)},n.prototype.getNames=function(){for(var t=this.names,e=Math.min(this.scales.length,t.length),i=[],a=0;a<e;a+=1)i.push(t[a]);return i},n.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},n.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},n.prototype.defaultCallback=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(i,a){var o=r.scales[a];return"identity"===o.type?o.values[0]:r._getAttributeValue(o,i)})},n.prototype._parseCfg=function(r){var t=this,e=r.type,a=r.names,o=void 0===a?[]:a,s=r.scales,l=void 0===s?[]:s,u=r.values,f=void 0===u?[]:u,v=r.callback;this.type=void 0===e?"base":e,this.scales=l,this.values=f,this.names=o,this.callback=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];if(v){var m=v.apply(void 0,p);if(!(0,c.UM)(m))return[m]}return t.defaultCallback.apply(t,p)}},n.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var e=r.translate(t);return this.values[e%this.values.length]}var i=r.scale(t);return this.getLinearValue(i)},n.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,c.kJ)(r)?r.map(function(e){return zl(t,e)}):zl(t,r)},n}();var Yo=function(n,r){return(Yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(n,r)};function ti(n,r){function t(){this.constructor=n}Yo(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Tv=/rgba?\(([\s.,0-9]+)\)/,bv=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Av=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_v=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Go=function(n,r,t,e){return n[e]+(r[e]-n[e])*t};function Gl(n){return"#"+Ho(n[0])+Ho(n[1])+Ho(n[2])}var ia,Hl=function(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]},Ho=function(n){var r=Math.round(n).toString(16);return 1===r.length?"0"+r:r},Nl=function(n){if("#"===n[0]&&7===n.length)return n;ia||(ia=function(){var n=document.createElement("i");return n.title="Web Colour Picker",n.style.display="none",document.body.appendChild(n),n}()),ia.style.color=n;var r=document.defaultView.getComputedStyle(ia,"").getPropertyValue("color");return Gl(Tv.exec(r)[1].split(/\s*,\s*/).map(function(i){return Number(i)}))};const ei={rgb2arr:Hl,gradient:function(n){var r=(0,c.HD)(n)?n.split("-"):n,t=(0,c.UI)(r,function(e){return Hl(-1===e.indexOf("#")?Nl(e):e)});return function(e){return function(n,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),e=n.length-1,i=Math.floor(e*t),a=e*t-i,o=n[i],s=i===e?o:n[i+1];return Gl([Go(o,s,a,0),Go(o,s,a,1),Go(o,s,a,2)])}(t,e)}},toRGB:(0,c.HP)(Nl),toCSSGradient:function(n){if(function(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)}(n)){var r,t=void 0;if("l"===n[0])t=(e=bv.exec(n))[2],r="linear-gradient("+(+e[1]+90)+"deg, ";else if("r"===n[0]){var e;r="radial-gradient(",t=(e=Av.exec(n))[4]}var a=t.match(_v);return(0,c.S6)(a,function(o,s){var l=o.split(":");r+=l[1]+" "+100*l[0]+"%",s!==a.length-1&&(r+=", ")}),r+=")"}return n}},Ov=function(n){function r(t){var e=n.call(this,t)||this;return e.type="color",e.names=["color"],(0,c.HD)(e.values)&&(e.linear=!0),e.gradient=ei.gradient(e.values),e}return ti(r,n),r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(Kn),Fv=function(n){function r(t){var e=n.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}return ti(r,n),r}(Kn),zv=function(n){function r(t){var e=n.call(this,t)||this;return e.names=["x","y"],e.type="position",e}return ti(r,n),r.prototype.mapping=function(t,e){var i=this.scales,a=i[0],o=i[1];return(0,c.UM)(t)||(0,c.UM)(e)?[]:[(0,c.kJ)(t)?t.map(function(s){return a.scale(s)}):a.scale(t),(0,c.kJ)(e)?e.map(function(s){return o.scale(s)}):o.scale(e)]},r}(Kn),Yv=function(n){function r(t){var e=n.call(this,t)||this;return e.type="shape",e.names=["shape"],e}return ti(r,n),r.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},r}(Kn),Hv=function(n){function r(t){var e=n.call(this,t)||this;return e.type="size",e.names=["size"],e}return ti(r,n),r}(Kn);var Ul={};function yr(n,r){Ul[n]=r}const No=function(){function n(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return n.prototype.translate=function(r){return r},n.prototype.change=function(r){(0,c.f0)(this.__cfg__,r),this.init()},n.prototype.clone=function(){return this.constructor(this.__cfg__)},n.prototype.getTicks=function(){var r=this;return(0,c.UI)(this.ticks,function(t,e){return(0,c.Kn)(t)?t:{text:r.getText(t,e),tickValue:t,value:r.scale(t)}})},n.prototype.getText=function(r,t){var e=this.formatter,i=e?e(r,t):r;return(0,c.UM)(i)||!(0,c.mf)(i.toString)?"":i.toString()},n.prototype.getConfig=function(r){return this.__cfg__[r]},n.prototype.init=function(){(0,c.f0)(this,this.__cfg__),this.setDomain(),(0,c.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},n.prototype.initCfg=function(){},n.prototype.setDomain=function(){},n.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,c.HD)(r)){var e=function(n){return Ul[n]}(r);if(!e)throw new Error("There is no method to to calculate ticks!");t=e(this)}else(0,c.mf)(r)&&(t=r(this));return t},n.prototype.rangeMin=function(){return this.range[0]},n.prototype.rangeMax=function(){return this.range[1]},n.prototype.calcPercent=function(r,t,e){return(0,c.hj)(r)?(r-t)/(e-t):NaN},n.prototype.calcValue=function(r,t,e){return t+r*(e-t)},n}(),aa=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return(0,g.ZT)(r,n),r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,c.hj)(t)?t:NaN),e},r.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(e*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},r.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=t;return(0,c.hj)(t)&&!this.values.includes(t)&&(a=this.values[a]),n.prototype.getText.apply(this,(0,g.pr)([a],e))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,c.UM)(this.getConfig("min"))&&(this.min=0),(0,c.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(No);var Xl=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Dr="[1-9]\\d?",Fr="\\d\\d",ri="[^\\s]+",Vl=/\[([^]*?)\]/gm;function Wl(n,r){for(var t=[],e=0,i=n.length;e<i;e++)t.push(n[e].substr(0,r));return t}var ql=function(n){return function(r,t){var i=t[n].map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase());return i>-1?i:null}};function Rr(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var e=0,i=r;e<i.length;e++){var a=i[e];for(var o in a)n[o]=a[o]}return n}var Jl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ql=["January","February","March","April","May","June","July","August","September","October","November","December"],qv=Wl(Ql,3),Uo={dayNamesShort:Wl(Jl,3),dayNames:Jl,monthNamesShort:qv,monthNames:Ql,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][n%10>3?0:(n-n%10!=10?1:0)*n%10]}},oa=Rr({},Uo),jl=function(n){return oa=Rr(oa,n)},$l=function(n){return n.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Ge=function(n,r){for(void 0===r&&(r=2),n=String(n);n.length<r;)n="0"+n;return n},Qv={D:function(n){return String(n.getDate())},DD:function(n){return Ge(n.getDate())},Do:function(n,r){return r.DoFn(n.getDate())},d:function(n){return String(n.getDay())},dd:function(n){return Ge(n.getDay())},ddd:function(n,r){return r.dayNamesShort[n.getDay()]},dddd:function(n,r){return r.dayNames[n.getDay()]},M:function(n){return String(n.getMonth()+1)},MM:function(n){return Ge(n.getMonth()+1)},MMM:function(n,r){return r.monthNamesShort[n.getMonth()]},MMMM:function(n,r){return r.monthNames[n.getMonth()]},YY:function(n){return Ge(String(n.getFullYear()),4).substr(2)},YYYY:function(n){return Ge(n.getFullYear(),4)},h:function(n){return String(n.getHours()%12||12)},hh:function(n){return Ge(n.getHours()%12||12)},H:function(n){return String(n.getHours())},HH:function(n){return Ge(n.getHours())},m:function(n){return String(n.getMinutes())},mm:function(n){return Ge(n.getMinutes())},s:function(n){return String(n.getSeconds())},ss:function(n){return Ge(n.getSeconds())},S:function(n){return String(Math.round(n.getMilliseconds()/100))},SS:function(n){return Ge(Math.round(n.getMilliseconds()/10),2)},SSS:function(n){return Ge(n.getMilliseconds(),3)},a:function(n,r){return n.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(n,r){return n.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(n){var r=n.getTimezoneOffset();return(r>0?"-":"+")+Ge(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)},Z:function(n){var r=n.getTimezoneOffset();return(r>0?"-":"+")+Ge(Math.floor(Math.abs(r)/60),2)+":"+Ge(Math.abs(r)%60,2)}},Kl=function(n){return+n-1},tu=[null,Dr],eu=[null,ri],ru=["isPm",ri,function(n,r){var t=n.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],nu=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(n){var r=(n+"").match(/([+-]|\d\d)/gi);if(r){var t=60*+r[1]+parseInt(r[2],10);return"+"===r[0]?t:-t}return 0}],jv={D:["day",Dr],DD:["day",Fr],Do:["day",Dr+ri,function(n){return parseInt(n,10)}],M:["month",Dr,Kl],MM:["month",Fr,Kl],YY:["year",Fr,function(n){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+n>68?t-1:t)+n)}],h:["hour",Dr,void 0,"isPm"],hh:["hour",Fr,void 0,"isPm"],H:["hour",Dr],HH:["hour",Fr],m:["minute",Dr],mm:["minute",Fr],s:["second",Dr],ss:["second",Fr],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(n){return 100*+n}],SS:["millisecond",Fr,function(n){return 10*+n}],SSS:["millisecond","\\d{3}"],d:tu,dd:tu,ddd:eu,dddd:eu,MMM:["month",ri,ql("monthNamesShort")],MMMM:["month",ri,ql("monthNames")],a:ru,A:ru,ZZ:nu,Z:nu},sa={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},iu=function(n){return Rr(sa,n)},au=function(n,r,t){if(void 0===r&&(r=sa.default),void 0===t&&(t={}),"number"==typeof n&&(n=new Date(n)),"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime()))throw new Error("Invalid Date pass to format");var e=[];r=(r=sa[r]||r).replace(Vl,function(a,o){return e.push(o),"@@@"});var i=Rr(Rr({},oa),t);return(r=r.replace(Xl,function(a){return Qv[a](n,i)})).replace(/@@@/g,function(){return e.shift()})};function ou(n,r,t){if(void 0===t&&(t={}),"string"!=typeof r)throw new Error("Invalid format in fecha parse");if(r=sa[r]||r,n.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=r.replace(Vl,function(G,j){return o.push($l(j)),"@@@"}),l={},u={};s=$l(s).replace(Xl,function(G){var j=jv[G],at=j[0],Tt=j[1],kt=j[3];if(l[at])throw new Error("Invalid format. "+at+" specified twice in format");return l[at]=!0,kt&&(u[kt]=!0),a.push(j),"("+Tt+")"}),Object.keys(u).forEach(function(G){if(!l[G])throw new Error("Invalid format. "+G+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=n.match(new RegExp(s,"i"));if(!f)return null;for(var v=Rr(Rr({},oa),t),p=1;p<f.length;p++){var d=a[p-1],m=d[0],x=d[2],P=x?x(f[p],v):+f[p];if(null==P)return null;i[m]=P}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var L=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),Z=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],z=(p=0,Z.length);p<z;p++)if(l[Z[p][0]]&&i[Z[p][0]]!==L[Z[p][1]]())return null;return null==i.timezoneOffset?L:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}const su={format:au,parse:ou,defaultI18n:Uo,setGlobalDateI18n:jl,setGlobalDateMasks:iu};function uu(n,r){return(Rt.format||su.format)(n,r)}function la(n){return(0,c.HD)(n)&&(n=n.indexOf("T")>0?new Date(n).getTime():new Date(n.replace(/-/gi,"/")).getTime()),(0,c.J_)(n)&&(n=n.getTime()),n}var sr=1e3,sn=6e4,ln=60*sn,Br=24*ln,ni=31*Br,hu=365*Br,ii=[["HH:mm:ss",sr],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",sn],["HH:mm",10*sn],["HH:mm",30*sn],["HH",ln],["HH",6*ln],["HH",12*ln],["YYYY-MM-DD",Br],["YYYY-MM-DD",4*Br],["YYYY-WW",7*Br],["YYYY-MM",ni],["YYYY-MM",4*ni],["YYYY-MM",6*ni],["YYYY",380*Br]];const rp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="timeCat",t}return(0,g.ZT)(r,n),r.prototype.translate=function(t){t=la(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,c.hj)(t)&&t<this.values.length?t:NaN),e},r.prototype.getText=function(t,e){var i=this.translate(t);if(i>-1){var a=this.values[i],o=this.formatter;return o?o(a,e):uu(a,this.mask)}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,c.S6)(t,function(e,i){t[i]=la(e)}),t.sort(function(e,i){return e-i}),n.prototype.setDomain.call(this)},r}(aa),ua=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.isContinuous=!0,t}return(0,g.ZT)(r,n),r.prototype.scale=function(t){if((0,c.UM)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},r.prototype.init=function(){n.prototype.init.call(this);var t=this.ticks,e=(0,c.YM)(t),i=(0,c.Z$)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),(0,c.UM)(this.minLimit)||(this.min=e),(0,c.UM)(this.maxLimit)||(this.max=i)},r.prototype.setDomain=function(){var t=(0,c.rx)(this.values),e=t.min,i=t.max;(0,c.UM)(this.min)&&(this.min=e),(0,c.UM)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},r.prototype.calculateTicks=function(){var t=this,e=n.prototype.calculateTicks.call(this);return this.nice||(e=(0,c.hX)(e,function(i){return i>=t.min&&i<=t.max})),e},r.prototype.getScalePercent=function(t){var i=this.min;return(t-i)/(this.max-i)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(No),ha=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return(0,g.ZT)(r,n),r.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(ua);function zr(n,r){var t=Math.E;return r>=0?Math.pow(t,Math.log(r)/n):-1*Math.pow(t,Math.log(-r)/n)}function tr(n,r){return 1===n?1:Math.log(r)/Math.log(n)}function cu(n,r,t){(0,c.UM)(t)&&(t=Math.max.apply(null,n));var e=t;return(0,c.S6)(n,function(i){i>0&&i<e&&(e=i)}),e===t&&(e=t/r),e>1&&(e=1),e}const op=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t}return(0,g.ZT)(r,n),r.prototype.invert=function(t){var s,e=this.base,i=tr(e,this.max),a=this.rangeMin(),o=this.rangeMax()-a,l=this.positiveMin;if(l){if(0===t)return 0;var u=1/(i-(s=tr(e,l/e)))*o;if(t<u)return t/u*l}else s=tr(e,this.min);return Math.pow(e,(t-a)/o*(i-s)+s)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){n.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=cu(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i||t<=0)return 0;var a=this.base,o=this.positiveMin;return o&&(i=1*o/a),t<o?t/o/(tr(a,e)-tr(a,i)):(tr(a,t)-tr(a,i))/(tr(a,e)-tr(a,i))},r}(ua),lp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="pow",t}return(0,g.ZT)(r,n),r.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,a=zr(i,this.max),o=zr(i,this.min),s=e*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,i)*l},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var a=this.exponent;return(zr(a,t)-zr(a,i))/(zr(a,e)-zr(a,i))},r}(ua),hp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="time",t}return(0,g.ZT)(r,n),r.prototype.getText=function(t,e){var i=this.translate(t),a=this.formatter;return a?a(i,e):uu(i,this.mask)},r.prototype.scale=function(t){var e=t;return((0,c.HD)(e)||(0,c.J_)(e))&&(e=this.translate(e)),n.prototype.scale.call(this,e)},r.prototype.translate=function(t){return la(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),i=this.getConfig("max");if((!(0,c.UM)(e)||!(0,c.hj)(e))&&(this.min=this.translate(this.min)),(!(0,c.UM)(i)||!(0,c.hj)(i))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,l=0;(0,c.S6)(t,function(u){var f=la(u);if(isNaN(f))throw new TypeError("Invalid Time: "+u+" in time scale!");o>f?(s=o,o=f):s>f&&(s=f),l<f&&(l=f),a.push(f)}),t.length>1&&(this.minTickInterval=s-o),(0,c.UM)(e)&&(this.min=o),(0,c.UM)(i)&&(this.max=l)}},r}(ha),vu=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="quantize",t}return(0,g.ZT)(r,n),r.prototype.invert=function(t){var e=this.ticks,i=e.length,a=this.getInvertPercent(t),o=Math.floor(a*(i-1));if(o>=i-1)return(0,c.Z$)(e);if(o<0)return(0,c.YM)(e);var s=e[o],u=o/(i-1);return s+(a-u)/((o+1)/(i-1)-u)*(e[o+1]-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=n.prototype.calculateTicks.call(this);return this.nice||((0,c.Z$)(t)!==this.max&&t.push(this.max),(0,c.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,c.YM)(e))return 0;if(t>(0,c.Z$)(e))return 1;var i=0;return(0,c.S6)(e,function(a,o){if(!(t>=a))return!1;i=o}),i/(e.length-1)},r}(ua),vp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="quantile",t}return(0,g.ZT)(r,n),r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(vu);var pu={};function Xo(n){return pu[n]}function xr(n,r){if(Xo(n))throw new Error("type '"+n+"' existed.");pu[n]=r}const gp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return(0,g.ZT)(r,n),r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,c.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},r}(No);var dp=[1,5,2,2.5,4,3],gu=100*Number.EPSILON;function yp(n,r,t,e,i,a){var o=(0,c.dp)(r),s=(0,c.cq)(r,n),l=0,u=function(n,r){return(n%r+r)%r}(e,a);return(u<gu||a-u<gu)&&e<=0&&i>=0&&(l=1),1-s/(o-1)-t+l}function xp(n,r,t){var e=(0,c.dp)(r);return 1-(0,c.cq)(r,n)/(e-1)-t+1}function Cp(n,r,t,e,i,a){var o=(n-1)/(a-i),s=(r-1)/(Math.max(a,e)-Math.min(t,i));return 2-Math.max(o/s,s/o)}function Mp(n,r){return n>=r?2-(n-1)/(r-1):1}function wp(n,r,t,e){var i=r-n;return 1-.5*(Math.pow(r-e,2)+Math.pow(n-t,2))/Math.pow(.1*i,2)}function Sp(n,r,t){var e=r-n;return t>e?1-Math.pow((t-e)/2,2)/Math.pow(.1*e,2):1}function bp(n){return n<1e-15?n:parseFloat(n.toFixed(15))}function du(n,r,t,e,i,a){if(void 0===t&&(t=5),void 0===e&&(e=!0),void 0===i&&(i=dp),void 0===a&&(a=[.25,.2,.5,.05]),Number.isNaN(n)||Number.isNaN(r)||"number"!=typeof n||"number"!=typeof r||!t)return{min:0,max:0,ticks:[]};if(r-n<1e-15||1===t)return{min:n,max:r,ticks:[n]};for(var o={score:-2,lmin:0,lmax:0,lstep:0},s=1;s<1/0;){for(var l=0;l<i.length;l+=1){var u=i[l],f=xp(u,i,s);if(a[0]*f+a[1]+a[2]+a[3]<o.score){s=1/0;break}for(var v=2;v<1/0;){var p=Mp(v,t);if(a[0]*f+a[1]+a[2]*p+a[3]<o.score)break;for(var m=Math.ceil(Math.log10((r-n)/(v+1)/s/u));m<1/0;){var x=s*u*Math.pow(10,m),P=Sp(n,r,x*(v-1));if(a[0]*f+a[1]*P+a[2]*p+a[3]<o.score)break;var L=Math.floor(r/x)*s-(v-1)*s,Z=Math.ceil(n/x)*s;if(L<=Z)for(var z=Z-L,G=0;G<=z;G+=1){var at=(L+G)*(x/s),Tt=at+x*(v-1),kt=x,Yt=yp(u,i,s,at,Tt,kt),Vt=wp(n,r,at,Tt),Kt=Cp(v,t,n,r,at,Tt),ve=a[0]*Yt+a[1]*Vt+a[2]*Kt+1*a[3];ve>o.score&&(!e||at<=n&&Tt>=r)&&(o.lmin=at,o.lmax=Tt,o.lstep=kt,o.score=ve)}m+=1}v+=1}}s+=1}var ue=o.lmin,Qe=o.lstep,Ze=Math.floor((o.lmax-ue)/Qe)+1,Me=new Array(Ze);for(l=0;l<Ze;l++)Me[l]=bp(ue+l*Qe);return{min:Math.min(n,(0,c.YM)(Me)),max:Math.max(r,(0,c.Z$)(Me)),ticks:Me}}function mu(n){var r=n.values,t=n.tickInterval,e=n.tickCount,i=r;if((0,c.hj)(t))return(0,c.hX)(i,function(u,f){return f%t==0});var a=n.min,o=n.max;if((0,c.UM)(a)&&(a=0),(0,c.UM)(o)&&(o=r.length-1),(0,c.hj)(e)&&e<o-a){var s=du(a,o,e,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,c.hX)(s,function(u){return u>=a&&u<=o}).map(function(u){return r[u]})}return r.slice(a,o+1)}var yu=Math.sqrt(50),xu=Math.sqrt(10),Cu=Math.sqrt(2),_p=function(){function n(){this._domain=[0,1]}return n.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},n.prototype.nice=function(r){var t,e;void 0===r&&(r=5);var u,i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o];return l<s&&(s=(t=[l,s])[0],l=t[1],a=(e=[o,a])[0],o=e[1]),(u=ca(s,l,r))>0?u=ca(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,r):u<0&&(u=ca(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,r)),u>0?(i[a]=Math.floor(s/u)*u,i[o]=Math.ceil(l/u)*u,this.domain(i)):u<0&&(i[a]=Math.ceil(s*u)/u,i[o]=Math.floor(l*u)/u,this.domain(i)),this},n.prototype.ticks=function(r){return void 0===r&&(r=5),function(n,r,t){var e,a,o,s,i=-1;if(t=+t,(n=+n)==(r=+r)&&t>0)return[n];if((e=r<n)&&(a=n,n=r,r=a),0===(s=ca(n,r,t))||!isFinite(s))return[];if(s>0)for(n=Math.ceil(n/s),r=Math.floor(r/s),o=new Array(a=Math.ceil(r-n+1));++i<a;)o[i]=(n+i)*s;else for(n=Math.floor(n*s),r=Math.ceil(r*s),o=new Array(a=Math.ceil(n-r+1));++i<a;)o[i]=(n-i)/s;return e&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],r||5)},n}();function ca(n,r,t){var e=(r-n)/Math.max(0,t),i=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,i);return i>=0?(a>=yu?10:a>=xu?5:a>=Cu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=yu?10:a>=xu?5:a>=Cu?2:1)}function Mu(n,r,t){return("ceil"===t?Math.ceil(n/r):"floor"===t?Math.floor(n/r):Math.round(n/r))*r}function Wo(n,r,t){var e=Mu(n,t,"floor"),i=Mu(r,t,"ceil");e=(0,c.ri)(e,t),i=(0,c.ri)(i,t);for(var a=[],o=e;o<=i;o+=t){var s=(0,c.ri)(o,t);a.push(s)}return{min:e,max:i,ticks:a}}function qo(n,r,t){var e,i=n.minLimit,a=n.maxLimit,o=n.min,s=n.max,l=n.tickCount,u=void 0===l?5:l,f=(0,c.UM)(i)?(0,c.UM)(r)?o:r:i,v=(0,c.UM)(a)?(0,c.UM)(t)?s:t:a;if(f>v&&(v=(e=[f,v])[0],f=e[1]),u<=2)return[f,v];for(var p=(v-f)/(u-1),d=[],m=0;m<u;m++)d.push(f+p*m);return d}function kp(n){return n<1e-15?n:parseFloat(n.toFixed(15))}function wu(n,r,t){if(void 0===t&&(t=5),n===r)return{max:r,min:n,ticks:[n]};var o=(r-n)/t,s=Math.pow(10,Math.floor(Math.log10(o))),l=s;2*s-o<1.5*(o-l)&&5*s-o<2.75*(o-(l=2*s))&&10*s-o<1.5*(o-(l=5*s))&&(l=10*s);for(var u=Math.ceil(r/l),f=Math.floor(n/l),v=Math.max(u*l,r),p=Math.min(f*l,n),d=Math.floor((v-p)/l)+1,m=new Array(d),x=0;x<d;x++)m[x]=kp(p+x*l);return{min:p,max:v,ticks:m}}function Op(n,r){var t=n.length*r;return 1===r?n[n.length-1]:0===r?n[0]:t%1!=0?n[Math.ceil(t)-1]:n.length%2==0?(n[t-1]+n[t])/2:n[t]}function fa(n){return new Date(n).getFullYear()}function Zp(n){return new Date(n,0,1).getTime()}function Jo(n){return new Date(n).getMonth()}function Gp(n,r){return new Date(n,r,1).getTime()}yr("cat",mu),yr("time-cat",function(n){var r=mu(n),t=(0,c.Z$)(n.values);return t!==(0,c.Z$)(r)&&r.push(t),r}),yr("wilkinson-extended",function(n){var r=n.min,t=n.max,a=n.tickInterval,o=n.minLimit,s=n.maxLimit,l=du(r,t,n.tickCount,n.nice).ticks;return(0,c.UM)(o)&&(0,c.UM)(s)?a?Wo(r,t,a).ticks:l:qo(n,(0,c.YM)(l),(0,c.Z$)(l))}),yr("r-pretty",function(n){var r=n.min,t=n.max,i=n.tickInterval,a=n.minLimit,o=n.maxLimit,s=wu(r,t,n.tickCount).ticks;return(0,c.UM)(a)&&(0,c.UM)(o)?i?Wo(r,t,i).ticks:s:qo(n,(0,c.YM)(s),(0,c.Z$)(s))}),yr("time",function(n){var r=n.min,t=n.max,e=n.minTickInterval,i=n.tickInterval,a=n.tickCount;if(i)a=Math.ceil((t-r)/i);else{var s=(t-r)/(i=function(n,r,t){var e=(r-n)/t,i=function(n){return function(r,t,e,i){for(var a=(0,c.UM)(e)?0:e,o=(0,c.UM)(i)?r.length:i;a<o;){var s=a+o>>>1;n(r[s])>t?o=s:a=s+1}return a}}(function(o){return o[1]})(ii,e)-1,a=ii[i];return i<0?a=ii[0]:i>=ii.length&&(a=(0,c.Z$)(ii)),a}(r,t,a)[1])/a;s>1&&(i*=Math.ceil(s)),e&&i<e&&(i=e)}for(var l=[],u=r;u<t+i;u+=i)l.push(u);return l}),yr("time-pretty",function(n){var r=n.min,t=n.max,e=n.minTickInterval,a=n.tickInterval,o=[];a||(a=(t-r)/n.tickCount,e&&a<e&&(a=e));var s=fa(r);if(a>hu)for(var l=fa(t),u=Math.ceil(a/hu),f=s;f<=l+u;f+=u)o.push(Zp(f));else if(a>ni){var v=Math.ceil(a/ni),p=Jo(r),d=function(n,r){var t=fa(n),e=fa(r),i=Jo(n);return 12*(e-t)+(Jo(r)-i)%12}(r,t);for(f=0;f<=d+v;f+=v)o.push(Gp(s,f+p))}else if(a>Br){var x=(m=new Date(r)).getFullYear(),P=m.getMonth(),L=m.getDate(),Z=Math.ceil(a/Br),z=function(n,r){return Math.ceil((r-n)/Br)}(r,t);for(f=0;f<z+Z;f+=Z)o.push(new Date(x,P,L+f).getTime())}else if(a>ln){x=(m=new Date(r)).getFullYear(),P=m.getMonth(),Z=m.getDate();var m,G=m.getHours(),j=Math.ceil(a/ln),at=function(n,r){return Math.ceil((r-n)/ln)}(r,t);for(f=0;f<=at+j;f+=j)o.push(new Date(x,P,Z,G+f).getTime())}else if(a>sn){var Tt=function(n,r){return Math.ceil((r-n)/6e4)}(r,t),kt=Math.ceil(a/sn);for(f=0;f<=Tt+kt;f+=kt)o.push(r+f*sn)}else{var Yt=a;Yt<sr&&(Yt=sr);var Vt=Math.floor(r/sr)*sr,Kt=Math.ceil((t-r)/sr),te=Math.ceil(Yt/sr);for(f=0;f<Kt+te;f+=te)o.push(Vt+f*sr)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}),yr("log",function(n){var o,r=n.base,t=n.tickCount,e=n.min,i=n.max,a=n.values,s=tr(r,i);if(e>0)o=Math.floor(tr(r,e));else{var l=cu(a,r,i);o=Math.floor(tr(r,l))}for(var f=Math.ceil((s-o)/t),v=[],p=o;p<s+f;p+=f)v.push(Math.pow(r,p));return e<=0&&v.unshift(0),v}),yr("pow",function(n){var r=n.exponent,t=n.tickCount,e=Math.ceil(zr(r,n.max));return wu(Math.floor(zr(r,n.min)),e,t).ticks.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}),yr("quantile",function(n){var r=n.tickCount,t=n.values;if(!t||!t.length)return[];for(var e=t.slice().sort(function(s,l){return s-l}),i=[],a=0;a<r;a++)i.push(Op(e,a/(r-1)));return i}),yr("d3-linear",function(n){var r=n.min,t=n.max,e=n.tickInterval,i=n.minLimit,a=n.maxLimit,o=function(n){var r=n.min,t=n.max,e=n.nice,i=n.tickCount,a=new _p;return a.domain([r,t]),e&&a.nice(i),a.ticks(i)}(n);return(0,c.UM)(i)&&(0,c.UM)(a)?e?Wo(r,t,e).ticks:o:qo(n,(0,c.YM)(o),(0,c.Z$)(o))}),xr("cat",aa),xr("category",aa),xr("identity",gp),xr("linear",ha),xr("log",op),xr("pow",lp),xr("time",hp),xr("timeCat",rp),xr("quantize",vu),xr("quantile",vp);var Su={},Tu=function(n){return Su[n.toLowerCase()]},ai=function(n,r){if(Tu(n))throw new Error("Attribute type '"+n+"' existed.");Su[n.toLowerCase()]=r};ai("Color",Ov),ai("Opacity",Fv),ai("Position",zv),ai("Shape",Yv),ai("Size",Hv);var bu=K(4563);function oi(n,r,t){var e=r[0],i=r[1],a=r[2];return n[0]=e*t[0]+i*t[3]+a*t[6],n[1]=e*t[1]+i*t[4]+a*t[7],n[2]=e*t[2]+i*t[5]+a*t[8],n}(function(){var n=new bu.WT(3);bu.WT!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)})();var qp=K(1790),ge=K(7089);const Qo=function(){function n(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=r.end,i=r.matrix,a=void 0===i?[1,0,0,0,1,0,0,0,1]:i,o=r.isTransposed,s=void 0!==o&&o;this.start=r.start,this.end=e,this.matrix=a,this.originalMatrix=(0,g.ev)([],a),this.isTransposed=s}return n.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},n.prototype.update=function(r){(0,c.f0)(this,r),this.initial()},n.prototype.convertDim=function(r,t){var e,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(a=(e=[o,a])[0],o=e[1]),a+r*(o-a)},n.prototype.invertDim=function(r,t){var e,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(a=(e=[o,a])[0],o=e[1]),(r-a)/(o-a)},n.prototype.applyMatrix=function(r,t,e){void 0===e&&(e=0);var a=[r,t,e];return oi(a,a,this.matrix),a},n.prototype.invertMatrix=function(r,t,e){void 0===e&&(e=0);var a=qp.U_([0,0,0,0,0,0,0,0,0],this.matrix),o=[r,t,e];return a&&oi(o,o,a),o},n.prototype.convert=function(r){var t=this.convertPoint(r),a=this.applyMatrix(t.x,t.y,1);return{x:a[0],y:a[1]}},n.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},n.prototype.rotate=function(r){var t=this.matrix,e=this.center;return ge.m$(t,t,[-e.x,-e.y]),ge.zu(t,t,r),ge.m$(t,t,[e.x,e.y]),this},n.prototype.reflect=function(r){return"x"===r?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},n.prototype.scale=function(r,t){var e=this.matrix,i=this.center;return ge.m$(e,e,[-i.x,-i.y]),ge.lh(e,e,[r,t]),ge.m$(e,e,[i.x,i.y]),this},n.prototype.translate=function(r,t){var e=this.matrix;return ge.m$(e,e,[r,t]),this},n.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},n.prototype.getCenter=function(){return this.center},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRadius=function(){return this.radius},n.prototype.isReflect=function(r){return"x"===r?this.isReflectX:this.isReflectY},n.prototype.resetMatrix=function(r){this.matrix=r||(0,g.ev)([],this.originalMatrix)},n}(),Au=function(n){function r(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}return(0,g.ZT)(r,n),r.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},r.prototype.convertPoint=function(t){var e,i=t.x,a=t.y;return this.isTransposed&&(i=(e=[a,i])[0],a=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},r.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[a,i])[0],a=e[1]),{x:i,y:a}},r}(Qo);var se=K(5886);const $p=function(n){function r(t){var e=n.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,a=void 0===i?1.25*Math.PI:i,o=t.endAngle,s=void 0===o?7.25*Math.PI:o,l=t.innerRadius,u=void 0===l?0:l,f=t.radius;return e.startAngle=a,e.endAngle=s,e.innerRadius=u,e.radius=f,e.initial(),e}return(0,g.ZT)(r,n),r.prototype.initial=function(){n.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},r.prototype.convertPoint=function(t){var e,i=t.x,a=t.y;this.isTransposed&&(i=(e=[a,i])[0],a=e[1]);var o=this.convertDim(i,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},r.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,a=se.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=ge.Dg(a,[1,0],!0),s=o*this.a;se.kE(a)<s&&(s=se.kE(a)),o=2*Math.floor((se.kE(a)-s)/i)*Math.PI+o;var u=this.a*o,f=se.kE(a)-u;f=(0,c.vQ)(f,0)?0:f;var v=this.invertDim(o,"x"),p=this.invertDim(f,"y");return v=(0,c.vQ)(v,0)?0:v,p=(0,c.vQ)(p,0)?0:p,this.isTransposed&&(v=(e=[p,v])[0],p=e[1]),{x:v,y:p}},r}(Qo),tg=function(n){function r(t){var e=n.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,a=void 0===i?-Math.PI/2:i,o=t.endAngle,s=void 0===o?3*Math.PI/2:o,l=t.innerRadius,u=void 0===l?0:l,f=t.radius;return e.startAngle=a,e.endAngle=s,e.innerRadius=u,e.radius=f,e.initial(),e}return(0,g.ZT)(r,n),r.prototype.initial=function(){for(n.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var s,t=this.getOneBox(),e=t.maxX-t.minX,i=t.maxY-t.minY,a=Math.abs(t.minX)/e,o=Math.abs(t.minY)/i;this.circleCenter=this.height/i>this.width/e?{x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*(s=this.width/e)*i}:{x:this.center.x-(.5-a)*(s=this.height/i)*e,y:this.center.y-(.5-o)*this.height},this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var e,i=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(a=(e=[o,a])[0],o=e[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},r.prototype.invertPoint=function(t){var e,i=this.getCenter(),a=[t.x-i.x,t.y-i.y],s=this.startAngle,l=this.endAngle;this.isReflect("x")&&(s=(e=[l,s])[0],l=e[1]);var u=[1,0,0,0,1,0,0,0,1];ge.zu(u,u,s);var f=[1,0,0];oi(f,f,u);var p=ge.Dg([f[0],f[1]],a,l<s);(0,c.vQ)(p,2*Math.PI)&&(p=0);var d=se.kE(a),m=p/(l-s);m=l-s>0?m:-m;var x=this.invertDim(d,"y"),P={x:0,y:0};return P.x=this.isTransposed?x:m,P.y=this.isTransposed?m:x,P},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],a=[0,Math.sin(t),Math.sin(e)],o=Math.min(t,e);o<Math.max(t,e);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},r}(Qo);var _u={},va=function(n,r){_u[n.toLowerCase()]=r};va("rect",Au),va("cartesian",Au),va("polar",tg),va("helix",$p);var si="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",rg=new RegExp("([a-z])["+si+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+si+"]*,?["+si+"]*)+)","ig"),ng=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+si+"]*,?["+si+"]*","ig"),li=function(n){if(!n)return null;if((0,c.kJ)(n))return n;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(n).replace(rg,function(e,i,a){var o=[],s=i.toLowerCase();if(a.replace(ng,function(l,u){u&&o.push(+u)}),"m"===s&&o.length>2&&(t.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&t.push([i,o[0]]),"r"===s)t.push([i].concat(o));else for(;o.length>=r[s]&&(t.push([i].concat(o.splice(0,r[s]))),r[s]););return n}),t},gg=function(n,r){if(n.length!==r.length)return!1;var t=!0;return(0,c.S6)(n,function(e,i){if(e!==r[i])return t=!1,!1}),t};function dg(n,r,t){var e=null,i=t;return r<i&&(i=r,e="add"),n<i&&(i=n,e="del"),{type:e,min:i}}var yg=function(n,r){var t=function(n,r){var i,t=n.length,e=r.length,o=0;if(0===t||0===e)return null;for(var s=[],l=0;l<=t;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=e;u++)s[0][u]={min:u};for(l=1;l<=t;l++)for(i=n[l-1],u=1;u<=e;u++)o=gg(i,r[u-1])?0:1,s[l][u]=dg(s[l-1][u].min+1,s[l][u-1].min+1,s[l-1][u-1].min+o);return s}(n,r),e=n.length,i=r.length,a=[],o=1,s=1;if(t[e][i].min!==e){for(var l=1;l<=e;l++){var u=t[l][l].min;s=l;for(var f=o;f<=i;f++)t[l][f].min<u&&(u=t[l][f].min,s=f);t[l][o=s].type&&a.push({index:l-1,type:t[l][o].type})}for(l=a.length-1;l>=0;l--)o=a[l].index,"add"===a[l].type?n.splice(o,0,[].concat(n[o])):n.splice(o,1)}var v=i-(e=n.length);if(e<i)for(l=0;l<v;l++)"z"===n[e-1][0]||"Z"===n[e-1][0]?n.splice(e-2,0,n[e-2]):n.push(n[e-1]),e+=1;return n};function $o(n,r,t){for(var i,e=[].concat(n),a=1/(t+1),o=Ru(r)[0],s=1;s<=t;s++)a*=s,0===(i=Math.floor(n.length*a))?e.unshift([o[0]*a+n[i][0]*(1-a),o[1]*a+n[i][1]*(1-a)]):e.splice(i,0,[o[0]*a+n[i][0]*(1-a),o[1]*a+n[i][1]*(1-a)]);return e}function Ru(n){var r=[];switch(n[0]){case"M":case"L":r.push([n[1],n[2]]);break;case"A":r.push([n[6],n[7]]);break;case"Q":r.push([n[3],n[4]]),r.push([n[1],n[2]]);break;case"T":r.push([n[1],n[2]]);break;case"C":r.push([n[5],n[6]]),r.push([n[1],n[2]]),r.push([n[3],n[4]]);break;case"S":r.push([n[3],n[4]]),r.push([n[1],n[2]]);break;case"H":case"V":r.push([n[1],n[1]])}return r}var zu=function(n,r){if(n.length<=1)return n;for(var t,e=0;e<r.length;e++)if(n[e][0]!==r[e][0])switch(t=Ru(n[e]),r[e][0]){case"M":n[e]=["M"].concat(t[0]);break;case"L":n[e]=["L"].concat(t[0]);break;case"A":n[e]=[].concat(r[e]),n[e][6]=t[0][0],n[e][7]=t[0][1];break;case"Q":if(t.length<2){if(!(e>0)){n[e]=r[e];break}t=$o(t,n[e-1],1)}n[e]=["Q"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"T":n[e]=["T"].concat(t[0]);break;case"C":if(t.length<3){if(!(e>0)){n[e]=r[e];break}t=$o(t,n[e-1],2)}n[e]=["C"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(t.length<2){if(!(e>0)){n[e]=r[e];break}t=$o(t,n[e-1],1)}n[e]=["S"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;default:n[e]=r[e]}return n};const Zu=function(){function n(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return n.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n.prototype.toString=function(){return"[Event (type="+this.type+")]"},n.prototype.save=function(){},n.prototype.restore=function(){},n}();function Yu(n,r){var t=n.indexOf(r);-1!==t&&n.splice(t,1)}var Gu="undefined"!=typeof window&&void 0!==window.document;function Hu(n,r){if(n.isCanvas())return!0;for(var t=r.getParent(),e=!1;t;){if(t===n){e=!0;break}t=t.getParent()}return e}function Nu(n){return n.cfg.visible&&n.cfg.capture}const Uu=function(n){function r(t){var e=n.call(this)||this;e.destroyed=!1;var i=e.getDefaultCfg();return e.cfg=(0,c.CD)(i,t),e}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,e){this.cfg[t]=e},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(X.Z);var Xu=K(7057);function Vu(n,r){var t=[],e=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],f=n[7],v=n[8],p=r[0],d=r[1],m=r[2],x=r[3],P=r[4],L=r[5],Z=r[6],z=r[7],G=r[8];return t[0]=p*e+d*o+m*u,t[1]=p*i+d*s+m*f,t[2]=p*a+d*l+m*v,t[3]=x*e+P*o+L*u,t[4]=x*i+P*s+L*f,t[5]=x*a+P*l+L*v,t[6]=Z*e+z*o+G*u,t[7]=Z*i+z*s+G*f,t[8]=Z*a+z*l+G*v,t}function bn(n,r){var t=[],e=r[0],i=r[1];return t[0]=n[0]*e+n[3]*i+n[6],t[1]=n[1]*e+n[4]*i+n[7],t}var ui=ge.vs,Ko="matrix",wg=["zIndex","capture","visible","type"],Sg=["repeat"];function _g(n,r){var t={},e=r.attrs;for(var i in n)t[i]=e[i];return t}function Eg(n,r){var t={},e=r.attr();return(0,c.S6)(n,function(i,a){-1===Sg.indexOf(a)&&!(0,c.Xy)(e[a],i)&&(t[a]=i)}),t}function Bg(n,r){if(r.onFrame)return n;var t=r.startTime,e=r.delay,i=r.duration,a=Object.prototype.hasOwnProperty;return(0,c.S6)(n,function(o){t+e<o.startTime+o.delay+o.duration&&i>o.delay&&(0,c.S6)(r.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),n}const Wu=function(n){function r(t){var e=n.call(this,t)||this;e.attrs={};var i=e.getDefaultAttrs();return(0,c.CD)(i,t.attrs),e.attrs=i,e.initAttrs(i),e.initAnimate(),e}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=e[0],o=e[1];if(!a)return this.attrs;if((0,c.Kn)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return 2===e.length?(this.setAttr(a,o),this.afterAttrsChange(((t={})[a]=o,t)),this):this.attrs[a]},r.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},r.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},r.prototype.onAttrChange=function(t,e,i){"matrix"===t&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),a=(this.get("el"),e.indexOf(this));e.splice(a,1),e.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),a=(this.get("el"),e.indexOf(this));e.splice(a,1),e.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Yu(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(Ko,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(Ko)},r.prototype.setMatrix=function(t){this.attr(Ko,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),i=this.cfg.parentMatrix;t=i&&e?Vu(i,e):e||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var i,e=this.attr("matrix");i=t&&e?Vu(t,e):e||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?bn(e,t):t},r.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var i=function(n){var r=[],t=n[0],e=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],u=n[7],f=n[8],v=f*o-s*u,p=-f*a+s*l,d=u*a-o*l,m=t*v+e*p+i*d;return m?(r[0]=v*(m=1/m),r[1]=(-f*e+i*u)*m,r[2]=(s*e-i*o)*m,r[3]=p*m,r[4]=(f*t-i*l)*m,r[5]=(-s*t+i*a)*m,r[6]=d*m,r[7]=(-u*t+e*l)*m,r[8]=(o*t-e*a)*m,r):null}(e);if(i)return bn(i,t)}return t},r.prototype.setClip=function(t){var e=this.getCanvas(),i=null;if(t){var s=this.getShapeBase()[(0,c.jC)(t.type)];s&&(i=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){return this.cfg.clipShape||null},r.prototype.clone=function(){var t=this,e=this.attrs,i={};(0,c.S6)(e,function(s,l){i[l]=(0,c.kJ)(e[l])?function(n){for(var r=[],t=0;t<n.length;t++)(0,c.kJ)(n[t])?r.push([].concat(n[t])):r.push(n[t]);return r}(e[l]):e[l]});var o=new(0,this.constructor)({attrs:i});return(0,c.S6)(wg,function(s){o.set(s,t.get(s))}),o},r.prototype.destroy=function(){this.destroyed||(this.attrs={},n.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var m,x,P,L,Z,o=t[0],s=t[1],l=t[2],u=void 0===l?"easeLinear":l,f=t[3],v=void 0===f?c.ZT:f,p=t[4],d=void 0===p?0:p;(0,c.mf)(o)?(m=o,o={}):(0,c.Kn)(o)&&o.onFrame&&(m=o.onFrame,x=o.repeat),(0,c.Kn)(s)?(s=(Z=s).duration,u=Z.easing||"easeLinear",d=Z.delay||0,x=Z.repeat||x||!1,v=Z.callback||c.ZT,P=Z.pauseCallback||c.ZT,L=Z.resumeCallback||c.ZT):((0,c.hj)(v)&&(d=v,v=null),(0,c.mf)(u)?(v=u,u="easeLinear"):u=u||"easeLinear");var z=Eg(o,this),G={fromAttrs:_g(z,this),toAttrs:z,duration:s,easing:u,repeat:x,callback:v,pauseCallback:P,resumeCallback:L,delay:d,startTime:i.getTime(),id:(0,c.EL)(),onFrame:m,pathFormatted:!1};a.length>0?a=Bg(a,G):i.addAnimator(this),a.push(G),this.set("animations",a),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var i=this.get("animations");(0,c.S6)(i,function(a){t&&e.attr(a.onFrame?a.onFrame(1):a.toAttrs),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),i=t.getTime();return(0,c.S6)(e,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return(0,c.S6)(i,function(o){o.startTime=o.startTime+(e-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,e){var s,i=this,a=e.propagationPath;this.getEvents(),"mouseenter"===t?s=e.fromShape:"mouseleave"===t&&(s=e.toShape);for(var l=function(p){var d=a[p],m=d.get("name");if(m){if((d.isGroup()||d.isCanvas&&d.isCanvas())&&s&&Hu(d,s))return"break";(0,c.kJ)(m)?(0,c.S6)(m,function(x){i.emitDelegateEvent(d,x,e)}):u.emitDelegateEvent(d,m,e)}},u=this,f=0;f<a.length&&"break"!==l(f);f++);},r.prototype.emitDelegateEvent=function(t,e,i){var a=this.getEvents(),o=e+":"+i.type;(a[o]||a["*"])&&(i.name=o,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(o,i))},r.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),a=ui(i,[["t",t,e]]);return this.setMatrix(a),this},r.prototype.move=function(t,e){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-i,e-a),this},r.prototype.moveTo=function(t,e){return this.move(t,e)},r.prototype.scale=function(t,e){var i=this.getMatrix(),a=ui(i,[["s",t,e||t]]);return this.setMatrix(a),this},r.prototype.rotate=function(t){var e=this.getMatrix(),i=ui(e,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,a=e.y,o=this.getMatrix(),s=ui(o,[["t",-i,-a],["r",t],["t",i,a]]);return this.setMatrix(s),this},r.prototype.rotateAtPoint=function(t,e,i){var a=this.getMatrix(),o=ui(a,[["t",-t,-e],["r",i],["t",t,e]]);return this.setMatrix(o),this},r}(Uu);var qu={},ts="_INDEX";function Ju(n,r){if(n.set("canvas",r),n.isGroup()){var t=n.get("children");t.length&&t.forEach(function(e){Ju(e,r)})}}function Qu(n,r){if(n.set("timeline",r),n.isGroup()){var t=n.get("children");t.length&&t.forEach(function(e){Qu(e,r)})}}const ju=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});return l.length>0?((0,c.S6)(l,function(f){var v=f.getBBox();o.push(v.minX,v.maxX),s.push(v.minY,v.maxY)}),t=(0,c.VV)(o),e=(0,c.Fp)(o),i=(0,c.VV)(s),a=(0,c.Fp)(s)):(t=0,e=0,i=0,a=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:a,width:e-t,height:a-i}},r.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});return l.length>0?((0,c.S6)(l,function(f){var v=f.getCanvasBBox();o.push(v.minX,v.maxX),s.push(v.minY,v.maxY)}),t=(0,c.VV)(o),e=(0,c.Fp)(o),i=(0,c.VV)(s),a=(0,c.Fp)(s)):(t=0,e=0,i=0,a=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:a,width:e-t,height:a-i}},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,e,i){if(n.prototype.onAttrChange.call(this,t,e,i),"matrix"===t){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},r.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();n.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==e&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,c.S6)(e,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],a=t[1];(0,c.Kn)(i)?a=i:a.type=i;var o=qu[a.type];o||(o=(0,c.jC)(a.type),qu[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},r.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o,i=t[0],a=t[1];if((0,c.mf)(i))o=new i(a||{parent:this});else{var s=i||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},r.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},r.prototype.getShape=function(t,e,i){if(!Nu(this))return null;var o,a=this.getChildren();if(this.isCanvas())o=this._findShape(a,t,e,i);else{var s=[t,e,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},r.prototype._findShape=function(t,e,i,a){for(var o=null,s=t.length-1;s>=0;s--){var l=t[s];if(Nu(l)&&(l.isGroup()?o=l.getShape(e,i,a):l.isHit(e,i)&&(o=l)),o)break}return o},r.prototype.add=function(t){var e=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&function(n,r,t){void 0===t&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),Yu(n.getChildren(),r)}(o,t,!1),t.set("parent",this),e&&Ju(t,e),a&&Qu(t,a),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();(0,c.S6)(t,function(e,i){return e[ts]=i,e}),t.sort(function(r,t){var e=function(e,i){return e.get("zIndex")-i.get("zIndex")}(r,t);return 0===e?r[ts]-t[ts]:e}),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),n.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){return this.getChildren()[t]},r.prototype.getCount=function(){return this.getChildren().length},r.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},r.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},r.prototype.findAll=function(t){var e=[],i=this.getChildren();return(0,c.S6)(i,function(a){t(a)&&e.push(a),a.isGroup()&&(e=e.concat(a.findAll(t)))}),e},r.prototype.find=function(t){var e=null,i=this.getChildren();return(0,c.S6)(i,function(a){if(t(a)?e=a:a.isGroup()&&(e=a.find(t)),e)return!1}),e},r.prototype.findById=function(t){return this.find(function(e){return e.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(e){return e.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(e){return e.get("name")===t})},r}(Wu);var Og=K(4729),$u=K(9012),Ku=K(634),Dg=K(1972),Fg=function(n){return["fill","stroke","fillStyle","strokeStyle"].includes(n)},Rg=function(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)},th=[1,0,0,0,1,0,0,0,1];function Zg(n,r,t){var e=r.startTime;if(t<e+r.delay||r._paused)return!1;var a,o=r.duration,s=r.easing;if(t=t-e-r.delay,r.repeat)a=$u[s](a=t%o/o);else{if(!((a=t/o)<1))return n.attr(r.onFrame?r.onFrame(1):r.toAttrs),!0;a=$u[s](a)}if(r.onFrame){var l=r.onFrame(a);n.attr(l)}else!function(n,r,t){var e={},i=r.fromAttrs,a=r.toAttrs;if(!n.destroyed){var o;for(var s in a)if(!(0,c.Xy)(i[s],a[s]))if("path"===s){var l=a[s],u=i[s];l.length>u.length?(l=li(a[s]),u=li(i[s]),u=yg(u,l),u=zu(u,l),r.fromAttrs.path=u,r.toAttrs.path=l):r.pathFormatted||(l=li(a[s]),u=li(i[s]),u=zu(u,l),r.fromAttrs.path=u,r.toAttrs.path=l,r.pathFormatted=!0),e[s]=[];for(var f=0;f<l.length;f++){for(var v=l[f],p=u[f],d=[],m=0;m<v.length;m++)(0,c.hj)(v[m])&&p&&(0,c.hj)(p[m])?(o=(0,Ku.Z)(p[m],v[m]),d.push(o(t))):d.push(v[m]);e[s].push(d)}}else if("matrix"===s){var P=(0,Dg.Z)(i[s]||th,a[s]||th)(t);e[s]=P}else Fg(s)&&Rg(a[s])?e[s]=a[s]:(0,c.mf)(a[s])||(o=(0,Ku.Z)(i[s],a[s]),e[s]=o(t));n.attr(e)}}(n,r,a);return!1}const Gg=function(){function n(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return n.prototype.initTimer=function(){var e,i,a,r=this;this.timer=Og.HT(function(o){if(r.current=o,r.animators.length>0){for(var s=r.animators.length-1;s>=0;s--)if((e=r.animators[s]).destroyed)r.removeAnimator(s);else{if(!e.isAnimatePaused())for(var l=(i=e.get("animations")).length-1;l>=0;l--)Zg(e,a=i[l],o)&&(i.splice(l,1),a.callback&&a.callback());0===i.length&&r.removeAnimator(s)}r.canvas.get("autoDraw")||r.canvas.draw()}})},n.prototype.addAnimator=function(r){this.animators.push(r)},n.prototype.removeAnimator=function(r){this.animators.splice(r,1)},n.prototype.isAnimating=function(){return!!this.animators.length},n.prototype.stop=function(){this.timer&&this.timer.stop()},n.prototype.stopAllAnimations=function(r){void 0===r&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},n.prototype.getTime=function(){return this.current},n}();var rh=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function nh(n,r,t){t.name=r,t.target=n,t.currentTarget=n,t.delegateTarget=n,n.emit(r,t)}function Ug(n,r,t){if(t.bubbles){var e=void 0,i=!1;if("mouseenter"===r?(e=t.fromShape,i=!0):"mouseleave"===r&&(i=!0,e=t.toShape),n.isCanvas()&&i)return;if(e&&Hu(n,e))return void(t.bubbles=!1);t.name=r,t.currentTarget=n,t.delegateTarget=n,n.emit(r,t)}}const Vg=function(){function n(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){t._triggerEvent(e.type,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,o,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var o=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,o,null),t._emitEvent("dragend",e,o,t.draggingShape),t._afterDrag(t.draggingShape,o,e)}},this.canvas=r.canvas}return n.prototype.init=function(){this._bindEvents()},n.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");(0,c.S6)(rh,function(e){t.addEventListener(e,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},n.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");(0,c.S6)(rh,function(e){t.removeEventListener(e,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},n.prototype._getEventObj=function(r,t,e,i,a,o){var s=new Zu(r,t);return s.fromShape=a,s.toShape=o,s.x=e.x,s.y=e.y,s.clientX=e.clientX,s.clientY=e.clientY,s.propagationPath.push(i),s},n.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},n.prototype._getPointInfo=function(r){var t=this.canvas,e=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:e.x,clientY:e.y}},n.prototype._triggerEvent=function(r,t){var e=this._getPointInfo(t),i=this._getShape(e,t),a=this["_on"+r],o=!1;if(a)a.call(this,e,i,t);else{var s=this.currentShape;"mouseenter"===r||"dragenter"===r||"mouseover"===r?(this._emitEvent(r,t,e,null,null,i),i&&this._emitEvent(r,t,e,i,null,i),"mouseenter"===r&&this.draggingShape&&this._emitEvent("dragenter",t,e,null)):"mouseleave"===r||"dragleave"===r||"mouseout"===r?(o=!0,s&&this._emitEvent(r,t,e,s,s,null),this._emitEvent(r,t,e,null,s,null),"mouseleave"===r&&this.draggingShape&&this._emitEvent("dragleave",t,e,null)):this._emitEvent(r,t,e,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var l=this.canvas;l.get("el").style.cursor=i.attr("cursor")||l.get("cursor")}},n.prototype._onmousedown=function(r,t,e){0===e.button&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=e.timeStamp),this._emitEvent("mousedown",e,r,t,null,null)},n.prototype._emitMouseoverEvents=function(r,t,e,i){var a=this.canvas.get("el");e!==i&&(e&&(this._emitEvent("mouseout",r,t,e,e,i),this._emitEvent("mouseleave",r,t,e,e,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,e,i),this._emitEvent("mouseenter",r,t,i,e,i)))},n.prototype._emitDragoverEvents=function(r,t,e,i,a){i?(i!==e&&(e&&this._emitEvent("dragleave",r,t,e,e,i),this._emitEvent("dragenter",r,t,i,e,i)),a||this._emitEvent("dragover",r,t,i)):e&&this._emitEvent("dragleave",r,t,e,e,i),a&&this._emitEvent("dragover",r,t,i)},n.prototype._afterDrag=function(r,t,e){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,e);i!==r&&this._emitMouseoverEvents(e,t,r,i),this.currentShape=i},n.prototype._onmouseup=function(r,t,e){if(0===e.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",e,r,t),this._emitEvent("dragend",e,r,i),this._afterDrag(i,r,e)):(this._emitEvent("mouseup",e,r,t),t===this.mousedownShape&&this._emitEvent("click",e,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},n.prototype._ondragover=function(r,t,e){e.preventDefault(),this._emitDragoverEvents(e,r,this.currentShape,t,!0)},n.prototype._onmousemove=function(r,t,e){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(e,r,a,t,!1),this._emitEvent("drag",e,r,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,v=s.clientX-r.clientX,p=s.clientY-r.clientY;e.timeStamp-this.mousedownTimeStamp>120||v*v+p*p>40?l&&l.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",e,r,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",e,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t)):(this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t))}else this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t)}},n.prototype._emitEvent=function(r,t,e,i,a,o){var s=this._getEventObj(r,t,e,i,a,o);if(i){s.shape=i,nh(i,r,s);for(var l=i.getParent();l;)l.emitDelegation(r,s),s.propagationStopped||Ug(l,r,s),s.propagationPath.push(l),l=l.getParent()}else nh(this.canvas,r,s)},n.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},n}();var ah=(0,Xu.qY)(),Wg=ah&&"firefox"===ah.name;!function(n){function r(t){var e=n.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");(0,c.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new Vg({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new Gg(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,e){var i=this.get("el");Gu&&(i.style.width=t+"px",i.style.height=e+"px")},r.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");Gu&&e&&(e.style.cursor=t)},r.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Wg&&!(0,c.UM)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,c.UM)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t);return this.getPointByClient(i.x,i.y)},r.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},r.prototype.getPointByClient=function(t,e){var a=this.get("el").getBoundingClientRect();return{x:t-a.left,y:e-a.top}},r.prototype.getClientByPoint=function(t,e){var a=this.get("el").getBoundingClientRect();return{x:t+a.left,y:e+a.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){this.get("eventController").destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),n.prototype.destroy.call(this))}}(ju),function(n){function r(){return null!==n&&n.apply(this,arguments)||this}(0,g.ZT)(r,n),r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=n.prototype.clone.call(this),e=this.getChildren(),i=0;i<e.length;i++)t.add(e[i].clone());return t}}(ju),function(n){function r(t){return n.call(this,t)||this}(0,g.ZT)(r,n),r.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){n.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),i=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(e){var l=bn(e,[t.minX,t.minY]),u=bn(e,[t.maxX,t.minY]),f=bn(e,[t.minX,t.maxY]),v=bn(e,[t.maxX,t.maxY]);i=Math.min(l[0],u[0],f[0],v[0]),o=Math.max(l[0],u[0],f[0],v[0]),a=Math.min(l[1],u[1],f[1],v[1]),s=Math.max(l[1],u[1],f[1],v[1])}var p=this.attrs;if(p.shadowColor){var d=p.shadowBlur,m=void 0===d?0:d,x=p.shadowOffsetX,P=void 0===x?0:x,L=p.shadowOffsetY,Z=void 0===L?0:L,G=o+m+P,j=a-m+Z,at=s+m+Z;i=Math.min(i,i-m+P),o=Math.max(o,G),a=Math.min(a,j),s=Math.max(s,at)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,e){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,e){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,e,1],s=(o=this.invertFromMatrix(o))[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!(!u||this.isClipped(s,l)||!(this.isInShape(s,l)||i&&i.isHit(s,l)||a&&a.isHit(s,l)))}}(Wu);var oh=new Map;function Cr(n,r){oh.set(n,r)}function sh(n){var r=n.attr();return{x:r.x,y:r.y,width:r.width,height:r.height}}function lh(n){var r=n.attr(),i=r.r;return{x:r.x-i,y:r.y-i,width:2*i,height:2*i}}var Ee=K(9005);function uh(n,r){return n&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r}function es(n,r){var t=n.get("startArrowShape"),e=n.get("endArrowShape");return t&&(r=uh(r,t.getCanvasBBox())),e&&(r=uh(r,e.getCanvasBBox())),r}var rs=null;var un=K(8599);function da(n,r){var t=n.prePoint,e=n.currentPoint,i=n.nextPoint,a=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2),o=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||0===Math.sin(l)||(0,c.vQ)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-e[1],i[0]-e[0])),f=Math.abs(Math.atan2(i[0]-e[0],i[1]-e[1]));return u=u>Math.PI/2?Math.PI-u:u,f=f>Math.PI/2?Math.PI-f:f,{xExtra:Math.cos(l/2-u)*(r/2*(1/Math.sin(l/2)))-r/2||0,yExtra:Math.cos(f-l/2)*(r/2*(1/Math.sin(l/2)))-r/2||0}}function hh(n,r,t){var e=new Zu(r,t);e.target=n,e.propagationPath.push(n),n.emitDelegation(r,e);for(var i=n.getParent();i;)i.emitDelegation(r,e),e.propagationPath.push(i),i=i.getParent()}Cr("rect",sh),Cr("image",sh),Cr("circle",lh),Cr("marker",lh),Cr("polyline",function(n){for(var t=n.attr().points,e=[],i=[],a=0;a<t.length;a++){var o=t[a];e.push(o[0]),i.push(o[1])}var s=Ee.Zr.getBBoxByArray(e,i),l=s.x,u=s.y,p={minX:l,minY:u,maxX:l+s.width,maxY:u+s.height};return{x:(p=es(n,p)).minX,y:p.minY,width:p.maxX-p.minX,height:p.maxY-p.minY}}),Cr("polygon",function(n){for(var t=n.attr().points,e=[],i=[],a=0;a<t.length;a++){var o=t[a];e.push(o[0]),i.push(o[1])}return Ee.Zr.getBBoxByArray(e,i)}),Cr("text",function(n){var r=n.attr(),t=r.x,e=r.y,i=r.text,a=r.fontSize,o=r.lineHeight,s=r.font;s||(s=function(n){return[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize+"px",n.fontFamily].join(" ").trim()}(r));var u,l=function(n,r){var t=function(){if(!rs){var n=document.createElement("canvas");n.width=1,n.height=1,rs=n.getContext("2d")}return rs}(),e=0;if((0,c.UM)(n)||""===n)return e;if(t.save(),t.font=r,(0,c.HD)(n)&&n.includes("\n")){var i=n.split("\n");(0,c.S6)(i,function(a){var o=t.measureText(a).width;e<o&&(e=o)})}else e=t.measureText(n).width;return t.restore(),e}(i,s);if(l){var f=r.textAlign,v=r.textBaseline,p=function(n,r,t){var e=1;return(0,c.HD)(n)&&(e=n.split("\n").length),e>1?r*e+function(n,r){return r?r-n:.14*n}(r,t)*(e-1):r}(i,a,o),d={x:t,y:e-p};f&&("end"===f||"right"===f?d.x-=l:"center"===f&&(d.x-=l/2)),v&&("top"===v?d.y+=p:"middle"===v&&(d.y+=p/2)),u={x:d.x,y:d.y,width:l,height:p}}else u={x:t,y:e,width:0,height:0};return u}),Cr("path",function(n){var r=n.attr(),t=r.path,i=r.stroke?r.lineWidth:0,o=function(n,r){for(var t=[],e=[],i=[],a=0;a<n.length;a++){var s=(o=n[a]).currentPoint,l=o.params,u=o.prePoint,f=void 0;switch(o.command){case"Q":f=Ee.lD.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":f=Ee.Ll.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var v=o.arcParams;f=Ee.wN.box(v.cx,v.cy,v.rx,v.ry,v.xRotation,v.startAngle,v.endAngle);break;default:t.push(s[0]),e.push(s[1])}f&&(o.box=f,t.push(f.x,f.x+f.width),e.push(f.y,f.y+f.height)),r&&("L"===o.command||"M"===o.command)&&o.prePoint&&o.nextPoint&&i.push(o)}t=t.filter(function(L){return!Number.isNaN(L)}),e=e.filter(function(L){return!Number.isNaN(L)});var p=(0,c.VV)(t),d=(0,c.VV)(e),m=(0,c.Fp)(t),x=(0,c.Fp)(e);if(0===i.length)return{x:p,y:d,width:m-p,height:x-d};for(a=0;a<i.length;a++){var o;(s=(o=i[a]).currentPoint)[0]===p?p-=da(o,r).xExtra:s[0]===m&&(m+=da(o,r).xExtra),s[1]===d?d-=da(o,r).yExtra:s[1]===x&&(x+=da(o,r).yExtra)}return{x:p,y:d,width:m-p,height:x-d}}(n.get("segments")||(0,un.zx)(t),i),s=o.x,l=o.y,v={minX:s,minY:l,maxX:s+o.width,maxY:l+o.height};return{x:(v=es(n,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}),Cr("line",function(n){var r=n.attr(),t=r.x1,e=r.y1,i=r.x2,a=r.y2,f={minX:Math.min(t,i),maxX:Math.max(t,i),minY:Math.min(e,a),maxY:Math.max(e,a)};return{x:(f=es(n,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}),Cr("ellipse",function(n){var r=n.attr(),i=r.rx,a=r.ry;return{x:r.x-i,y:r.y-a,width:2*i,height:2*a}});var ch=[1,0,0,0,1,0,0,0,1];function An(n,r,t){return void 0===t&&(t=ch),r?ge.vs(t,[["t",-n.x,-n.y],["r",r],["t",n.x,n.y]]):null}function ns(n,r){return n.x||n.y?ge.vs(r||ch,[["t",n.x,n.y]]):null}function ma(n,r){var t=[0,0];return se.kK(t,r,n),t}function fh(n,r,t,e){if(r){var i=An({x:t,y:e},r,n.getMatrix());n.setMatrix(i)}}function hi(n,r,t){var e=ns({x:r,y:t});n.attr("matrix",e)}function ya(n){var r=0,t=0,e=0,i=0;return(0,c.hj)(n)?r=t=e=i=n:(0,c.kJ)(n)&&(r=n[0],e=(0,c.UM)(n[1])?n[0]:n[1],i=(0,c.UM)(n[2])?n[0]:n[2],t=(0,c.UM)(n[3])?e:n[3]),[r,e,i,t]}function is(n){for(var r=n.childNodes,e=r.length-1;e>=0;e--)n.removeChild(r[e])}function ci(n){var r=n.start,t=n.end,e=Math.min(r.x,t.x),i=Math.min(r.y,t.y),a=Math.max(r.x,t.x),o=Math.max(r.y,t.y);return{x:e,y:i,minX:e,minY:i,maxX:a,maxY:o,width:a-e,height:o-i}}function fi(n,r,t,e){var i=n+t,a=r+e;return{x:n,y:r,width:t,height:e,minX:n,minY:r,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function hn(n,r,t){return(1-t)*n+r*t}function _n(n,r,t){return{x:n.x+Math.cos(t)*r,y:n.y+Math.sin(t)*r}}var xa=function(n,r,t){return void 0===t&&(t=Math.pow(Number.EPSILON,.5)),[n,r].includes(1/0)?Math.abs(n)===Math.abs(r):Math.abs(n-r)<t};function vh(n){var e,r=n.getClip(),t=r&&r.getBBox();if(n.isGroup()){var i=1/0,a=-1/0,o=1/0,s=-1/0,l=n.getChildren();l.length>0?(0,c.S6)(l,function(u){if(u.get("visible")){if(u.isGroup()&&0===u.get("children").length)return!0;var f=vh(u),v=u.applyToMatrix([f.minX,f.minY,1]),p=u.applyToMatrix([f.minX,f.maxY,1]),d=u.applyToMatrix([f.maxX,f.minY,1]),m=u.applyToMatrix([f.maxX,f.maxY,1]),x=Math.min(v[0],p[0],d[0],m[0]),P=Math.max(v[0],p[0],d[0],m[0]),L=Math.min(v[1],p[1],d[1],m[1]),Z=Math.max(v[1],p[1],d[1],m[1]);x<i&&(i=x),P>a&&(a=P),L<o&&(o=L),Z>s&&(s=Z)}}):(i=0,a=0,o=0,s=0),e=fi(i,o,a-i,s-o)}else e=n.getBBox();return t?function(n,r){var t=Math.max(n.minX,r.minX),e=Math.max(n.minY,r.minY);return fi(t,e,Math.min(n.maxX,r.maxX)-t,Math.min(n.maxY,r.maxY)-e)}(e,t):e}function He(n){return n+"px"}function ph(n,r,t,e){var a=e/function(n,r){var t=r.x-n.x,e=r.y-n.y;return Math.sqrt(t*t+e*e)}(n,r),o=0;return"start"===t?o=0-a:"end"===t&&(o=1+a),{x:hn(n.x,r.x,o),y:hn(n.y,r.y,o)}}var vd={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]};const gh=function(n){function r(t){var e=n.call(this,t)||this;return e.initCfg(),e}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var e=this,i=this.get("defaultCfg");(0,c.S6)(t,function(a,o){var l=a;e.get(o)!==a&&((0,c.Kn)(a)&&i[o]&&(l=(0,c.b$)({},i[o],a)),e.set(o,l))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,c.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,c.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},r.prototype.setLocation=function(t){var e=(0,g.pi)({},t);this.update(e)},r.prototype.getLocation=function(){var t=this,e={},i=this.get("locationType");return(0,c.S6)(vd[i],function(o){e[o]=t.get(o)}),e},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,c.S6)(e,function(i,a){var o=t.get(a);if((0,c.Kn)(o)){var s=(0,c.b$)({},i,o);t.set(a,s)}})},r}(Uu);var cn="update_status",gd=["visible","tip","delegateObject"],dd=["container","group","shapesMap","isRegister","isUpdating","destroyed"];const Oe=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear(),this.get("group").remove()},r.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},r.prototype.getElementsByName=function(t){var e=[];return(0,c.S6)(this.get("shapesMap"),function(i){i.get("name")===t&&e.push(i)}),e},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},r.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),n.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(e=function(n,r){var t=ma(n,[r.minX,r.minY]),e=ma(n,[r.maxX,r.minY]),i=ma(n,[r.minX,r.maxY]),a=ma(n,[r.maxX,r.maxY]),o=Math.min(t[0],e[0],i[0],a[0]),s=Math.max(t[0],e[0],i[0],a[0]),l=Math.min(t[1],e[1],i[1],a[1]),u=Math.max(t[1],e[1],i[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}(i,e)),e},r.prototype.on=function(t,e,i){return this.get("group").on(t,e,i),this},r.prototype.off=function(t,e){var i=this.get("group");return i&&i.off(t,e),this},r.prototype.emit=function(t,e){this.get("group").emit(t,e)},r.prototype.init=function(){n.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,e){var i=this.get("group");e.target=i,i.emit(t,e),hh(i,t,e)},r.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},r.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",vh(t)),t},r.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addComponent=function(t,e){var i=e.id,a=e.component,o=(0,g._T)(e,["id","component"]),s=new a((0,g.pi)((0,g.pi)({},o),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){this.get("group").off()},r.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},r.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},r.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},r.prototype.moveElementTo=function(t,e){var i=ns(e);t.attr("matrix",i)},r.prototype.addAnimation=function(t,e,i){var a=e.attr("opacity");(0,c.UM)(a)&&(a=1),e.attr("opacity",0),e.animate({opacity:a},i)},r.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},r.prototype.updateAnimation=function(t,e,i,a){e.animate(i,a)},r.prototype.updateElements=function(t,e){var l,i=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0);(0,c.S6)(s,function(u){var f=u.get("id"),v=i.getElementById(f),p=u.get("name");if(v)if(u.get("isComponent")){var d=u.get("component"),m=v.get("component"),x=(0,c.ei)(d.cfg,(0,c.e5)((0,c.XP)(d.cfg),dd));m.update(x),v.set(cn,"update")}else{var P=i.getReplaceAttrs(v,u);a&&o.update?i.updateAnimation(p,v,P,o.update):v.attr(P),u.isGroup()&&i.updateElements(u,v),(0,c.S6)(gd,function(G){v.set(G,u.get(G))}),function(n,r){if(n.getClip()||r.getClip()){var t=r.getClip();if(!t)return void n.setClip(null);var e={type:t.get("type"),attrs:t.attr()};n.setClip(e)}}(v,u),l=v,v.set(cn,"update")}else{e.add(u);var L=e.getChildren();if(L.splice(L.length-1,1),l){var Z=L.indexOf(l);L.splice(Z+1,0,u)}else L.unshift(u);if(i.registerElement(u),u.set(cn,"add"),u.get("isComponent")?(d=u.get("component")).set("container",e):u.isGroup()&&i.registerNewGroup(u),l=u,a){var z=i.get("isInit")?o.appear:o.enter;z&&i.addAnimation(p,u,z)}}})},r.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,c.S6)(e,function(i){i.set(cn,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},r.prototype.appendDelegateObject=function(t,e){var i=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,c.CD)(e.delegateObject,i)},r.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),a=e.attr();return(0,c.S6)(i,function(o,s){void 0===a[s]&&(a[s]=void 0)}),a},r.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();(0,c.S6)(i,function(a){e.registerElement(a),a.set(cn,"add"),a.isGroup()&&e.registerNewGroup(a)})},r.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),i=[];(0,c.S6)(e,function(s,l){!s.get(cn)||s.destroyed?i.push([l,s]):s.set(cn,null)});var a=this.get("animate"),o=this.get("animateOption");(0,c.S6)(i,function(s){var l=s[0],u=s[1];if(!u.destroyed){var f=u.get("name");if(a&&o.leave){var v=(0,c.CD)({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(f,u,v)}else t.removeElement(u)}delete e[l]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},r}(gh);function fn(n,r){return n.charCodeAt(r)>0&&n.charCodeAt(r)<128?1:2}function os(n){if(n.length>400)return function(n){for(var r=n.map(function(l){var u=l.attr("text");return(0,c.UM)(u)?"":""+u}),t=0,e=0,i=0;i<r.length;i+=1){for(var a=0,o=0;o<=r[i].length;o+=1){var s=r[i].charCodeAt(o);a+=s>=19968&&s<=40869?2:1}a>t&&(t=a,e=i)}return n[e].getBBox().width}(n);var r=0;return(0,c.S6)(n,function(t){var i=t.getBBox().width;r<i&&(r=i)}),r}function vi(n,r,t,e){void 0===e&&(e="tail");var i=r.attr("text"),a=function(n,r){var t=r.getCanvasBBox();return n?t.width:t.height}(n,r),o=function(n){for(var r=0,t=0;t<n.length;t++)r+=fn(n,t);return r}(i),s=!1;if(t<a){var u,l=Math.floor(t/a*o)-2;(u=l>=0?function(n,r,t){void 0===t&&(t="tail");var e=n.length,i="";if("tail"===t){for(var a=0,o=0;a<r&&a+fn(n,o)<=r;)i+=n[o],a+=fn(n,o),o++;i+="\u2026"}else if("head"===t){for(a=0,o=e-1;a<r&&a+fn(n,o)<=r;)i+=n[o],a+=fn(n,o),o--;i="\u2026"+i}else{for(var l="",u="",f=(a=0,0),v=e-1;a<r;){var p=fn(n,f),d=!1;p+a<=r&&(l+=n[f],f++,a+=p,d=!0);var m=fn(n,v);if(m+a<=r&&(u=n[v]+u,a+=m,v--,d=!0),!d)break}i=l+"\u2026"+u}return i}(i,l,e):"\u2026")&&(r.attr("text",u),s=!0)}return r.set("tip",s?i:null),s}function Ca(n,r){var t=r.x,e=r.y,i=r.content,a=r.style,o=r.id,s=r.name,l=r.rotate,u=r.maxLength,f=r.autoEllipsis,v=r.isVertical,p=r.ellipsisPosition,d=r.background,m=n.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:e}}),x=m.addShape({type:"text",id:o,name:s,attrs:(0,g.pi)({x:0,y:0,text:i},a)}),P=ya((0,c.U2)(d,"padding",0));if(u&&f&&vi(!v,x,u-(P[1]+P[3]),p),d){var Z=(0,c.U2)(d,"style",{}),z=x.getCanvasBBox();m.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:(0,g.pi)({x:z.minX-P[3],y:z.minY-P[0],width:z.width+P[1]+P[3],height:z.height+P[0]+P[2]},Z)}).toBack()}hi(m,t,e),fh(m,l,t,e)}const oe={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Ad=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:oe.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:oe.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:oe.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var e=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,g.pi)({x1:e.x,y1:e.y,x2:i.x,y2:i.y},a)})},r.prototype.getLabelPoint=function(t,e,i){var a;return((a="start"===i?0:"center"===i?.5:(0,c.HD)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:(0,c.hj)(i)?i:1)>1||a<0)&&(a=1),{x:hn(t.x,e.x,a),y:hn(t.y,e.y,a)}},r.prototype.renderLabel=function(t){var e=this.get("text"),i=this.get("start"),a=this.get("end"),s=e.content,l=e.style,u=e.offsetX,f=e.offsetY,v=e.autoRotate,p=e.maxLength,d=e.autoEllipsis,m=e.ellipsisPosition,x=e.background,P=e.isVertical,L=void 0!==P&&P,Z=this.getLabelPoint(i,a,e.position),z=Z.x+u,G=Z.y+f,j={id:this.getElementId("line-text"),name:"annotation-line-text",x:z,y:G,content:s,style:l,maxLength:p,autoEllipsis:d,ellipsisPosition:m,background:x,isVertical:L};if(v){var at=[a.x-i.x,a.y-i.y];j.rotate=Math.atan2(at[1],at[0])}Ca(t,j)},r}(Oe),Ed=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:oe.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:oe.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var e=this.getLocation(),i=e.x,a=e.y,o=this.get("content"),s=this.get("style");Ca(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:i,y:a,content:o,style:s,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),i=e.x,a=e.y,o=this.get("rotate");hi(t,i,a),fh(t,o,i,a)}},r}(Oe),Pd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=_n(e,i,a),l=_n(e,i,o),u=o-a>Math.PI?1:0,f=[["M",s.x,s.y]];if(o-a==2*Math.PI){var v=_n(e,i,a+Math.PI);f.push(["A",i,i,0,u,1,v.x,v.y]),f.push(["A",i,i,0,u,1,l.x,l.y])}else f.push(["A",i,i,0,u,1,l.x,l.y]);return f},r.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,g.pi)({path:e},i)})},r}(Oe),kd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:oe.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var e=this.get("start"),i=this.get("end"),a=this.get("style"),o=ci({start:e,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,g.pi)({x:o.x,y:o.y,width:o.width,height:o.height},a)})},r}(Oe),Od=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),i=this.get("style"),a=ci({start:t,end:e}),o=this.get("src");return(0,g.pi)({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(Oe),Fd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:oe.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:oe.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:oe.fontFamily}}}})},r.prototype.renderInner=function(t){(0,c.U2)(this.get("line"),"display")&&this.renderLine(t),(0,c.U2)(this.get("text"),"display")&&this.renderText(t),(0,c.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},r.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},r.prototype.renderText=function(t){var e=this.getShapeAttrs().text,i=e.x,a=e.y,o=e.text,s=(0,g._T)(e,["x","y","text"]),l=this.get("text"),u=l.background,f=l.maxLength,v=l.autoEllipsis,p=l.isVertival,d=l.ellipsisPosition;Ca(t,{x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:f,autoEllipsis:v,isVertival:p,ellipsisPosition:d})},r.prototype.autoAdjust=function(t){var e=this.get("direction"),i=this.get("x"),a=this.get("y"),o=(0,c.U2)(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,f=l.maxX,v=l.minY,p=l.maxY,d=t.findById(this.getElementId("text-group")),m=t.findById(this.getElementId("text")),x=t.findById(this.getElementId("line"));if(s){if(d){if(i+u<=s.minX){var P=s.minX-(i+u);hi(d,d.attr("x")+P,d.attr("y"))}i+f>=s.maxX&&(P=i+f-s.maxX,hi(d,d.attr("x")-P,d.attr("y")))}if("upward"===e&&a+v<=s.minY||"upward"!==e&&a+p>=s.maxY){var L=void 0,Z=void 0;"upward"===e&&a+v<=s.minY?(L="top",Z=1):(L="bottom",Z=-1),m.attr("textBaseline",L),x&&x.attr("path",[["M",0,0],["L",0,o*Z]]),hi(d,d.attr("x"),(o+2)*Z)}}},r.prototype.getShapeAttrs=function(){var t=(0,c.U2)(this.get("line"),"display"),e=(0,c.U2)(this.get("point"),"style",{}),i=(0,c.U2)(this.get("line"),"style",{}),a=(0,c.U2)(this.get("text"),"style",{}),o=this.get("direction"),s=t?(0,c.U2)(this.get("line"),"length",0):0,l="upward"===o?-1:1;return{point:(0,g.pi)({x:0,y:0},e),line:(0,g.pi)({path:[["M",0,0],["L",0,s*l]]},i),text:(0,g.pi)({x:0,y:(s+2)*l,text:(0,c.U2)(this.get("text"),"content",""),textBaseline:"upward"===o?"bottom":"top"},a)}},r}(Oe),zd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:oe.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:oe.textColor,fontFamily:oe.fontFamily}}}})},r.prototype.renderInner=function(t){var e=(0,c.U2)(this.get("region"),"style",{}),a=((0,c.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),o=this.get("points");if(o.length){var s=function(n){var r=n.map(function(s){return s.x}),t=n.map(function(s){return s.y}),e=Math.min.apply(Math,r),i=Math.min.apply(Math,t),a=Math.max.apply(Math,r),o=Math.max.apply(Math,t);return{x:e,y:i,minX:e,minY:i,maxX:a,maxY:o,width:a-e,height:o-i}}(o),l=[];l.push(["M",o[0].x,s.minY-a]),o.forEach(function(f){l.push(["L",f.x,f.y])}),l.push(["L",o[o.length-1].x,o[o.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,g.pi)({path:l},e)}),Ca(t,(0,g.pi)({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-a},this.get("text")))}},r}(Oe),Yd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var e=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,c.S6)(this.get("shapes"),function(l,u){var f=l.get("type"),v=(0,c.d9)(l.attr());e.adjustShapeAttrs(v),e.addShape(o,{id:e.getElementId("shape-"+f+"-"+u),capture:!1,type:f,attrs:v})});var s=ci({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},r.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},r}(Oe),Hd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"shape",draw:c.ZT})},r.prototype.renderInner=function(t){var e=this.get("render");(0,c.mf)(e)&&e(t)},r}(Oe);function Ne(n,r,t){var e;try{e=window.getComputedStyle?window.getComputedStyle(n,null)[r]:n.style[r]}catch(i){}finally{e=void 0===e?t:e}return e}const ss=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},r.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){this.getContainer().style.pointerEvents=t?"auto":"none",this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer();return fi(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){is(this.get("container"))},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),n.prototype.destroy.call(this)},r.prototype.init=function(){n.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,c.UM)(t)){t=this.createDom();var e=this.get("parent");(0,c.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else(0,c.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,c.b$)({},e,t):e,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var i=this.get("containerClassName");i&&function(n,r){return!!n.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}(e,i)&&Be(e,t[i])}},r.prototype.applyChildrenStyles=function(t,e){(0,c.S6)(e,function(i,a){var o=t.getElementsByClassName(a);(0,c.S6)(o,function(s){Be(s,i)})})},r.prototype.applyStyle=function(t,e){Be(e,this.get("domStyles")[t])},r.prototype.createDom=function(){return gr(this.get("containerTpl"))},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,c.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(gh),Jd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),e=this.get("html");is(t);var i=(0,c.mf)(e)?e(t):e;(0,c.kK)(i)?t.appendChild(i):(0,c.HD)(i)&&t.appendChild(gr(i)),this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),i=e.x,a=e.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),f=function(n,r){var t=function(n,r){var t=Ne(n,"width",r);return"auto"===t&&(t=n.offsetWidth),parseFloat(t)}(n,r),e=parseFloat(Ne(n,"borderLeftWidth"))||0,i=parseFloat(Ne(n,"paddingLeft"))||0,a=parseFloat(Ne(n,"paddingRight"))||0,o=parseFloat(Ne(n,"borderRightWidth"))||0,s=parseFloat(Ne(n,"marginRight"))||0;return t+e+o+i+a+(parseFloat(Ne(n,"marginLeft"))||0)+s}(t),v=function(n,r){var t=function(n,r){var t=Ne(n,"height",r);return"auto"===t&&(t=n.offsetHeight),parseFloat(t)}(n,r),e=parseFloat(Ne(n,"borderTopWidth"))||0,i=parseFloat(Ne(n,"paddingTop"))||0,a=parseFloat(Ne(n,"paddingBottom"))||0;return t+e+(parseFloat(Ne(n,"borderBottomWidth"))||0)+i+a+(parseFloat(Ne(n,"marginTop"))||0)+(parseFloat(Ne(n,"marginBottom"))||0)}(t),p={x:i,y:a};"middle"===o?p.x-=Math.round(f/2):"right"===o&&(p.x-=Math.round(f)),"middle"===s?p.y-=Math.round(v/2):"bottom"===s&&(p.y-=Math.round(v)),l&&(p.x+=l),u&&(p.y+=u),Be(t,{position:"absolute",left:p.x+"px",top:p.y+"px",zIndex:this.get("zIndex")})},r}(ss);function pi(n,r,t){var e=r+"Style",i=null;return(0,c.S6)(t,function(a,o){n[o]&&a[e]&&(i||(i={}),(0,c.CD)(i,a[e]))}),i}const dh=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:oe.lineColor}},tickLine:{style:{lineWidth:1,stroke:oe.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:oe.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:oe.textColor,fontFamily:oe.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:oe.textColor,textBaseline:"middle",fontFamily:oe.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:oe.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,e){(0,c.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("tickStates"),i=[];return(0,c.S6)(e,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,c.S6)(i,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,c.hX)(i,function(a){return e.hasState(a,t)})},r.prototype.getSidePoint=function(t,e){var a=this.getSideVector(e,t);return{x:t.x+a[0],y:t.y+a[1]}},r.prototype.getTextAnchor=function(t){var e;return(0,c.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},r.prototype.getTextBaseline=function(t){var e;return(0,c.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,c.CD)({path:e},i.style)})},r.prototype.getTickLineItems=function(t){var e=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1;return t.length>=2&&(l=t[1].value-t[0].value),(0,c.S6)(t,function(f){var v=f.point;o||(v=e.getTickPoint(f.value-l/2));var p=e.getSidePoint(v,s);i.push({startPoint:v,tickValue:f.value,endPoint:p,tickId:f.id,id:"tickline-"+f.id})}),i},r.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),a=i.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=t[s],u=t[s+1],f=0;f<a;f++){var v=(f+1)/(a+1),p=(1-v)*l.tickValue+v*u.tickValue,d=this.getTickPoint(p),m=this.getSidePoint(d,i.length);e.push({startPoint:d,endPoint:m,tickValue:p,id:"sub-"+l.id+"-"+f})}return e},r.prototype.getTickLineAttrs=function(t,e,i,a){var o=this.get(e).style,s={points:[t.startPoint,t.endPoint]},l=(0,c.U2)(this.get("theme"),["tickLine","style"],{});o=(0,c.mf)(o)?(0,c.CD)({},l,o(s,i,a)):o;var u=t.startPoint,f=t.endPoint;return(0,g.pi)({x1:u.x,y1:u.y,x2:f.x,y2:f.y},o)},r.prototype.drawTick=function(t,e,i,a,o){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,a,o)})},r.prototype.drawTickLines=function(t){var e=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if((0,c.S6)(o,function(f,v){if(l.displayWithLabel){var p=e.getElementId("label-"+f.tickId);t.findById(p)&&e.drawTick(f,s,"tickLine",v,o)}else e.drawTick(f,s,"tickLine",v,o)}),a){var u=this.getSubTickLineItems(o);(0,c.S6)(u,function(f,v){e.drawTick(f,s,"subTickLine",v,u)})}},r.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,c.S6)(e,function(i){i.point=t.getTickPoint(i.value),(0,c.UM)(i.id)&&(i.id=i.name)})},r.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");(0,c.S6)(i,function(a){e.applyTickStates(a,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=(0,c.dp)(e);if(i>t.threshold){var a=Math.ceil(i/t.threshold),o=e.filter(function(s,l){return l%a==0});this.set("ticks",o),this.set("originalTicks",e)}}},r.prototype.getLabelAttrs=function(t,e,i){var a=this.get("label"),o=a.offset,s=a.rotate,l=a.formatter,u=this.getSidePoint(t.point,o),f=this.getSideVector(o,u),v=l?l(t.name,t,e):t.name,p=a.style;p=(0,c.mf)(p)?(0,c.U2)(this.get("theme"),["label","style"],{}):p;var d=(0,c.CD)({x:u.x,y:u.y,text:v,textAlign:this.getTextAnchor(f),textBaseline:this.getTextBaseline(f)},p);return s&&(d.matrix=An(u,s)),d},r.prototype.drawLabels=function(t){var e=this,i=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,c.S6)(i,function(p,d){e.addShape(a,{type:"text",name:"axis-label",id:e.getElementId("label-"+p.id),attrs:e.getLabelAttrs(p,d,i),delegateObject:{tick:p,item:p,index:d}})}),this.processOverlap(a);var o=a.getChildren(),s=(0,c.U2)(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,f=l.formatter;if((0,c.mf)(u)){var v=o.map(function(p){return(0,c.U2)(p.get("delegateObject"),"tick")});(0,c.S6)(o,function(p,d){var m=p.get("delegateObject").tick,x=f?f(m.name,m,d):m.name,P=(0,c.CD)({},s,u(x,d,v));p.attr(P)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,a=t.offset,o=t.spacing,s=void 0===o?0:o,l=t.autoRotate,u=e.fontSize,f=.5;"start"===i?f=0:"end"===i&&(f=1);var v=this.getTickPoint(f),p=this.getSidePoint(v,a||s+u/2),d=(0,c.CD)({x:p.x,y:p.y,text:t.text},e),m=t.rotate,x=m;if((0,c.UM)(m)&&l){var P=this.getAxisVector(v);x=ge.Dg(P,[1,0],!0)}if(x){var Z=An(p,x);d.matrix=Z}return d},r.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},r.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=e.findById(o);if(s){var l=pi(t,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+t.id),f=e.findById(u);if(f){var v=pi(t,"tickLine",a);v&&f.attr(v)}}},r.prototype.updateTickStates=function(t){var e=this.getItemStates(t),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(o){var u=pi(t,"label",i);u&&o.attr(u)}if(l){var f=pi(t,"tickLine",i);f&&l.attr(f)}}else o&&o.attr(a.style),l&&l.attr(s.style)},r}(Oe);function ls(n,r,t,e){var i=r.getChildren(),a=!1;return(0,c.S6)(i,function(o){var s=vi(n,o,t,e);a=a||s}),a}function jd(){return mh}function $d(n,r,t){return ls(n,r,t,"head")}function mh(n,r,t){return ls(n,r,t,"tail")}function Kd(n,r,t){return ls(n,r,t,"middle")}function yh(n){return(function(n){var r=n.attr("matrix");return r&&1!==r[0]}(n)?function(n){var t=[0,0,0];return oi(t,[1,0,0],n),Math.atan2(t[1],t[0])}(n.attr("matrix")):0)%360}function us(n,r,t,e){var i=!1,a=yh(r),o=Math.abs(n?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),s=(n?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(n){var l=Math.abs(Math.cos(a));i=xa(l,0,Math.PI/180)?s.width+e>o:s.height/l+e>o}else l=Math.abs(Math.sin(a)),i=xa(l,0,Math.PI/180)?s.width+e>o:s.height/l+e>o;return i}function gi(n,r,t,e){var i=(null==e?void 0:e.minGap)||0,a=r.getChildren().slice().filter(function(m){return m.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,u=a[0],f=1;f<s;f++){var v=a[f];v.getBBox(),us(n,u,v,i)?(v.hide(),o=!0):u=v}return o}function xh(n,r,t){var e=(null==t?void 0:t.minGap)||0,i=r.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),l=i[1],u=i.length,f=yh(o),v=Math.abs(n?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),p=0;if(n){var d=Math.abs(Math.cos(f));p=xa(d,0,Math.PI/180)?(os(i)+e)/v:(s.height/d+e)/v}else d=Math.abs(Math.sin(f)),p=xa(d,0,Math.PI/180)?(os(i)+e)/v:(s.height/d+e)/v;if(p>1){p=Math.ceil(p);for(var x=0;x<u;x++)x%p!=0&&(i[x].hide(),a=!0)}return a}function e0(){return Ch}function r0(n,r,t,e){return gi(n,r,!1,e)}function n0(n,r,t,e){return gi(n,r,!0,e)}function a0(n,r,t,e){var i=(null==e?void 0:e.minGap)||0,a=r.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,u=a[s-1],f=a[0],v=1;v<s-1;v++){var p=a[v];p.getBBox(),us(n,f,p,i)?(p.hide(),o=!0):f=p}return us(n,f,u,i)&&(f.hide(),o=!0),o}function Ch(n,r,t,e){var i=xh(n,r,e);return gi(n,r,!1)&&(i=!0),i}function o0(n,r,t,e){var i=r.getChildren().slice(),a=xh(n,r,e);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),gi(n,r,!1,e)&&(a=!0)),s.get("visible")||(s.show(),gi(n,r,!0,e)&&(a=!0))}return a}function Mh(n,r,t,e){var i=r.getChildren();if(!i.length||!n&&i.length<2)return!1;var a=os(i),o=!1;return(o=n?!!t&&a>t:a>Math.abs(i[1].attr("x")-i[0].attr("x")))&&function(n,r){(0,c.S6)(n,function(t){var a=An({x:t.attr("x"),y:t.attr("y")},r);t.attr("matrix",a)})}(i,e(t,a)),o}function l0(){return wh}function wh(n,r,t,e){return Mh(n,r,t,function(){return(0,c.hj)(e)?e:n?oe.verticalAxisRotate:oe.horizontalAxisRotate})}function u0(n,r,t){return Mh(n,r,t,function(e,i){if(!e)return n?oe.verticalAxisRotate:oe.horizontalAxisRotate;if(n)return-Math.acos(e/i);var a=0;return(e>i||(a=Math.asin(e/i))>Math.PI/4)&&(a=Math.PI/4),a})}const c0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),i=n.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,e.x,i.x),o=Math.min(t.y,e.y,i.y),s=Math.max(t.x,e.x,i.maxX),l=Math.max(t.y,e.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},r.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,c.vQ)(t.x,e.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,c.vQ)(t.y,e.y)},r.prototype.getTickPoint=function(t){var i=this.get("start"),a=this.get("end");return{x:i.x+(a.x-i.x)*t,y:i.y+(a.y-i.y)*t}},r.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=se.Fv([0,0],e),a=this.get("verticalFactor");return se.bA([0,0],[i[1],-1*i[0]],t*a)},r.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},r.prototype.processOverlap=function(t){var e=this,i=this.isVertical(),a=this.isHorizontal();if(i||a){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,f=l,v=0,p=0;s&&(v=s.style.fontSize,p=s.spacing),f&&(f=f-u-p-v);var d=this.get("overlapOrder");if((0,c.S6)(d,function(P){o[P]&&e.canProcessOverlap(P)&&e.autoProcessOverlap(P,o[P],t,f)}),s&&(0,c.UM)(s.offset)){var m=t.getCanvasBBox();s.offset=u+(i?m.width:m.height)+p+v/2}}},r.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,c.UM)(e.rotate)},r.prototype.autoProcessOverlap=function(t,e,i,a){var o=this,s=this.isVertical(),l=!1,u=wt[t];if(!0===e?(this.get("label"),l=u.getDefault()(s,i,a)):(0,c.mf)(e)?l=e(s,i,a):(0,c.Kn)(e)?u[e.type]&&(l=u[e.type](s,i,a,e.cfg)):u[e]&&(l=u[e](s,i,a)),"autoRotate"===t){if(l){var p=i.getChildren(),d=this.get("verticalFactor");(0,c.S6)(p,function(x){"center"===x.attr("textAlign")&&x.attr("textAlign",d>0?"end":"start")})}}else if("autoHide"===t){var m=i.getChildren().slice(0);(0,c.S6)(m,function(x){x.get("visible")||(o.get("isRegister")&&o.unregisterElement(x),x.remove())})}},r}(dh),v0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===2*Math.PI)u=[["M",e,i-o],["A",a,o,0,1,1,e,i+o],["A",a,o,0,1,1,e,i-o],["Z"]];else{var f=this.getCirclePoint(s),v=this.getCirclePoint(l),p=Math.abs(l-s)>Math.PI?1:0;u=[["M",e,i],["L",f.x,f.y],["A",a,o,0,p,s>l?0:1,v.x,v.y],["L",e,i]]}return u},r.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=this.get("endAngle");return this.getCirclePoint(e+(i-e)*t)},r.prototype.getSideVector=function(t,e){var i=this.get("center"),a=[e.x-i.x,e.y-i.y],o=this.get("verticalFactor"),s=se.kE(a);return se.bA(a,a,o*t/s),a},r.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},r.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},r}(dh),hs=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:oe.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:oe.textColor,textAlign:"center",textBaseline:"middle",fontFamily:oe.fontFamily}},textBackground:{padding:5,style:{stroke:oe.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var e=this.get("text"),i=e.style,a=e.autoRotate,o=e.content;if(!(0,c.UM)(o)){var s=this.getTextPoint(),l=null;a&&(l=An(s,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,g.pi)((0,g.pi)((0,g.pi)({},s),{text:o,matrix:l}),i)})}},r.prototype.renderLine=function(t){var e=this.getLinePath(),a=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,g.pi)({path:e},a)})},r.prototype.renderBackground=function(t){var e=this.getElementId("text"),i=t.findById(e),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=ya(a.padding),l=a.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,g.pi)({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},l)}).toBack()}},r}(Oe),Sh=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text").position,o=Math.atan2(i.y-e.y,i.x-e.x);return"start"===a?o-Math.PI/2:o+Math.PI/2},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text");return ph(e,i,a.position,a.offset)},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[["M",e.x,e.y],["L",i.x,i.y]]},r}(hs),m0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:i-Math.PI/2},r.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,i=t.offset,a=this.getLocation(),o=a.center,s=a.radius,f="start"===e?a.startAngle:a.endAngle,v=this.getRotateAngle()-Math.PI,p=_n(o,s,f),d=Math.cos(v)*i,m=Math.sin(v)*i;return{x:p.x+d,y:p.y+m}},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a==2*Math.PI){var l=e.x,u=e.y;s=[["M",l,u-i],["A",i,i,0,1,1,l,u+i],["A",i,i,0,1,1,l,u-i],["Z"]]}else{var f=_n(e,i,a),v=_n(e,i,o),p=Math.abs(o-a)>Math.PI?1:0;s=[["M",f.x,f.y],["A",i,i,0,p,a>o?0:1,v.x,v.y]]}return s},r}(hs);var mi,di="g2-crosshair",cs=di+"-line",fs=di+"-text";const y0=((mi={})[""+di]={position:"relative"},mi[""+cs]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},mi[""+fs]={position:"absolute",color:oe.textColor,fontFamily:oe.fontFamily},mi),C0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+di+'"></div>',crosshairTpl:'<div class="'+cs+'"></div>',textTpl:'<span class="'+fs+'">{content}</span>',domStyles:null,containerClassName:di,defaultStyles:y0,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),i=gr(this.get("crosshairTpl"));t.appendChild(i),this.applyStyle(cs,i),this.set("crosshairEl",i)},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text");return ph(e,i,a.position,a.offset)},r.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var i=t.content;if(!e){var a=this.getContainer();e=gr((0,c.ng)(this.get("textTpl"),t)),a.appendChild(e),this.applyStyle(fs,e),this.set("textEl",e)}e.innerHTML=i}else e&&e.remove()},r.prototype.isVertical=function(t,e){return t.x===e.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),i=this.get("end"),a=Math.min(e.x,i.x),o=Math.min(e.y,i.y);this.isVertical(e,i)?Be(t,{width:"1px",height:He(Math.abs(i.y-e.y))}):Be(t,{height:"1px",width:He(Math.abs(i.x-e.x))}),Be(t,{top:He(o),left:He(a)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,i=t.clientWidth,a=this.getTextPoint();switch(e){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i}Be(t,{top:He(a.y),left:He(a.x)})}},r.prototype.updateInner=function(t){(0,c.wH)(t,"text")&&this.resetText(),n.prototype.updateInner.call(this,t)},r}(ss),Th=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:oe.lineColor}}}})},r.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),a=e.slice(0).reverse(),o=this.getGridPath(a,!0);return this.get("closed")?i=i.concat(o):(o[0][0]="L",(i=i.concat(o)).push(["Z"])),i},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var e=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;(0,c.S6)(a,function(l,u){var f=l.id||u;if(i){var v=e.getPathStyle();v=(0,c.mf)(v)?v(l,u,a):v;var p=e.getElementId("line-"+f),d=e.getGridPath(l.points);e.addShape(t,{type:"path",name:"grid-line",id:p,attrs:(0,c.CD)({path:d},v)})}if(o&&u>0){var m=e.getElementId("region-"+f),x=u%2==0;(0,c.HD)(o)?x&&e.drawAlternateRegion(m,t,s.points,l.points,o):e.drawAlternateRegion(m,t,s.points,l.points,x?o[1]:o[0])}s=l})},r.prototype.drawAlternateRegion=function(t,e,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},r}(Oe),T0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,e){var i=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if("circle"===i){var s=this.get("center"),l=t[0],u=function(n,r,t,e){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}(s.x,s.y,l.x,l.y),f=e?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,f,s.x,s.y+u]),o.push(["A",u,u,0,0,f,s.x,s.y-u]),o.push(["Z"])):(0,c.S6)(t,function(v,p){o.push(0===p?["M",v.x,v.y]:["A",u,u,0,0,f,v.x,v.y])})}else(0,c.S6)(t,function(v,p){o.push(0===p?["M",v.x,v.y]:["L",v.x,v.y])}),a&&o.push(["Z"]);return o},r}(Th),A0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"line"})},r.prototype.getGridPath=function(t){var e=[];return(0,c.S6)(t,function(i,a){e.push(0===a?["M",i.x,i.y]:["L",i.x,i.y])}),e},r}(Th),bh=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=n.prototype.getLayoutBBox.call(this),e=this.get("maxWidth"),i=this.get("maxHeight"),a=t.width,o=t.height;return e&&(a=Math.min(a,e)),i&&(o=Math.min(o,i)),fi(t.minX,t.minY,a,o)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+a})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),a=ya(e.padding),o=(0,g.pi)({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o}).toBack()},r.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,u=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,g.pi)({text:s,x:e.x,y:e.y},o)}).getBBox();this.set("currentPoint",{x:e.x,y:u.maxY+a})},r.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var i=ya(t.padding);e.x=i[3],e.y=i[0]}this.set("currentPoint",e)},r}(Oe);var vs={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Ma={fill:oe.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:oe.fontFamily,fontWeight:"normal",lineHeight:12};const B0=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:i},100):e.attr({matrix:i})}},t.onNavigationAfter=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:i},100):e.attr({matrix:i})}},t}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:oe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:oe.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:vs,itemName:{spacing:16,style:Ma},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Ma},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:oe.uncheckedColor},markerStyle:{fill:oe.uncheckedColor,stroke:oe.uncheckedColor}},inactive:{nameStyle:{fill:oe.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,e){(0,c.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,e,i){t[e]=i;var a=this.getElementByLocalId("item-"+t.id);if(a){var s=this.getItems().indexOf(t),l=this.createOffScreenGroup(),u=this.drawItem(t,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("itemStates"),i=[];return(0,c.S6)(e,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,c.S6)(i,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,c.hX)(i,function(a){return e.hasState(a,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,c.S6)(t,function(e){e.id||(e.id=e.name)})},r.prototype.drawItems=function(t){var e=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),f=this.get("currentPoint"),v=f.x,p=f.y,d=this.get("layout"),m=this.get("items"),x=!1,P=0,L=this.get("maxWidth"),Z=this.get("maxHeight");(0,c.S6)(m,function(z,G){var j=e.drawItem(z,G,o,a),at=j.getBBox(),Tt=s||at.width;Tt>P&&(P=Tt),"horizontal"===d?(L&&L<f.x+Tt-v&&(x=!0,f.x=v,f.y+=o+u),e.moveElementTo(j,f),f.x+=Tt+l):(Z&&Z<f.y+o+u-p&&(x=!0,f.x+=P+l,f.y=p,P=0),e.moveElementTo(j,f),f.y+=o+u)}),x&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=v,this.startY=p,this.adjustNavigation(t,a))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,c.mf)(e)){var i=this.getItems();i.forEach(function(a,o){var s=(0,g.pi)((0,g.pi)({},Ma),e(a,o,i)).fontSize;t<s&&(t=s)})}else e&&(t=e.fontSize)}return t},r.prototype.drawMarker=function(t,e,i,a){var o=(0,g.pi)((0,g.pi)((0,g.pi)({x:0,y:a/2},e.style),{symbol:(0,c.U2)(i.marker,"symbol","circle")}),(0,c.U2)(i.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),v=u.fill;return u.stroke&&s.set("isStroke",!0),v&&s.set("isFill",!0),s},r.prototype.drawItemText=function(t,e,i,a,o,s,l){var u=i.formatter,f=i.style,v=(0,g.pi)((0,g.pi)({x:s,y:o/2,text:u?u(a[e],a,l):a[e]},Ma),(0,c.mf)(f)?f(a,l,this.getItems()):f);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+e),name:"legend-item-"+e,attrs:v})},r.prototype.drawItem=function(t,e,i,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:e}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:e}}),u=this.get("marker"),f=this.get("itemName"),v=this.get("itemValue"),p=this.get("itemBackground"),d=this.getLimitItemWidth(),m=0;if(u){var x=this.drawMarker(l,u,t,i),P=u.spacing,L=(0,c.U2)(t,["marker","spacing"]);(0,c.hj)(L)&&(P=L),m=x.getBBox().maxX+P}if(f){var Z=this.drawItemText(l,"name",f,t,i,m,e);d&&vi(!0,Z,(0,c.uZ)(d-m,0,d)),m=Z.getBBox().maxX+f.spacing}if(v){var z=this.drawItemText(l,"value",v,t,i,m,e);d&&(v.alignRight?(z.attr({textAlign:"right",x:d}),vi(!0,z,(0,c.uZ)(d-m,0,d),"head")):vi(!0,z,(0,c.uZ)(d-m,0,d)))}if(p){var G=l.getBBox();this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:(0,g.pi)({x:0,y:0,width:G.width,height:i},p.style)}).toBack()}return this.applyItemStates(t,l),l},r.prototype.adjustNavigation=function(t,e){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),l=e.findAll(function(Vt){return"legend-item"===Vt.get("name")}),u=this.get("maxWidth"),f=this.get("maxHeight"),v=this.get("itemWidth"),p=this.get("itemSpacing"),d=this.getItemHeight(),m=(0,c.b$)({},vs,this.get("pageNavigator")),x=this.drawNavigation(t,s,"00/00",m),P=x.getBBox(),L={x:a,y:o},Z=1,z=0,G=0,j=0,at=this.get("itemMarginBottom");if("horizontal"===s){var Tt=this.get("maxRow")||1,kt=d+(1===Tt?0:at);this.pageHeight=kt*Tt,(0,c.S6)(l,function(Vt){var Kt=Vt.getBBox(),te=v||Kt.width;(z&&z<L.x+te+p||u<L.x+te+p+P.width)&&(1===Z&&(i.pageWidth=z=L.x+p,i.moveElementTo(x,{x:u-p-P.width-P.minX,y:L.y+d/2-P.height/2-P.minY})),Z+=1,L.x=a,L.y+=kt),i.moveElementTo(Vt,L),Vt.getParent().setClip({type:"rect",attrs:{x:L.x,y:L.y,width:te+p,height:d}}),L.x+=te+p})}else{(0,c.S6)(l,function(Vt){var Kt=Vt.getBBox();Kt.width>G&&(G=Kt.width)}),j=G,G+=p,u&&(G=Math.min(u,G),j=Math.min(u,j)),this.pageWidth=G,this.pageHeight=f-Math.max(P.height,d+at);var Yt=Math.floor(this.pageHeight/(d+at));(0,c.S6)(l,function(Vt,Kt){0!==Kt&&Kt%Yt==0&&(Z+=1,L.x+=G,L.y=o),i.moveElementTo(Vt,L),Vt.getParent().setClip({type:"rect",attrs:{x:L.x,y:L.y,width:G,height:d}}),L.y+=d+at}),this.totalPagesCnt=Z,this.moveElementTo(x,{x:a+j/2-P.width/2-P.minX,y:f-P.height-P.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt="horizontal"===s&&this.get("maxRow")?Math.ceil(Z/this.get("maxRow")):Z,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(x),e.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,e,i,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=(0,c.U2)(a.marker,"style",{}),u=l.size,f=void 0===u?12:u,v=(0,g._T)(l,["size"]),p=this.drawArrow(s,o,"navigation-arrow-left","horizontal"===e?"up":"left",f,v);p.on("click",this.onNavigationBack);var d=p.getBBox();o.x+=d.width+2;var x=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,g.pi)({x:o.x,y:o.y+f/2,text:i,textBaseline:"middle"},(0,c.U2)(a.text,"style"))}).getBBox();return o.x+=x.width+2,this.drawArrow(s,o,"navigation-arrow-right","horizontal"===e?"down":"right",f,v).on("click",this.onNavigationAfter),s},r.prototype.updateNavigation=function(t){var i=(0,c.b$)({},vs,this.get("pageNavigator")).marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,l=i.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,f=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),v=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),p=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),d=f.getBBox();f.attr("text",u);var m=f.getBBox();f.attr("x",f.attr("x")-(m.width-d.width)/2),v.attr("opacity",1===this.currentPageIndex?l:o),v.attr("fill",1===this.currentPageIndex?s:a),v.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),p.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),p.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),p.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},r.prototype.drawArrow=function(t,e,i,a,o,s){var l=e.x,u=e.y,f={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},v=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:(0,g.pi)({path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return v.attr("matrix",An({x:l+o/2,y:u+o/2},f[a])),v},r.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,i=t.pageWidth,a=t.pageHeight;return ns("horizontal"===this.get("layout")?{x:0,y:a*(1-e)}:{x:i*(1-e),y:0})},r.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var o=e.getChildren(),s=this.get("itemStates");(0,c.S6)(o,function(l){var f=l.get("name").split("-")[2],v=pi(t,f,s);v&&(l.attr(v),"marker"===f&&(!l.get("isStroke")||!l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},r}(bh),k0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:oe.textColor,textBaseline:"middle",fontFamily:oe.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:oe.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,e){this.update({min:t,max:e})},r.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:e,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",function(i){var a=e.getValueByCanvasPoint(i.x,i.y),s=e.getCurrentValue()[1];s<a&&(s=a),e.setValue([a,s])}),t.on("legend-handler-max:drag",function(i){var a=e.getValueByCanvasPoint(i.x,i.y),s=e.getCurrentValue()[0];s>a&&(s=a),e.setValue([s,a])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var e=this,i=null;t.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(i){var o=e.getValueByCanvasPoint(i.x,i.y),s=e.getValueByCanvasPoint(a.x,a.y),l=e.getCurrentValue(),u=l[1]-l[0],f=e.getRange(),v=s-o;v<0?e.setValue(l[0]+v>f.min?[l[0]+v,l[1]+v]:[f.min,f.min+u]):v>0&&e.setValue(v>0&&l[1]+v<f.max?[l[0]+v,l[1]+v]:[f.max-u,f.max]),i={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){i=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,e){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,l=this.get(t),u=this.getLabelAlignAttrs(t,o);this.addShape(e,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:(0,g.pi)((0,g.pi)({x:0,y:0,text:(0,c.mf)(s)?s(l):l},a),u)})},r.prototype.getLabelAlignAttrs=function(t,e){var a="center",o="middle";return this.isVertical()?(a="start",o="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(o="top",a="min"===t?"start":"end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},r.prototype.getRailPath=function(t,e,i,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,f=this.isVertical(),p=i,d=a;p||(p=f?s:l),d||(d=f?l:s);var m=[];return"color"===u?(m.push(["M",t,e]),m.push(["L",t+p,e]),m.push(["L",t+p,e+d]),m.push(["L",t,e+d]),m.push(["Z"])):(m.push(["M",t+p,e]),m.push(["L",t+p,e+d]),m.push(["L",t,e+d]),m.push(["Z"])),m},r.prototype.drawRail=function(t){var i=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,g.pi)({path:this.getRailPath(0,0)},i)})},r.prototype.getTrackColor=function(t){var i,e=t.length;if(!e)return null;if(1===e)return t[0];i=this.isVertical()?"l(90)":"l(0)";for(var a=0;a<e;a++)i+=" "+a/(e-1)+":"+t[a];return i},r.prototype.getTrackPath=function(t){var i=this.getRailShape(t).attr("path");return(0,c.d9)(i)},r.prototype.getClipTrackAttrs=function(t){var f,v,p,d,e=this.getCurrentValue(),i=e[0],a=e[1],o=this.getRailBBox(t),s=this.getPointByValue(i,t),l=this.getPointByValue(a,t);return this.isVertical()?(f=o.minX,v=s.y,p=o.width,d=l.y-s.y):(f=s.x,v=o.minY,p=l.x-s.x,d=o.height),{x:f,y:v,width:p,height:d}},r.prototype.getTrackAttrs=function(t){var e=this.get("track"),i=this.get("colors"),a=this.getTrackPath(t);return(0,c.CD)({path:a,fill:this.getTrackColor(i)},e.style)},r.prototype.resetTrackClip=function(t){var e=t||this.get("group"),i=this.getElementId("track"),a=e.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},r.prototype.resetTrack=function(t){var e=this.getElementId("track"),i=t.findById(e),a=this.getTrackAttrs(t);i?i.attr(a):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:a})},r.prototype.getPointByValue=function(t,e){var i=this.getRange(),a=i.min,s=(t-a)/(i.max-a),l=this.getRailBBox(e),f={x:0,y:0};return this.isVertical()?(f.x=l.minX+l.width/2,f.y=hn(l.minY,l.maxY,s)):(f.x=hn(l.minX,l.maxX,s),f.y=l.minY+l.height/2),f},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),v=hn(a,o,l?(e-s.minY)/s.height:(t-s.minX)/s.width);return u&&(v=a+Math.round((v-a)/u)*u),v>o&&(v=o),v<a&&(v=a),v},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,(0,g.pr)(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,g.pr)(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),a=e[1];this.resetHandler(t,"min",e[0]),this.resetHandler(t,"max",a)},r.prototype.getHandlerPath=function(t,e){var i=this.isVertical(),a=[],o=t.size,s=e.x,l=e.y,u=1.4*o,f=o/2,v=o/6;if(i){var p=s+.4*u;a.push(["M",s,l]),a.push(["L",p,l+f]),a.push(["L",s+u,l+f]),a.push(["L",s+u,l-f]),a.push(["L",p,l-f]),a.push(["Z"]),a.push(["M",p,l+v]),a.push(["L",s+u-2,l+v]),a.push(["M",p,l-v]),a.push(["L",s+u-2,l-v])}else{var d=l+.4*u;a.push(["M",s,l]),a.push(["L",s-f,d]),a.push(["L",s-f,l+u]),a.push(["L",s+f,l+u]),a.push(["L",s+f,d]),a.push(["Z"]),a.push(["M",s-v,d]),a.push(["L",s-v,l+u-2]),a.push(["M",s+v,d]),a.push(["L",s+v,l+u-2])}return a},r.prototype.resetHandler=function(t,e,i){var a=this.getPointByValue(i,t),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+e),u=t.findById(l),f=this.isVertical();u?u.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:l,attrs:(0,g.pi)((0,g.pi)({path:s},o.style),{cursor:f?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,e,o):this.fixedHorizontal(i,a,e,o)},r.prototype.fitRailLength=function(t,e,i,a){var s=this.isVertical()?"height":"width",l=this.get("label"),u=l.align,f=l.spacing,v=this.get("max"+(0,c.jC)(s));if(v){var d=("rail"===u?i[s]+t[s]+e[s]+2*f:i[s])-v;d>0&&this.changeRailLength(a,s,i[s]-d)}},r.prototype.changeRailLength=function(t,e,i){var o,a=t.getBBox();o="height"===e?this.getRailPath(a.x,a.y,a.width,i):this.getRailPath(a.x,a.y,i,a.height),t.attr("path",o)},r.prototype.changeRailPosition=function(t,e,i){var a=t.getBBox(),o=this.getRailPath(e,i,a.width,a.height);t.attr("path",o)},r.prototype.fixedHorizontal=function(t,e,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),f=t.getBBox(),v=e.getBBox(),p=u.height;this.fitRailLength(f,v,u,i),u=i.getBBox(),"rail"===s?(t.attr({x:a.x,y:a.y+p/2}),this.changeRailPosition(i,a.x+f.width+l,a.y),e.attr({x:a.x+f.width+u.width+2*l,y:a.y+p/2})):"top"===s?(t.attr({x:a.x,y:a.y}),e.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+f.height+l)):(this.changeRailPosition(i,a.x,a.y),t.attr({x:a.x,y:a.y+u.height+l}),e.attr({x:a.x+u.width,y:a.y+u.height+l}))},r.prototype.fixedVertail=function(t,e,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),f=t.getBBox(),v=e.getBBox();if(this.fitRailLength(f,v,u,i),u=i.getBBox(),"rail"===s)t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+f.height+l),e.attr({x:a.x,y:a.y+f.height+u.height+2*l});else if("right"===s)t.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(i,a.x,a.y),e.attr({x:a.x+u.width+l,y:a.y+u.height});else{var p=Math.max(f.width,v.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+p+l,a.y),e.attr({x:a.x,y:a.y+u.height})}},r}(bh);var Mr,En="g2-tooltip",Bn="g2-tooltip-title",yi="g2-tooltip-list",wa="g2-tooltip-list-item",Sa="g2-tooltip-marker",Ta="g2-tooltip-value",_h="g2-tooltip-name",ps="g2-tooltip-crosshair-x",gs="g2-tooltip-crosshair-y";const I0=((Mr={})[""+En]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:oe.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Mr[""+Bn]={marginBottom:"4px"},Mr[""+yi]={margin:"0px",listStyleType:"none",padding:"0px"},Mr[""+wa]={listStyleType:"none",marginBottom:"4px"},Mr[""+Sa]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Mr[""+Ta]={display:"inline-block",float:"right",marginLeft:"30px"},Mr[""+ps]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Mr[""+gs]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Mr),Z0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+En+'"><div class="'+Bn+'"></div><ul class="'+yi+'"></ul></div>',itemTpl:'<li class="'+wa+'" data-index={index}>\n          <span class="'+Sa+'" style="background:{color}"></span>\n          <span class="'+_h+'">{name}</span>:\n          <span class="'+Ta+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+ps+'"></div>',yCrosshairTpl:'<div class="'+gs+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:En,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:I0})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Be(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Be(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&Be(i,{display:e}),a&&Be(a,{display:e})},r.prototype.initContainer=function(){if(n.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(function(n,r){var t=!1;return(0,c.S6)(["title","showTitle"],function(e){if((0,c.wH)(n,e))return t=!0,!1}),t}(t)&&this.resetTitle(),(0,c.wH)(t,"items")&&this.renderItems()),n.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){n.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var m,t=this.get("x"),e=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),f=this.getContainer(),v=this.getBBox(),p=v.width,d=v.height;u&&(m=ci(u));var x=function(n,r,t,e,i,a,o){var s=function(n,r,t,e,i,a){var o=n,s=r;switch(a){case"left":o=n-e-t,s=r-i/2;break;case"right":o=n+t,s=r-i/2;break;case"top":o=n-e/2,s=r-i-t;break;case"bottom":o=n-e/2,s=r+t;break;default:o=n+t,s=r-i-t}return{x:o,y:s}}(n,r,t,e,i,a);if(o){var l=function(n,r,t,e,i){return{left:n<i.x,right:n+t>i.x+i.width,top:r<i.y,bottom:r+e>i.y+i.height}}(s.x,s.y,e,i,o);"auto"===a?(l.right&&(s.x=Math.max(0,n-e-t)),l.top&&(s.y=Math.max(0,r-i-t))):"top"===a||"bottom"===a?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-e),"top"===a&&l.top&&(s.y=r+t),"bottom"===a&&l.bottom&&(s.y=r-i-t)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-i),"left"===a&&l.left&&(s.x=n+t),"right"===a&&l.right&&(s.x=n-e-t))}return s}(t,e,i,p,d,l,m);Be(f,{left:He(x.x+o),top:He(x.y+s)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),i=this.get("container");i&&i.parentNode===e?e.replaceChild(t,i):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var i=e(this.get("title"),this.get("items"));t=(0,c.kK)(i)?i:gr(i)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(Bn)[0],i=t.getElementsByClassName(yi)[0];this.set("titleDom",e),this.set("listDom",i)},r.prototype.resetTitle=function(){var t=this.get("title"),e=this.get("showTitle");this.setTitle(e&&t?t:"")},r.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var i=ci(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),a=this.get(t);Be(i,"x"===t?{left:He(a),top:He(e.y),height:He(e.height)}:{top:He(a),left:He(e.x),width:He(e.width)})},r.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=ut[a],s=this.get(e),l=this.get("parent");return s||(s=gr(this.get(i)),this.applyStyle(o,s),l.appendChild(s),this.set(e,s)),s},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),i=this.get("listDom");i&&((0,c.S6)(t,function(a){var o=ei.toCSSGradient(a.color),s=(0,g.pi)((0,g.pi)({},a),{color:o}),u=gr((0,c.ng)(e,s));i.appendChild(u)}),this.applyChildrenStyles(i,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&is(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(ss);var Y0={opacity:0},G0={stroke:"#C5C5C5",strokeOpacity:.85},H0={fill:"#CACED4",opacity:.85};function Eh(n){return function(n){return(0,c.UI)(n,function(r,t){return[0===t?"M":"L",r[0],r[1]]})}(n)}var q0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Y0,lineStyle:G0,areaStyle:H0})},r.prototype.renderInner=function(t){var e=this.cfg,i=e.width,a=e.height,o=e.data,s=e.smooth,l=e.isArea,u=e.backgroundStyle,f=e.lineStyle,v=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,g.pi)({x:0,y:0,width:i,height:a},u)});var p=function(n,r,t,e){void 0===e&&(e=!0);var i=new ha({values:n}),a=new aa({values:(0,c.UI)(n,function(s,l){return l})}),o=(0,c.UI)(n,function(s,l){return[a.scale(l)*r,t-i.scale(s)*t]});return e?function(n){if(n.length<=2)return Eh(n);var r=[];(0,c.S6)(n,function(o){(0,c.Xy)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=(0,un.e9)(r,!1),e=(0,c.YM)(n);return t.unshift(["M",e[0],e[1]]),t}(o):Eh(o)}(o,i,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,g.pi)({path:p},f)}),l){var d=function(n,r,t,e){var i=(0,g.pr)(n),a=function(n,r){var t=new ha({values:n}),e=Math.max(0,t.min);return r-t.scale(e)*r}(e,t);return i.push(["L",r,a]),i.push(["L",0,a]),i.push(["Z"]),i}(p,i,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,g.pi)({path:d},v)})}},r.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:e,y:i})},r}(Oe),Bh={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Ph=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:Bh})},r.prototype.renderInner=function(t){var e=this.cfg,i=e.width,a=e.height,o=e.style,s=o.fill,l=o.stroke,u=o.radius,f=o.opacity,v=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:l,radius:u,opacity:f,cursor:v}});var p=1/3*i,d=2/3*i,m=1/4*a,x=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:p,y1:m,x2:p,y2:x,stroke:l,cursor:v}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:d,y1:m,x2:d,y2:x,stroke:l,cursor:v}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()}),this.get("group").on("mouseleave",function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(Oe),J0={fill:"#416180",opacity:.05},Q0={fill:"#5B8FF9",opacity:.15,cursor:"move"},j0={width:10,height:24},$0={textBaseline:"middle",fill:"#000",opacity:.45},K0="sliderchange",tm=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.onMouseDown=function(e){return function(i){t.currentTarget=e;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=(0,c.U2)(a,"touches.0.pageX",a.pageX),t.prevY=(0,c.U2)(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(e){var i=t.cfg.width,a=[t.get("start"),t.get("end")];e.stopPropagation(),e.preventDefault();var o=(0,c.U2)(e,"touches.0.pageX",e.pageX),s=(0,c.U2)(e,"touches.0.pageY",e.pageY),u=t.adjustOffsetRange((o-t.prevX)/i);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(K0,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var e=t.getContainerDOM();e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))},t}return(0,g.ZT)(r,n),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.get("start"),a=this.get("end"),o=(0,c.uZ)(i,t,e),s=(0,c.uZ)(a,t,e);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange();if((0,c.kJ)(t)&&2===t.length){var i=[this.get("start"),this.get("end")];this.update({start:(0,c.uZ)(t[0],e.min,e.max),end:(0,c.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:J0,foregroundStyle:Q0,handlerStyle:j0,textStyle:$0}})},r.prototype.update=function(t){var e=t.start,i=t.end,a=(0,g.pi)({},t);(0,c.UM)(e)||(a.start=(0,c.uZ)(e,0,1)),(0,c.UM)(i)||(a.end=(0,c.uZ)(i,0,1)),n.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,c.uZ)(this.get("start"),0,1)),this.set("end",(0,c.uZ)(this.get("end"),0,1)),n.prototype.init.call(this)},r.prototype.render=function(){n.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var e=this.cfg,o=e.width,s=e.height,l=e.trendCfg,u=void 0===l?{}:l,f=e.minText,v=e.maxText,p=e.backgroundStyle,d=void 0===p?{}:p,m=e.foregroundStyle,x=void 0===m?{}:m,P=e.textStyle,L=void 0===P?{}:P,Z=(0,c.b$)({},Bh,this.cfg.handlerStyle);(0,c.dp)((0,c.U2)(u,"data"))&&(this.trend=this.addComponent(t,(0,g.pi)({component:q0,id:this.getElementId("trend"),x:0,y:0,width:o,height:s},u))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,g.pi)({x:0,y:0,width:o,height:s},d)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,g.pi)({y:s/2,textAlign:"right",text:f,silent:!1},L)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,g.pi)({y:s/2,textAlign:"left",text:v,silent:!1},L)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,g.pi)({y:0,height:s},x)});var kt=(0,c.U2)(Z,"width",10),Yt=(0,c.U2)(Z,"height",24);this.minHandler=this.addComponent(t,{component:Ph,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(s-Yt)/2,width:kt,height:Yt,cursor:"ew-resize",style:Z}),this.maxHandler=this.addComponent(t,{component:Ph,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(s-Yt)/2,width:kt,height:Yt,cursor:"ew-resize",style:Z})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,e,i){var a=this.cfg,l=a.width,u=a.minText,f=a.maxText,v=a.handlerStyle,d=a.start*l,m=a.end*l;this.trend&&(this.trend.update({width:l,height:a.height}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",d),t.attr("width",m-d);var x=(0,c.U2)(v,"width",10);e.attr("text",u),i.attr("text",f);var P=this._dodgeText([d,m],e,i),L=P[0],Z=P[1];this.minHandler&&(this.minHandler.update({x:d-x/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,c.S6)(L,function(z,G){return e.attr(G,z)}),this.maxHandler&&(this.maxHandler.update({x:m-x/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,c.S6)(Z,function(z,G){return i.attr(G,z)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,a=e.end;switch(this.currentTarget){case"minHandler":var o=0-i,s=1-i;return Math.min(s,Math.max(o,t));case"maxHandler":return o=0-a,s=1-a,Math.min(s,Math.max(o,t));case"foreground":return o=0-i,s=1-a,Math.min(s,Math.max(o,t))}},r.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,a=e.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":a+=t;break;case"foreground":i+=t,a+=t}this.set("start",i),this.set("end",a)},r.prototype._dodgeText=function(t,e,i){var a,o,s=this.cfg,u=s.width,v=(0,c.U2)(s.handlerStyle,"width",10),p=t[0],d=t[1],m=!1;p>d&&(p=(a=[d,p])[0],d=a[1],e=(o=[i,e])[0],i=o[1],m=!0);var x=e.getBBox(),P=i.getBBox(),L=x.width>p-2?{x:p+v/2+2,textAlign:"left"}:{x:p-v/2-2,textAlign:"right"},Z=P.width>u-d-2?{x:d-v/2-2,textAlign:"right"}:{x:d+v/2+2,textAlign:"left"};return m?[Z,L]:[L,Z]},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r}(Oe);function Pn(n,r,t){if(n){if("function"==typeof n.addEventListener)return n.addEventListener(r,t,!1),{remove:function(){n.removeEventListener(r,t,!1)}};if("function"==typeof n.attachEvent)return n.attachEvent("on"+r,t),{remove:function(){n.detachEvent("on"+r,t)}}}}var ds={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},rm=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.clearEvents=c.ZT,t.onStartEvent=function(e){return function(i){t.isMobile=e,i.originalEvent.preventDefault();var a=e?(0,c.U2)(i.originalEvent,"touches.0.clientX"):i.clientX,o=e?(0,c.U2)(i.originalEvent,"touches.0.clientY"):i.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var e=t.getContainerDOM(),i=[];i=t.isMobile?[Pn(e,"touchmove",t.onMouseMove),Pn(e,"touchend",t.onMouseUp),Pn(e,"touchcancel",t.onMouseUp)]:[Pn(e,"mousemove",t.onMouseMove),Pn(e,"mouseup",t.onMouseUp),Pn(e,"mouseleave",t.onMouseUp)],t.clearEvents=function(){i.forEach(function(a){a.remove()})}},t.onMouseMove=function(e){var i=t.cfg,a=i.isHorizontal,o=i.thumbOffset;e.preventDefault();var s=t.isMobile?(0,c.U2)(e,"touches.0.clientX"):e.clientX,l=t.isMobile?(0,c.U2)(e,"touches.0.clientY"):e.clientY,u=a?s:l,f=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+f)},t.onMouseUp=function(e){e.preventDefault(),t.clearEvents()},t.onTrackClick=function(e){var i=t.cfg,a=i.isHorizontal,o=i.x,s=i.y,l=i.thumbLen,f=t.getContainerDOM().getBoundingClientRect(),m=t.validateRange(a?e.clientX-f.left-o-l/2:e.clientY-f.top-s-l/2);t.updateThumbOffset(m)},t.onThumbMouseOver=function(){var e=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t.onThumbMouseOut=function(){var e=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t}return(0,g.ZT)(r,n),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.getValue(),a=(0,c.uZ)(i,t,e);i!==a&&!this.get("isInit")&&this.setValue(a)},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,c.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},r.prototype.getValue=function(){return(0,c.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return(0,g.pi)((0,g.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:ds})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,a=e.theme,s=(0,c.b$)({},ds,void 0===a?{default:{}}:a).default,l=s.lineCap,u=s.trackColor,v=(0,c.U2)(this.cfg,"size",s.size),p=this.get("isHorizontal")?{x1:0+v/2,y1:v/2,x2:i-v/2,y2:v/2,lineWidth:v,stroke:u,lineCap:l}:{x1:v/2,y1:0+v/2,x2:v/2,y2:i-v/2,lineWidth:v,stroke:u,lineCap:l};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:p})},r.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,a=e.thumbLen,s=(0,c.b$)({},ds,e.theme).default,u=s.lineCap,f=s.thumbColor,v=(0,c.U2)(this.cfg,"size",s.size),p=this.get("isHorizontal")?{x1:i+v/2,y1:v/2,x2:i+a-v/2,y2:v/2,lineWidth:v,stroke:f,lineCap:u,cursor:"default"}:{x1:v/2,y1:i+v/2,x2:v/2,y2:i+a-v/2,lineWidth:v,stroke:f,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:p})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var i=t.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,a=e.trackLen,o=t;return t+i>a?o=a-i:t+i<i&&(o=0),o},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.updateThumbOffset=function(t){var e=this.cfg,i=e.thumbOffset,a=e.isHorizontal,o=e.thumbLen,s=e.size,l=this.validateRange(t);l!==i&&(this.getElementByLocalId("thumb").attr(a?{x1:l+s/2,x2:l+o-s/2}:{y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l))},r.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,a=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,c.uZ)(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},r}(Oe),nm=c0,im=v0,am=A0,om=T0,Lh=B0,sm=k0,kh=Z0;function Ae(n,r,t,e){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Yr(n,r,t,e,i,a){void 0===a&&(a=0);var o=Ae(n,r,t,e),s=Ae(n,r,t,i),l=Ae(n,r,a,e),u=Ae(n,r,a,i);if(i-e==2*Math.PI){var f=Ae(n,r,t,e+Math.PI),v=Ae(n,r,a,e+Math.PI),p=[["M",o.x,o.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(p.push(["A",a,a,0,1,0,v.x,v.y]),p.push(["A",a,a,0,1,0,u.x,u.y])),p.push(["M",o.x,o.y]),p.push(["Z"]),p}var d=i-e<=Math.PI?0:1,m=[["M",o.x,o.y],["A",t,t,0,d,1,s.x,s.y],["L",u.x,u.y]];return a&&m.push(["A",a,a,0,d,0,l.x,l.y]),m.push(["L",o.x,o.y]),m.push(["Z"]),m}function Ih(n,r,t,e,i){var a=Ae(n,r,t,e),o=Ae(n,r,t,i);if((0,c.vQ)(i-e,2*Math.PI)){var s=Ae(n,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=i-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function xi(n,r){var i,a,e=function(n){if((0,c.xb)(n))return null;var r=n[0].x,t=n[0].x,e=n[0].y,i=n[0].y;return(0,c.S6)(n,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,i=i<a.y?a.y:i}),{minX:r,maxX:t,minY:e,maxY:i,centerX:(r+t)/2,centerY:(e+i)/2}}(n.points),o=r.startAngle,l=r.endAngle-o;return r.isTransposed?(i=e.maxY*l,a=e.minY*l):(i=e.maxX*l,a=e.minX*l),{startAngle:a+=o,endAngle:i+=o}}function Oh(n,r){var t=n.attr(),e=r.attr();return(0,c.S6)(t,function(i,a){void 0===e[a]&&(e[a]=void 0)}),e}function Ln(n,r,t){var e=Math.min(r,t),i=Math.max(r,t);return n>=e&&n<=i}function Ue(n,r){return"object"==typeof n&&r.forEach(function(t){delete n[t]}),n}function Gr(n,r,t){void 0===r&&(r=[]),void 0===t&&(t={});for(var e=0,i=n;e<i.length;e++){var a=i[e];t[a]||(r.push(a),t[a]=!0)}return r}var Re=function(){function n(r,t,e,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=r,this.y=t,this.height=i,this.width=e}return n.fromRange=function(r,t,e,i){return new n(r,t,e-r,i-t)},n.fromObject=function(r){return new n(r.minX,r.minY,r.width,r.height)},Object.defineProperty(n.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},n.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,c.S6)(r,function(i){e.x=Math.min(i.x,e.x),e.y=Math.min(i.y,e.y),e.width=Math.max(i.maxX,e.maxX)-e.x,e.height=Math.max(i.maxY,e.maxY)-e.y}),e},n.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,c.S6)(r,function(i){e.x=Math.max(i.x,e.x),e.y=Math.max(i.y,e.y),e.width=Math.min(i.maxX,e.maxX)-e.x,e.height=Math.min(i.maxY,e.maxY)-e.y}),e},n.prototype.cut=function(r,t){var e=r.width,i=r.height;switch(t){case Ft.TOP:case Ft.TOP_LEFT:case Ft.TOP_RIGHT:return n.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case Ft.RIGHT:case Ft.RIGHT_TOP:case Ft.RIGHT_BOTTOM:return n.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Ft.BOTTOM:case Ft.BOTTOM_LEFT:case Ft.BOTTOM_RIGHT:return n.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case Ft.LEFT:case Ft.LEFT_TOP:case Ft.LEFT_BOTTOM:return n.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},n.prototype.shrink=function(r){var t=r[0],a=r[3];return new n(this.x+a,this.y+t,this.width-a-r[1],this.height-t-r[2])},n.prototype.expand=function(r){var t=r[0],a=r[3];return new n(this.x-a,this.y-t,this.width+a+r[1],this.height+t+r[2])},n.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},n.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},n.prototype.size=function(){return this.width*this.height},n.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},n}();function Ci(n){if(n.isPolar&&!n.isTransposed)return(n.endAngle-n.startAngle)*n.getRadius();var r=n.convert({x:0,y:0}),t=n.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Aa(n,r){var t=n.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ms(n,r){var t=!1;if(n)if("theta"===n.type){var e=n.start,i=n.end;t=Ln(r.x,e.x,i.x)&&Ln(r.y,e.y,i.y)}else{var a=n.invert(r);t=Ln(a.x,0,1)&&Ln(a.y,0,1)}return t}function kn(n,r){var t=n.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Dh(n,r){void 0===r&&(r=0);var t=n.start,e=n.end,i=n.getWidth(),a=n.getHeight();if(n.isPolar){var o=n.startAngle,s=n.endAngle,l=n.getCenter(),u=n.getRadius();return{type:"path",startState:{path:Yr(l.x,l.y,u+r,o,o)},endState:function(v){return{path:Yr(l.x,l.y,u+r,o,(s-o)*v+o)}},attrs:{path:Yr(l.x,l.y,u+r,o,s)}}}return{type:"rect",startState:{x:t.x-r,y:e.y-r,width:n.isTransposed?i+2*r:0,height:n.isTransposed?0:a+2*r},endState:n.isTransposed?{height:a+2*r}:{width:i+2*r},attrs:{x:t.x-r,y:e.y-r,width:i+2*r,height:a+2*r}}}var pm=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Mi(n){return n.alias||n.field}function Fh(n,r,t){var a,i=n.values.length;if(1===i)a=[.5,1];else{var s=0;a=function(n){return!!n.isPolar&&n.endAngle-n.startAngle==2*Math.PI}(r)?r.isTransposed?[(s=1/i*(0,c.U2)(t,"widthRatio.multiplePie",1/1.3))/2,1-s/2]:[0,1-1/i]:[s=1/i/2,1-s]}return a}function ym(n){var r=n.values.filter(function(t){return!(0,c.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,g.pr)(r,[(0,c.UM)(n.max)?-1/0:n.max]))}function _a(n,r){var t={start:{x:0,y:0},end:{x:0,y:0}};n.isRect?t=function(n){var r,t;switch(n){case Ft.TOP:r={x:0,y:1},t={x:1,y:1};break;case Ft.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Ft.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Ft.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}(r):n.isPolar&&(t=function(n){var r,t;return n.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}(n));var i=t.end;return{start:n.convert(t.start),end:n.convert(i)}}function Rh(n){return n.start.x===n.end.x}function zh(n,r){var t=n.start,e=n.end;return Rh(n)?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function Ea(n,r){var t=(0,c.U2)(n,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}function Zh(n,r,t){var e=(0,c.U2)(n,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(e,["common","title"],{}),(0,c.b$)({},(0,c.U2)(e,[r,"title"],{})),t)}function ys(n){var r=n.x,t=n.y,e=n.circleCenter,i=t.start>t.end,a=n.convert(n.isTransposed?{x:i?0:1,y:0}:{x:0,y:i?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?se.EU(o,s):-1*se.EU(o,s),u=l+(r.end-r.start);return{center:e,radius:Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)),startAngle:l,endAngle:u}}function Ba(n,r){return(0,c.jn)(n)?!1!==n&&{}:(0,c.U2)(n,[r])}function Yh(n,r){return(0,c.U2)(n,"position",r)}function Gh(n,r){return(0,c.U2)(r,["title","text"],Mi(n))}var In=function(){function n(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,c.b$)({},this.getDefaultCfg(),t)}return n.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},n.prototype.render=function(){this.renderViews()},n.prototype.update=function(){},n.prototype.clear=function(){this.clearFacetViews()},n.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},n.prototype.facetToView=function(r){var e=r.data,i=r.padding,o=this.view.createView({region:r.region,padding:void 0===i?this.cfg.padding:i});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},n.prototype.createContainer=function(){return this.view.getLayer(Ce.FORE).addGroup()},n.prototype.renderViews=function(){this.createFacetViews()},n.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},n.prototype.clearFacetViews=function(){var r=this;(0,c.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},n.prototype.getFieldValues=function(r,t){var e=[],i={};return(0,c.S6)(r,function(a){var o=a[t];!(0,c.UM)(o)&&!i[o]&&(e.push(o),i[o]=!0)}),e},n.prototype.getRegion=function(r,t,e,i){var a=1/(0===t?1:t),o=1/(0===r?1:r);return{start:{x:a*e,y:o*i},end:{x:a*(e+1),y:o*(i+1)}}},n.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},n.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},n.prototype.processAxis=function(r,t){var e=r.getOptions(),a=r.geometries;if("rect"===(0,c.U2)(e.coordinate,"type","rect")&&a.length){(0,c.UM)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],f=l[1],v=Ba(s,u),p=Ba(s,f);!1!==v&&(e.axes[u]=this.getXAxisOption(u,s,v,t)),!1!==p&&(e.axes[f]=this.getYAxisOption(f,s,p,t))}},n.prototype.getFacetDataFilter=function(r){return function(t){return(0,c.yW)(r,function(e){var i=e.field,a=e.value;return!(!(0,c.UM)(a)&&i)||t[i]===a})}},n}(),Hh={},On=function(n,r){Hh[(0,c.vl)(n)]=r};const De=function(){function n(r,t){this.context=r,this.cfg=t,r.addAction(this)}return n.prototype.applyCfg=function(r){(0,c.f0)(this,r)},n.prototype.init=function(){this.applyCfg(this.cfg)},n.prototype.destroy=function(){this.context.removeAction(this),this.context=null},n}(),Tm=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.callback=null},r}(De);var Pa={};function ie(n,r,t){Pa[n]={ActionClass:r,cfg:t}}function Am(n,r){var t=new Tm(r);return t.callback=n,t.name="callback",t}function xs(n,r){for(var t=[n[0]],e=1,i=n.length;e<i;e+=2){var a=r.convert({x:n[e],y:n[e+1]});t.push(a.x,a.y)}return t}function Nh(n,r){var t=r.isTransposed,e=n[1],o=r.convert({x:n[6],y:n[7]});return["A",e,e,0,0,t?0:1,o.x,o.y]}function Uh(n,r,t){for(var e=!!r,i=[],a=0,o=n.length;a<o;a+=2)i.push([n[a],n[a+1]]);var f,v,p,s=function(n,r,t,e){var o,s,l,u,f,v,p,i=[],a=!!e;if(a){l=e[0],u=e[1];for(var d=0,m=n.length;d<m;d++)l=se.VV([0,0],l,x=n[d]),u=se.Fp([0,0],u,x)}d=0;for(var P=n.length;d<P;d++){var x=n[d];if(0!==d||t)if(d!==P-1||t){var L=[0,0];L=se.lu(L,s=n[t?(d+1)%P:d+1],o=n[t?d?d-1:P-1:d-1]),L=se.bA(L,L,.4);var Z=se.TE(x,o),z=se.TE(x,s),G=Z+z;0!==G&&(Z/=G,z/=G);var j=se.bA([0,0],L,-Z),at=se.bA([0,0],L,z);v=se.IH([0,0],x,j),f=se.IH([0,0],x,at),f=se.VV([0,0],f,se.Fp([0,0],s,x)),f=se.Fp([0,0],f,se.VV([0,0],s,x)),j=se.lu([0,0],f,x),j=se.bA([0,0],j,-Z/z),v=se.IH([0,0],x,j),v=se.VV([0,0],v,se.Fp([0,0],o,x)),v=se.Fp([0,0],v,se.VV([0,0],o,x)),at=se.lu([0,0],x,v),at=se.bA([0,0],at,z/Z),f=se.IH([0,0],x,at),a&&(v=se.Fp([0,0],v,l),v=se.VV([0,0],v,u),f=se.Fp([0,0],f,l),f=se.VV([0,0],f,u)),i.push(p),i.push(v),p=f}else v=x,i.push(p),i.push(v);else p=x}return t&&i.push(i.shift()),i}(i,0,e,t),l=i.length,u=[];for(a=0;a<l-1;a++)u.push(["C",(f=s[2*a])[0],f[1],(v=s[2*a+1])[0],v[1],(p=i[a+1])[0],p[1]]);return e&&u.push(["C",(f=s[l])[0],f[1],(v=s[l+1])[0],v[1],(p=i[0])[0],p[1]]),u}function wi(n,r){return function(n,r){var t=[];if(n.length){t.push(["M",n[0].x,n[0].y]);for(var e=1,i=n.length;e<i;e+=1){var a=n[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}(n,r)}function La(n,r,t){var e=[],i=n[0],a=null;if(n.length<=2)return wi(n,r);for(var o=0,s=n.length;o<s;o++){var l=n[o];(!a||a.x!==l.x||a.y!==l.y)&&(e.push(l.x),e.push(l.y),a=l)}var f=Uh(e,r,t||[[0,0],[1,1]]);return f.unshift(["M",i.x,i.y]),f}function Xh(n,r){var i=n.event.target.getCanvasBBox();return i.width>=r||i.height>=r?i:null}function Hr(n){var t,e=n.event.target;return e&&(t=e.get("element")),t}function Dn(n){var e,t=n.event.target;return t&&(e=t.get("delegateObject")),e}function Vh(n){var r=n.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Si(n){return n&&n.component&&n.component.isList()}function Wh(n){return n&&n.component&&n.component.isSlider()}function Ti(n){var t=n.event.target;return t&&"mask"===t.get("name")}function Cs(n,r){if("path"===n.event.target.get("type")){var e=function(n,r){var e=n.event.target,i=e.getCanvasBBox();return i.width>=r||i.height>=r?e.attr("path"):null}(n,r);return e?function(n,r){var t=Pe(n),e=Qh(r);return t.filter(function(a){var s,o=a.shape;return s="path"===o.get("type")?Qh(o.attr("path")):function(n){return[[n.minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}(o.getCanvasBBox()),(0,un.Wq)(e,s)})}(n.view,e):void 0}var i=Xh(n,r);return i?Ms(n.view,i):null}function qh(n,r,t){var e=Xh(n,t);if(!e)return null;var i=n.view,a=Ss(i,r,{x:e.x,y:e.y}),o=Ss(i,r,{x:e.maxX,y:e.maxY});return Ms(r,{minX:a.x,minY:a.y,maxX:o.x,maxY:o.y})}function Pe(n){var t=[];return(0,c.S6)(n.geometries,function(e){t=t.concat(e.elements)}),n.views&&n.views.length&&(0,c.S6)(n.views,function(e){t=t.concat(Pe(e))}),t}function Jh(n,r){var e=[];return(0,c.S6)(n.geometries,function(i){var a=i.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function lr(n,r){var e=n.getModel().data;return(0,c.kJ)(e)?e[0][r]:e[r]}function Ms(n,r){var t=Pe(n),e=[];return(0,c.S6)(t,function(i){var o=i.shape.getCanvasBBox();(function(n,r){return!(r.minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)})(r,o)&&e.push(i)}),e}function Qh(n){var r=[];return(0,c.S6)(n,function(t){if("A"!==t[0])for(var i=1;i<t.length;i+=2)r.push([t[i],t[i+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function jh(n){return n.getComponents().map(function(r){return r.component})}function ws(n,r){var t=r.x-n.x,e=r.y-n.y;return Math.sqrt(t*t+e*e)}function $h(n,r){return n.x<=r.x&&n.maxX>=r.x&&n.y<=r.y&&n.maxY>r.y}function wr(n){var r=n.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==n})),t}function Ss(n,r,t){var e=function(n,r){return n.getCoordinate().invert(r)}(n,t);return r.getCoordinate().convert(e)}function Kh(n,r,t,e){var i=!1;return(0,c.S6)(n,function(a){if(a[t]===r[t]&&a[e]===r[e])return i=!0,!1}),i}function Fn(n,r){var t=n.getScaleByField(r);return!t&&n.views&&(0,c.S6)(n.views,function(e){if(t=Fn(e,r))return!1}),t}const Ym=function(){function n(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return n.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length)return this.cacheMap[r[0]];2===r.length&&(this.cacheMap[r[0]]=r[1])},n.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},n.prototype.addAction=function(r){this.actions.push(r)},n.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},n.prototype.getCurrentPoint=function(){var r=this.event;return r?r.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(r.clientX,r.clientY):{x:r.x,y:r.y}:null},n.prototype.getCurrentShape=function(){return(0,c.U2)(this.event,["gEvent","shape"])},n.prototype.isInPlot=function(){var r=this.getCurrentPoint();return!!r&&this.view.isPointInPlot(r)},n.prototype.isInShape=function(r){var t=this.getCurrentShape();return!!t&&t.get("name")===r},n.prototype.isInComponent=function(r){var t=jh(this.view),e=this.getCurrentPoint();return!!e&&!!t.find(function(i){var a=i.getBBox();return r?i.get("name")===r&&$h(a,e):$h(a,e)})},n.prototype.destroy=function(){this.view=null,this.event=null,(0,c.S6)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},n}();var Gm=function(){function n(r,t){this.view=r,this.cfg=t}return n.prototype.init=function(){this.initEvents()},n.prototype.initEvents=function(){},n.prototype.clearEvents=function(){},n.prototype.destroy=function(){this.clearEvents()},n}();function tc(n,r,t){var e=n.split(":"),i=e[0],a=r.getAction(i)||function(n,r){var t=Pa[n],e=null;return t&&((e=new(0,t.ActionClass)(r,t.cfg)).name=n,e.init()),e}(i,r);if(!a)throw new Error("There is no action named "+i);return{action:a,methodName:e[1],arg:t}}function ec(n){var r=n.action,t=n.methodName,e=n.arg;if(!r[t])throw new Error("Action("+r.name+") doesn't have a method called "+t);r[t](e)}const Um=function(n){function r(t,e){var i=n.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}return(0,g.ZT)(r,n),r.prototype.init=function(){this.initContext(),n.prototype.init.call(this)},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,c.S6)(this.steps,function(e,i){(0,c.S6)(e,function(a){var o=t.getActionCallback(i,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,c.S6)(this.steps,function(e,i){(0,c.S6)(e,function(a){var o=t.getActionCallback(i,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var e=new Ym(this.view);this.context=e,(0,c.S6)(this.steps,function(a){(0,c.S6)(a,function(o){if((0,c.mf)(o.action))o.actionObject={action:Am(o.action,e),methodName:"execute"};else if((0,c.HD)(o.action))o.actionObject=tc(o.action,e,o.arg);else if((0,c.kJ)(o.action)){var s=o.action,l=(0,c.kJ)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,c.S6)(s,function(u,f){o.actionObject.push(tc(u,e,l[f]))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName;if(e===t||"showEnable"===t)return!0;if("processing"===t)return"start"===e;if("start"===t)return"processing"!==e;if("end"===t)return"processing"===e||"start"===e;if("rollback"===t){if(this.steps.end)return"end"===e;if("start"===e)return!0}return!1},r.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){"showEnable"!==t&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var i=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(f){a.event=f,i.isAllowExecute(t,e)?((0,c.kJ)(s)?(0,c.S6)(s,function(v){a.event=f,ec(v)}):(a.event=f,ec(s)),i.afterExecute(t,e),e.callback&&(a.event=f,e.callback(a))):a.event=null};o[l]=e.debounce?(0,c.Ds)(u,e.debounce.wait,e.debounce.immediate):e.throttle?(0,c.P2)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},r}(Gm);var rc={};function Se(n,r){rc[(0,c.vl)(n)]=r}function nc(n){var r,t={point:{default:{fill:n.pointFillColor,r:n.pointSize,stroke:n.pointBorderColor,lineWidth:n.pointBorder,fillOpacity:n.pointFillOpacity},active:{stroke:n.pointActiveBorderColor,lineWidth:n.pointActiveBorder},selected:{stroke:n.pointSelectedBorderColor,lineWidth:n.pointSelectedBorder},inactive:{fillOpacity:n.pointInactiveFillOpacity,strokeOpacity:n.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:n.hollowPointFillColor,lineWidth:n.hollowPointBorder,stroke:n.hollowPointBorderColor,strokeOpacity:n.hollowPointBorderOpacity,r:n.hollowPointSize},active:{stroke:n.hollowPointActiveBorderColor,strokeOpacity:n.hollowPointActiveBorderOpacity},selected:{lineWidth:n.hollowPointSelectedBorder,stroke:n.hollowPointSelectedBorderColor,strokeOpacity:n.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:n.hollowPointInactiveBorderOpacity}},area:{default:{fill:n.areaFillColor,fillOpacity:n.areaFillOpacity,stroke:null},active:{fillOpacity:n.areaActiveFillOpacity},selected:{fillOpacity:n.areaSelectedFillOpacity},inactive:{fillOpacity:n.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:n.hollowAreaBorderColor,lineWidth:n.hollowAreaBorder,strokeOpacity:n.hollowAreaBorderOpacity},active:{fill:null,lineWidth:n.hollowAreaActiveBorder},selected:{fill:null,lineWidth:n.hollowAreaSelectedBorder},inactive:{strokeOpacity:n.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:n.intervalFillColor,fillOpacity:n.intervalFillOpacity},active:{stroke:n.intervalActiveBorderColor,lineWidth:n.intervalActiveBorder},selected:{stroke:n.intervalSelectedBorderColor,lineWidth:n.intervalSelectedBorder},inactive:{fillOpacity:n.intervalInactiveFillOpacity,strokeOpacity:n.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:n.hollowIntervalFillColor,stroke:n.hollowIntervalBorderColor,lineWidth:n.hollowIntervalBorder,strokeOpacity:n.hollowIntervalBorderOpacity},active:{stroke:n.hollowIntervalActiveBorderColor,lineWidth:n.hollowIntervalActiveBorder,strokeOpacity:n.hollowIntervalActiveBorderOpacity},selected:{stroke:n.hollowIntervalSelectedBorderColor,lineWidth:n.hollowIntervalSelectedBorder,strokeOpacity:n.hollowIntervalSelectedBorderOpacity},inactive:{stroke:n.hollowIntervalInactiveBorderColor,lineWidth:n.hollowIntervalInactiveBorder,strokeOpacity:n.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:n.lineBorderColor,lineWidth:n.lineBorder,strokeOpacity:n.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:n.lineActiveBorder},selected:{lineWidth:n.lineSelectedBorder},inactive:{strokeOpacity:n.lineInactiveBorderOpacity}}},e=function(n){return{title:{autoRotate:!0,position:"center",spacing:n.axisTitleSpacing,style:{fill:n.axisTitleTextFillColor,fontSize:n.axisTitleTextFontSize,lineHeight:n.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:n.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:n.axisLabelOffset,style:{fill:n.axisLabelFillColor,fontSize:n.axisLabelFontSize,lineHeight:n.axisLabelLineHeight,fontFamily:n.fontFamily}},line:{style:{lineWidth:n.axisLineBorder,stroke:n.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:n.axisGridBorderColor,lineWidth:n.axisGridBorder,lineDash:n.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:n.axisTickLineBorder,stroke:n.axisTickLineBorderColor},alignTick:!0,length:n.axisTickLineLength},subTickLine:null,animate:!0}}(n),i=function(n){return{title:null,marker:{symbol:"circle",spacing:n.legendMarkerSpacing,style:{r:n.legendCircleMarkerSize,fill:n.legendMarkerColor}},itemName:{spacing:5,style:{fill:n.legendItemNameFillColor,fontFamily:n.fontFamily,fontSize:n.legendItemNameFontSize,lineHeight:n.legendItemNameLineHeight,fontWeight:n.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:n.legendPageNavigatorMarkerSize,inactiveFill:n.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:n.legendPageNavigatorMarkerInactiveFillOpacity,fill:n.legendPageNavigatorMarkerFillColor,opacity:n.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:n.legendPageNavigatorTextFillColor,fontSize:n.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:n.legendItemSpacing,itemMarginBottom:n.legendItemMarginBottom,padding:n.legendPadding}}(n);return{background:n.backgroundColor,defaultColor:n.brandColor,subColor:n.subColor,semanticRed:n.paletteSemanticRed,semanticGreen:n.paletteSemanticGreen,padding:"auto",fontFamily:n.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:n.paletteQualitative10,colors20:n.paletteQualitative20,sequenceColors:n.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=xi(a.getModel(),o),f=(s.startAngle+s.endAngle)/2,p=7.5*Math.cos(f),d=7.5*Math.sin(f);return{matrix:ge.vs(null,[["t",p,d]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,g.pi)((0,g.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,g.pi)((0,g.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,g.pi)((0,g.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,g.pi)((0,g.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,g.pi)((0,g.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,g.pi)((0,g.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,g.pi)((0,g.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,g.pi)((0,g.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:e,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,c.b$)({},e.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,c.b$)({},e.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:n.legendVerticalPadding},left:{layout:"vertical",padding:n.legendVerticalPadding},top:{layout:"horizontal",padding:n.legendHorizontalPadding},bottom:{layout:"horizontal",padding:n.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:n.sliderRailHeight,defaultLength:n.sliderRailWidth,style:{fill:n.sliderRailFillColor,stroke:n.sliderRailBorderColor,lineWidth:n.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:n.sliderLabelTextFillColor,fontSize:n.sliderLabelTextFontSize,lineHeight:n.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:n.fontFamily}},handler:{size:n.sliderHandlerWidth,style:{fill:n.sliderHandlerFillColor,stroke:n.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:n.tooltipCrosshairsBorderColor,lineWidth:n.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+En]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:n.tooltipContainerFillColor,opacity:n.tooltipContainerFillOpacity,boxShadow:n.tooltipContainerShadow,borderRadius:n.tooltipContainerBorderRadius+"px",color:n.tooltipTextFillColor,fontSize:n.tooltipTextFontSize+"px",fontFamily:n.fontFamily,lineHeight:n.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+Bn]={marginBottom:"12px",marginTop:"12px"},r[""+yi]={margin:0,listStyleType:"none",padding:0},r[""+wa]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+Sa]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+Ta]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:n.annotationArcBorderColor,lineWidth:n.annotationArcBorder},animate:!0},line:{style:{stroke:n.annotationLineBorderColor,lineDash:n.annotationLineDash,lineWidth:n.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,textAlign:"start",fontFamily:n.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:n.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:n.annotationRegionBorder,stroke:n.annotationRegionBorderColor,fill:n.annotationRegionFillColor,fillOpacity:n.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:n.brandColor,lineWidth:2}},line:{style:{stroke:n.annotationLineBorderColor,lineWidth:n.annotationLineBorder},length:n.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,fontFamily:n.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:n.annotationRegionFillColor,fillOpacity:n.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,fontFamily:n.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:n.cSliderBackgroundFillColor,opacity:n.cSliderBackgroundFillOpacity},foregroundStyle:{fill:n.cSliderForegroundFillColor,opacity:n.cSliderForegroundFillOpacity},handlerStyle:{width:n.cSliderHandlerWidth,height:n.cSliderHandlerHeight,fill:n.cSliderHandlerFillColor,opacity:n.cSliderHandlerFillOpacity,stroke:n.cSliderHandlerBorderColor,lineWidth:n.cSliderHandlerBorder,radius:n.cSliderHandlerBorderRadius,highLightFill:n.cSliderHandlerHighlightFillColor},textStyle:{fill:n.cSliderTextFillColor,opacity:n.cSliderTextFillOpacity,fontSize:n.cSliderTextFontSize,lineHeight:n.cSliderTextLineHeight,fontWeight:n.cSliderTextFontWeight,stroke:n.cSliderTextBorderColor,lineWidth:n.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:n.scrollbarTrackFillColor,thumbColor:n.scrollbarThumbFillColor}},hover:{style:{thumbColor:n.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:n.labelFillColor,fontSize:n.labelFontSize,fontFamily:n.fontFamily,stroke:n.labelBorderColor,lineWidth:n.labelBorder},fillColorDark:n.labelFillColorDark,fillColorLight:n.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:n.innerLabelFillColor,fontSize:n.innerLabelFontSize,fontFamily:n.fontFamily,stroke:n.innerLabelBorderColor,lineWidth:n.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:n.overflowLabelFillColor,fontSize:n.overflowLabelFontSize,fontFamily:n.fontFamily,stroke:n.overflowLabelBorderColor,lineWidth:n.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:n.labelLineBorder}},autoRotate:!0}}}var fe_65="#595959",fe_25="#BFBFBF",Jm=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Qm=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],jm=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],ic=function(n){void 0===n&&(n={});var r=n.backgroundColor,e=n.subColor,a=n.paletteQualitative10,o=void 0===a?Jm:a,s=n.paletteQualitative20,u=n.paletteSemanticRed,v=n.paletteSemanticGreen,d=n.paletteSemanticYellow,x=n.paletteSequence,L=n.fontFamily,z=n.brandColor,G=void 0===z?o[0]:z;return{backgroundColor:void 0===r?"transparent":r,brandColor:G,subColor:void 0===e?"rgba(0,0,0,0.05)":e,paletteQualitative10:o,paletteQualitative20:void 0===s?Qm:s,paletteSemanticRed:void 0===u?"#F4664A":u,paletteSemanticGreen:void 0===v?"#30BF78":v,paletteSemanticYellow:void 0===d?"#FAAD14":d,paletteSequence:void 0===x?jm:x,fontFamily:void 0===L?'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':L,axisLineBorderColor:fe_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:fe_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:fe_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#D9D9D9",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:"#8C8C8C",axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#D9D9D9",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:"#8C8C8C",legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:G,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:fe_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:"#000",legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:"#000",legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:"#8C8C8C",legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#D9D9D9",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:"#8C8C8C",sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:fe_25,annotationArcBorderColor:"#D9D9D9",annotationArcBorder:1,annotationLineBorderColor:fe_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:fe_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:"#000",annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:fe_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:fe_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:fe_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#FFFFFF",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:fe_65,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#FFFFFF",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:fe_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:G,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#FFFFFF",pointBorderOpacity:1,pointActiveBorderColor:"#000",pointSelectedBorder:2,pointSelectedBorderColor:"#000",pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:G,hollowPointBorderOpacity:.95,hollowPointFillColor:"#FFFFFF",hollowPointActiveBorder:1,hollowPointActiveBorderColor:"#000",hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:"#000",hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:G,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:G,areaFillOpacity:.25,areaActiveFillColor:G,areaActiveFillOpacity:.5,areaSelectedFillColor:G,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:G,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:"#000",hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:"#000",hollowAreaInactiveBorderOpacity:.3,intervalFillColor:G,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:"#000",intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:"#000",intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:G,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#FFFFFF",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:"#000",hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:"#000",hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}};function ka(n){var r=n.styleSheet,t=void 0===r?{}:r,e=(0,g._T)(n,["styleSheet"]),i=ic(t);return(0,c.b$)({},nc(i),e)}ic();var Ts={default:ka({})};function bs(n){return(0,c.U2)(Ts,(0,c.vl)(n),Ts.default)}function ac(n,r,t){var e=t.translate(n),i=t.translate(r);return(0,c.vQ)(e,i)}function oc(n,r,t){var e=t.coordinate,i=t.getYScale(),a=i.field,o=e.invert(r),s=i.invert(o.y);return(0,c.sE)(n,function(u){var f=u[ce];return f[a][0]<=s&&f[a][1]>=s})||n[n.length-1]}var ey=(0,c.HP)(function(n){if(n.isCategory)return 1;for(var r=n.values,t=r.length,e=n.translate(r[0]),i=e,a=0;a<t;a++){var s=n.translate(r[a]);s<e&&(e=s),s>i&&(i=s)}return(i-e)/(t-1)});function sc(n){for(var t,e=0,i=function(n){var r=(0,c.VO)(n.attributes);return(0,c.hX)(r,function(t){return(0,c.FX)(nn,t.type)})}(n);e<i.length;e++){var a=i[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=n.getXScale(),l=n.getYScale();return t||l||s}function lc(n,r,t){if(0===r.length)return null;var e=t.type,i=t.getXScale(),a=t.getYScale(),o=i.field,s=a.field,l=null;if("heatmap"===e||"point"===e){for(var f=t.coordinate.invert(n),v=i.invert(f.x),p=a.invert(f.y),d=1/0,m=0;m<r.length;m++){var x=r[m],P=x[ce],L=Math.pow(P[o]-v,2)+Math.pow(P[s]-p,2);L<d&&(d=L,l=x)}return l}var Z=r[0],z=r[r.length-1],G=function(n,r){var t=r.coordinate,e=r.getXScale(),i=e.range,a=i[i.length-1],o=i[0],l=t.invert(n).x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}(n,t),j=Z[ce][o],Tt=z[ce][o],kt=a.isLinear&&(0,c.kJ)(Z[ce][s]);if((0,c.kJ)(j)){for(m=0;m<r.length;m++)if(i.translate((P=(Yt=r[m])[ce])[o][0])<=G&&i.translate(P[o][1])>=G){if(!kt){l=Yt;break}(0,c.kJ)(l)||(l=[]),l.push(Yt)}(0,c.kJ)(l)&&(l=oc(l,n,t))}else{var Vt=void 0;if(i.isLinear||"timeCat"===i.type){if((G>i.translate(Tt)||G<i.translate(j))&&(G>i.max||G<i.min))return null;for(var Kt=0,te=r.length-1,ve=void 0;Kt<=te;){var we=r[ve=Math.floor((Kt+te)/2)][ce][o];if(ac(we,G,i))return r[ve];i.translate(we)<=i.translate(G)?(Kt=ve+1,z=r[ve],Vt=r[ve+1]):(0===te&&(z=r[0]),te=ve-1)}}else{for(m=0;m<r.length;m++){var Yt;if(ac((P=(Yt=r[m])[ce])[o],G,i)){if(!kt){l=Yt;break}(0,c.kJ)(l)||(l=[]),l.push(Yt)}else i.translate(P[o])<=G&&(z=Yt,Vt=r[m+1])}(0,c.kJ)(l)&&(l=oc(l,n,t))}z&&Vt&&Math.abs(i.translate(z[ce][o])-G)>Math.abs(i.translate(Vt[ce][o])-G)&&(z=Vt)}var ue=ey(t.getXScale());return!l&&Math.abs(i.translate(z[ce][o])-G)<=ue/2&&(l=z),l}function As(n,r,t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var f,i=n[ce],a=function(n,r,t){var i=r.getAttribute("position").getFields(),a=r.scales,o=(0,c.mf)(t)||!t?i[0]:t,s=a[o],l=s?s.getText(n[o]):n[o]||o;return(0,c.mf)(t)?t(l,n):l}(i,r,t),o=r.tooltipOption,s=r.theme.defaultColor,l=[];function v(Tt,kt){(e||!(0,c.UM)(kt)&&""!==kt)&&l.push({title:a,data:i,mappingData:n,name:Tt,value:kt,color:n.color||s,marker:!0})}if((0,c.Kn)(o)){var p=o.fields,d=o.callback;if(d){var m=p.map(function(Tt){return n[ce][Tt]}),x=d.apply(void 0,m),P=(0,g.pi)({data:n[ce],mappingData:n,title:a,color:n.color||s,marker:!0},x);l.push(P)}else for(var L=r.scales,Z=0,z=p;Z<z.length;Z++){var G=z[Z];if(!(0,c.UM)(i[G])){var j=L[G];v(Mi(j),f=j.getText(i[G]))}}}else{var at=sc(r);f=function(n,r){var e=n[r.field];return(0,c.kJ)(e)?e.map(function(a){return r.getText(a)}).join("-"):r.getText(e)}(i,at),v(function(n,r){var t,e=r.getGroupScales();return e.length&&(t=e[0]),t?t.getText(n[t.field]):Mi(sc(r))}(i,r),f)}return l}function uc(n,r,t,e){var i=e.showNil,a=[],o=n.dataArray;if(!(0,c.xb)(o)){n.sort(o);for(var s=0,l=o;s<l.length;s++){var f=lc(r,l[s],n);if(f){var v=n.getElementId(f);if("heatmap"===n.type||n.elementsMap[v].visible){var d=As(f,n,t,i);d.length&&a.push(d)}}}}return a}function hc(n,r,t,e){var i=e.showNil,a=[],s=n.container.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var u=As(s.get("origin").mappingData,n,t,i);u.length&&a.push(u)}return a}function _s(n,r,t){for(var e=[],a=t.shared,o=t.title,s=t.reversed,l=0,u=n.geometries;l<u.length;l++){var f=u[l];if(f.visible&&!1!==f.tooltipOption){var v=f.type,p=void 0;(p=["point","edge","polygon"].includes(v)?hc(f,r,o,t):["area","line","path","heatmap"].includes(v)||!1!==a?uc(f,r,o,t):hc(f,r,o,t)).length&&(s&&p.reverse(),e.push(p))}}return e}function Es(n){void 0===n&&(n=0);var r=(0,c.kJ)(n)?n:[n];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,g.pr)(r,r);break;case 3:r=(0,g.pr)(r,[r[1]]);break;default:r=r.slice(0,4)}return r}var Ia={};function Rn(n,r){Ia[n]=r}function uy(n){return Ia[n]}const cy=function(){function n(r){this.option=this.wrapperOption(r)}return n.prototype.update=function(r){return this.option=this.wrapperOption(r),this},n.prototype.hasAction=function(r){return(0,c.G)(this.option.actions,function(e){return e[0]===r})},n.prototype.create=function(r,t){var e=this.option,i=e.type,o="theta"===i,s=(0,g.pi)({start:r,end:t},e.cfg),l=function(n){return _u[n.toLowerCase()]}(o?"polar":i);return this.coordinate=new l(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},n.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},n.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},n.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},n.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},n.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},n.prototype.getOption=function(){return this.option},n.prototype.getCoordinate=function(){return this.coordinate},n.prototype.wrapperOption=function(r){return(0,g.pi)({type:"rect",actions:[],cfg:{}},r)},n.prototype.execActions=function(r){var t=this;(0,c.S6)(this.option.actions,function(i){var a,o=i[0],s=i.slice(1);((0,c.UM)(r)||r.includes(o))&&(a=t.coordinate)[o].apply(a,s)})},n}(),ze=function(){function n(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return n.fromData=function(r,t,e){return new n(r,new ft.Event(t,{}),e)},Object.defineProperty(n.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[Event (type="+this.type+")]"},n.prototype.clone=function(){return new n(this.view,this.gEvent,this.data)},n}();function vy(n){var r=n.getController("axis"),t=n.getController("legend"),e=n.getController("annotation");[r,n.getController("slider"),n.getController("scrollbar"),t,e].forEach(function(o){o&&o.layout()})}var py=function(){function n(){this.scales=new Map,this.syncScales=new Map}return n.prototype.createScale=function(r,t,e,i){var a=e,o=this.getScaleMeta(i);if(0===t.length&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,c.b$)(l,o.scaleDef,e)}var u=function(n,r,t){var e=r||[];if((0,c.hj)(n)||(0,c.UM)((0,c.Wx)(e,n))&&(0,c.xb)(t))return new(Xo("identity"))({field:n.toString(),values:[n]});var a=(0,c.I)(e,n);return new(Xo((0,c.U2)(t,"type",function(n){var r="linear";return pm.test(n)?r="timeCat":(0,c.HD)(n)&&(r="cat"),r}(a[0]))))((0,g.pi)({field:n,values:a},t))}(r,t,a);return this.cacheScale(u,e,i),u},n.prototype.sync=function(r,t){var e=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];(0,c.S6)(i,function(u){var f=e.getScale(u);s=(0,c.hj)(f.max)?Math.max(s,f.max):s,o=(0,c.hj)(f.min)?Math.min(o,f.min):o,(0,c.S6)(f.values,function(v){l.includes(v)||l.push(v)})}),(0,c.S6)(i,function(u){var f=e.getScale(u);if(f.isContinuous)f.change({min:o,max:s,values:l});else if(f.isCategory){var v=f.range,p=e.getScaleMeta(u);l&&!(0,c.U2)(p,["scaleDef","range"])&&(v=Fh((0,c.b$)({},f,{values:l}),r,t)),f.change({values:l,range:v})}})})},n.prototype.cacheScale=function(r,t,e){var i=this.getScaleMeta(e);i&&i.scale.type===r.type?(function(n,r){if("identity"!==n.type&&"identity"!==r.type){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);n.change(t)}}(i.scale,r),i.scaleDef=t):this.scales.set(e,i={key:e,scale:r,scaleDef:t});var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||this.syncScales.set(a,o=[]),o.push(e)}},n.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,c.Z$)(r.split("-")),i=this.syncScales.get(e);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},n.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var i=this.syncScales.get(t.syncKey);if(i&&i.length){var a=i.indexOf(r);-1!==a&&i.splice(a,1)}}this.scales.delete(r)},n.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},n.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,i){var a=e.indexOf(r);if(-1!==a)return e.splice(a,1),0===e.length&&t.syncScales.delete(i),!1})},n.prototype.getSyncKey=function(r){var i=r.scale.field,a=(0,c.U2)(r.scaleDef,["sync"]);return!0===a?i:!1===a?void 0:a},n.prototype.getScaleMeta=function(r){return this.scales.get(r)},n}(),Oa=function(){function n(r,t,e,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.top=r,this.right=t,this.bottom=e,this.left=i}return n.instance=function(r,t,e,i){return void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),new n(r,t,e,i)},n.prototype.max=function(r){var e=r[1],i=r[2],a=r[3];return this.top=Math.max(this.top,r[0]),this.right=Math.max(this.right,e),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,a),this},n.prototype.shrink=function(r){var e=r[1],i=r[2],a=r[3];return this.top+=r[0],this.right+=e,this.bottom+=i,this.left+=a,this},n.prototype.inc=function(r,t){var e=r.width,i=r.height;switch(t){case Ft.TOP:case Ft.TOP_LEFT:case Ft.TOP_RIGHT:this.top+=i;break;case Ft.RIGHT:case Ft.RIGHT_TOP:case Ft.RIGHT_BOTTOM:this.right+=e;break;case Ft.BOTTOM:case Ft.BOTTOM_LEFT:case Ft.BOTTOM_RIGHT:this.bottom+=i;break;case Ft.LEFT:case Ft.LEFT_TOP:case Ft.LEFT_BOTTOM:this.left+=e}return this},n.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},n.prototype.clone=function(){return new(n.bind.apply(n,(0,g.pr)([void 0],this.getPadding())))},n}();function dy(n,r,t){var e=t.instance();r.forEach(function(i){i.autoPadding=e.max(i.autoPadding.getPadding())})}var cc=function(n){function r(t){var e=n.call(this,{visible:t.visible})||this;e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=Object.keys(Ia),e.scalePool=new py,e.layoutFunc=vy,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(z){var G=z.name;if(!G.includes(":")){var j=e.createViewEvent(z);e.doPlotEvent(j),e.emit(G,j)}},e.onDelegateEvents=function(z){var G=z.name;if(G.includes(":")){var j=e.createViewEvent(z);e.emit(G,j)}};var i=t.id,a=void 0===i?(0,c.EL)("view"):i,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,f=t.foregroundGroup,v=t.region,p=void 0===v?{start:{x:0,y:0},end:{x:1,y:1}}:v,d=t.padding,m=t.appendPadding,x=t.theme,P=t.options,L=t.limitInPlot,Z=t.syncViewPadding;return e.parent=t.parent,e.canvas=s,e.backgroundGroup=l,e.middleGroup=u,e.foregroundGroup=f,e.region=p,e.padding=d,e.appendPadding=m,e.options=(0,g.pi)((0,g.pi)({},e.options),P),e.limitInPlot=L,e.id=a,e.syncViewPadding=Z,e.themeObject=(0,c.Kn)(x)?(0,c.b$)({},bs("default"),ka(x)):bs(x),e.init(),e}return(0,g.ZT)(r,n),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(pe.BEFORE_RENDER,ze.fromData(this,pe.BEFORE_RENDER,e)),this.paint(t),this.emit(pe.AFTER_RENDER,ze.fromData(this,pe.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(pe.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,i=0;i<e.length;i++)e[i].clear(),e[i].container.remove(!0);this.geometries=[];var a=this.controllers;for(i=0;i<a.length;i++)"annotation"===a[i].name?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();var o=this.views;for(i=0;i<o.length;i++)o[i].clear();this.emit(pe.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(pe.BEFORE_DESTROY),(0,c.S6)(this.interactions,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,i=0,a=e.length;i<a;i++)e[i].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),n.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t);for(var e=this.geometries,i=0,a=e.length;i<a;i++)e[i].changeVisible(t);var s=this.controllers;for(i=0,a=s.length;i<a;i++)s[i].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,c.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,c.mf)(e)?((0,c.t8)(this.options,["filters",t],e),this):(!e&&(0,c.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,c.jn)(t)?(0,c.t8)(this.options,["axes"],t):(0,c.t8)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,c.jn)(t)?(0,c.t8)(this.options,["legends"],t):(0,c.HD)(t)?((0,c.t8)(this.options,["legends",t],e),(0,c.PO)(e)&&(null==e?void 0:e.selected)&&(0,c.t8)(this.options,["filters",t],function(i){var a;return null===(a=null==e?void 0:e.selected[i])||void 0===a||a})):(0,c.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var i=this;return(0,c.HD)(t)?(0,c.t8)(this.options,["scales",t],e):(0,c.Kn)(t)&&(0,c.S6)(t,function(a,o){(0,c.t8)(i.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,c.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,c.HD)(t)?(0,c.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,c.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=function(n){return Hh[(0,c.vl)(n)]}(t);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,(0,g.pi)((0,g.pi)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,c.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,c.CD)(this.options,t),this.views.forEach(function(e){return e.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return(0,c.t8)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,c.Kn)(t)?(0,c.b$)({},this.themeObject,ka(t)):bs(t),this},r.prototype.interaction=function(t,e){var i=this.interactions[t];i&&i.destroy();var a=function(n,r,t){var e=function(n){return rc[(0,c.vl)(n)]}(n);if(!e)return null;if((0,c.PO)(e)){var i=(0,c.CD)((0,c.d9)(e),t);return new Um(r,i)}return new e(r,t)}(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(pe.BEFORE_CHANGE_DATA,ze.fromData(this,pe.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].changeData(t);this.emit(pe.AFTER_CHANGE_DATA,ze.fromData(this,pe.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var e={data:this.options.data,scales:(0,c.d9)(this.options.scales),axes:(0,c.d9)(this.options.axes),coordinate:(0,c.d9)(this.coordinateController.getOption()),tooltip:(0,c.d9)(this.options.tooltip),legends:(0,c.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r((0,g.pi)((0,g.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:(0,g.pi)((0,g.pi)({},e),(0,c.U2)(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,c.Od)(this.views,function(i){return i===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var i=e.getYScale(),a=i.field;if(!t[a])return t[a]=!0,i})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,i={},a=0,o=e.length;a<o;a++){var s=e[a],l="x"===t?s.getXScale():s.getYScale();l&&!i[l.field]&&(i[l.field]=l)}return i},r.prototype.getScaleByField=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===Ce.BG?this.backgroundGroup:t===Ce.MID?this.middleGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return ms(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,c.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Gr((0,c.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var o,s,e=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y");if((0,c.S6)(t,function(l,u){i[u]&&(o=i[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,c.UM)(o)&&!(0,c.UM)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,c.sE)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,i=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,f=0,v=l.length;f<v;f++)(u=lc(t,l[f],s))&&i.push(u)}var d=this.views;for(a=0,o=d.length;a<o;a++){var x=d[a].getSnapRecords(t);i=i.concat(x)}return i},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,a=e.length;i<a;i++)t=t.concat(e[i].getComponents());return t},r.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,c.dp)(e)?t:(0,c.hX)(t,function(i,a){return Object.keys(e).every(function(s){return(0,e[s])(i[s],i,a)})})},r.prototype.filterFieldData=function(t,e){var a=(0,c.U2)(this.options.filters,t);return(0,c.o8)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),i=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;(0,c.Xy)(t.start,a)&&(0,c.Xy)(i,o)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(pe.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(pe.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,c.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox;this.backgroundStyleRectShape.attr({fill:t,x:e.x,y:e.y,width:e.width,height:e.height})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function(n){var r=n.padding;if(!function(n){return!(0,c.hj)(n)&&!(0,c.kJ)(n)}(r))return new(Oa.bind.apply(Oa,(0,g.pr)([void 0],Es(r))));var t=n.viewBBox,e=new Oa,i=[],a=[],o=[];return(0,c.S6)(n.getComponents(),function(s){var l=s.type;l===be.AXIS?i.push(s):[be.LEGEND,be.SLIDER,be.SCROLLBAR].includes(l)?a.push(s):l!==be.GRID&&l!==be.TOOLTIP&&o.push(s)}),(0,c.S6)(i,function(s){var u=s.component.getLayoutBBox(),v=new Re(u.x,u.y,u.width,u.height).exceed(t);e.max(v)}),(0,c.S6)(a,function(s){var l=s.component,u=s.direction,f=l.getLayoutBBox(),v=l.get("padding"),p=new Re(f.x,f.y,f.width,f.height).expand(v);e.inc(p,u)}),(0,c.S6)(o,function(s){var u=s.direction,f=s.component.getLayoutBBox(),v=new Re(f.x,f.y,f.width,f.height);e.inc(v,u)}),e}(this).shrink(Es(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?dy:(0,c.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,Oa),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++)i[a].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var i=Dh(this.coordinateInstance);e.setClip({type:i.type,attrs:i.attrs})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++)s[l].renderPaintRecursive(t)},r.prototype.createScale=function(t,e,i,a){var o=(0,c.U2)(this.options.scales,[t]),s=(0,g.pi)((0,g.pi)({},o),i);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){var t,e,i,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,i=o.width,a=o.height}else t=0,e=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,f=new Re(t+i*l.x,e+a*l.y,i*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(f))&&(this.viewBBox=new Re(t+i*l.x,e+a*l.y,i*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,i=t.length;e<i;e++){var o=uy(t[e]);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,a=e?e.get("origin"):null,o=new ze(this,t,a);return o.type=i,o},r.prototype.doPlotEvent=function(t){var e=t.type,o={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var l=this.isPointInPlot(o),u=t.clone();if(l){var f="plot:"+e;u.type=f,this.emit(f,u),("mouseleave"===e||"touchend"===e)&&(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!l?("mousemove"===e&&(u.type=Fe.MOUSE_LEAVE,this.emit(Fe.MOUSE_LEAVE,u)),u.type=Fe.LEAVE,this.emit(Fe.LEAVE,u)):!this.isPreMouseInPlot&&l&&("mousemove"===e&&(u.type=Fe.MOUSE_ENTER,this.emit(Fe.MOUSE_ENTER,u)),u.type=Fe.ENTER,this.emit(Fe.ENTER,u)),this.isPreMouseInPlot=l):("mouseleave"===e||"touchend"===e)&&this.isPreMouseInPlot&&("mouseleave"===e&&(u.type=Fe.MOUSE_LEAVE,this.emit(Fe.MOUSE_LEAVE,u)),u.type=Fe.LEAVE,this.emit(Fe.LEAVE,u),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){this.filteredData=this.filterData(this.options.data)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),i=(0,c.U2)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=void 0===o?{}:o,l=this.filteredData,u=0,f=t.length;u<f;u++){var v=t[u],p=s[v],d=this.getScaleKey(v);this.createScale(v,e.includes(v)?a:l,p,d),this.createdScaleKeys.set(d,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var a=t[i];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},i=this.geometries,a=0;a<i.length;a++)Gr(i[a].getScaleFields(),t,e);return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},i=this.geometries,a=0;a<i.length;a++)Gr(i[a].getGroupFields(),t,e);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,g.pr)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;(0,c.S6)(e,function(o){(o.isCategory||o.isIdentity)&&o.values&&!(0,c.U2)(a,[o.field,"range"])&&(o.range=Fh(o,i,t.theme))})},r.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var a=e[i];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){this.coordinateInstance=this.coordinateController.create(this.coordinateBBox.bl,this.coordinateBBox.tr)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=i,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,e=this.options,i=e.geometries,a=void 0===i?[]:i,o=e.interactions,s=void 0===o?[]:o,l=e.views,u=void 0===l?[]:l,f=e.annotations,v=void 0===f?[]:f,p=e.coordinate,d=e.events,m=e.facets;this.coordinateController?p&&this.coordinateController.update(p):this.coordinateController=new cy(p);for(var x=0;x<a.length;x++)this.createGeometry(a[x]);for(var L=0;L<s.length;L++){var Z=s[L];this.interaction(Z.type,Z.cfg)}for(var j=0;j<u.length;j++)this.createView(u[j]);for(var Tt=this.getController("annotation"),kt=0;kt<v.length;kt++)Tt.annotation(v[kt]);d&&(0,c.S6)(d,function(Vt,Kt){t.on(Kt,Vt)}),m&&(0,c.S6)(m,function(Vt){var Kt=Vt.type,te=(0,g._T)(Vt,["type"]);t.facet(Kt,te)})},r.prototype.createGeometry=function(t){var e=t.type,i=t.cfg;if(this[e]){var o=this[e](void 0===i?{}:i);(0,c.S6)(t,function(s,l){(0,c.mf)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(ot);function Sr(n,r){cc.prototype[n.toLowerCase()]=function(t){void 0===t&&(t={});var e=(0,g.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(e);return this.geometries.push(i),i}}const fc=function(n){function r(t){var e=this,i=t.container,a=t.width,o=t.height,s=t.autoFit,l=void 0!==s&&s,u=t.padding,f=t.appendPadding,v=t.renderer,p=void 0===v?"canvas":v,d=t.pixelRatio,m=t.localRefresh,x=void 0===m||m,P=t.visible,L=void 0===P||P,Z=t.supportCSSTransform,z=void 0!==Z&&Z,G=t.defaultInteractions,j=void 0===G?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:G,at=t.options,Tt=t.limitInPlot,kt=t.theme,Yt=t.syncViewPadding,Vt=(0,c.HD)(i)?document.getElementById(i):i,Kt=gr('<div style="position:relative;"></div>');Vt.appendChild(Kt);var te=Ki(Vt,l,a,o),we=new(function(n){var r=qi[n];if(!r)throw new Error("G engine '"+n+"' is not exist, please register it at first.");return r}(p).Canvas)((0,g.pi)({container:Kt,pixelRatio:d,localRefresh:x,supportCSSTransform:z},te));return(e=n.call(this,{parent:null,canvas:we,backgroundGroup:we.addGroup({zIndex:1}),middleGroup:we.addGroup({zIndex:2}),foregroundGroup:we.addGroup({zIndex:3}),padding:u,appendPadding:f,visible:L,options:at,limitInPlot:Tt,theme:kt,syncViewPadding:Yt})||this).onResize=(0,c.Ds)(function(){e.forceFit()},300),e.ele=Vt,e.canvas=we,e.width=te.width,e.height=te.height,e.autoFit=l,e.localRefresh=x,e.renderer=p,e.wrapperElement=Kt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(j),e}return(0,g.ZT)(r,n),r.prototype.initDefaultInteractions=function(t){var e=this;(0,c.S6)(t,function(i){e.interaction(i)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(pe.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(pe.AFTER_CHANGE_SIZE)),this},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function(n){var r=n.parentNode;r&&r.removeChild(n)}(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return n.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Ki(this.ele,!0,this.width,this.height);this.changeSize(t.width,t.height)}},r.prototype.updateCanvasStyle=function(){Be(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(cc);var zn=function(){function n(r){this.visible=!0,this.components=[],this.view=r}return n.prototype.clear=function(r){(0,c.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},n.prototype.destroy=function(){this.clear()},n.prototype.getComponents=function(){return this.components},n.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},n}();const Cy=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.isLocked=!1,t}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,i=this.getTooltipItems(t);if(!i.length)return void this.hideTooltip();var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};e.emit("tooltip:show",ze.fromData(e,"tooltip:show",(0,g.pi)({items:i,title:a},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,f=s.showCrosshairs,v=s.showContent,p=s.marker,d=this.items;if((0,c.Xy)(this.title,a)&&(0,c.Xy)(d,i)?(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",ze.fromData(e,"tooltip:change",(0,g.pi)({items:i,title:a},t))),((0,c.mf)(v)?v(i):v)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,c.CD)({},s,{items:this.getItemsAfterProcess(i),title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(i,p)),this.items=i,this.title=a,f){var x=(0,c.U2)(s,["crosshairs","follow"],!1);this.renderCrosshairs(x?t:o,s)}}},r.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var e=this.tooltipMarkersGroup;e&&e.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",ze.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,i=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),this.reset()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,i=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var i=0,a=e=(0,c.xH)(e);i<a.length;i++)for(var s=0,l=a[i];s<l.length;s++){var u=l[s],f=u.mappingData,v=f.x,p=f.y;u.x=(0,c.kJ)(v)?v[v.length-1]:v,u.y=(0,c.kJ)(p)?p[p.length-1]:p}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var m=e[0],x=Math.abs(t.y-m[0].y),P=0,L=e;P<L.length;P++){var Z=L[P],z=Math.abs(t.y-Z[0].y);z<=x&&(m=Z,x=z)}e=[m]}return function(n){for(var r=[],t=function(i){var a=n[i];(0,c.sE)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title})||r.push(a)},e=0;e<n.length;e++)t(e);return r}((0,c.xH)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(e&&i){var a=e.getBoundingClientRect();return new Re(a.x,a.y,a.width,a.height).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=this.processCustomContent(e),a=t.getTheme(),o=(0,c.U2)(a,["components","tooltip"],{}),s=(0,c.U2)(i,"enterable",o.enterable);return(0,c.b$)({},o,i,{capture:!(!s&&!this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,c.jn)(t)||!(0,c.U2)(t,"customContent"))return t;var e=t.customContent;return(0,g.pi)((0,g.pi)({},t),{customContent:function(a,o){var s=e(a,o)||"";return(0,c.HD)(s)?'<div class="g2-tooltip">'+s+"</div>":s}})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),a=new kh((0,g.pi)((0,g.pi)({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,f=(0,g.pi)((0,g.pi)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});i.addShape("marker",{attrs:f})}},r.prototype.renderCrosshairs=function(t,e){var i=(0,c.U2)(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(ms(i,t)){var a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}):(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y});else{var s=kn(i,t),l=i.getCenter(),u=i.getRadius();o=Ae(l.x,l.y,u,s),a=l}var f=(0,c.b$)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,c.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete f.type;var v=this.xCrosshair;v?v.update(f):(v=new Sh(f)).init(),v.render(),v.show(),this.xCrosshair=v}},r.prototype.renderYCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(ms(i,t)){var a,o;if(i.isRect){var s=void 0,l=void 0;i.isTransposed?(s={x:t.x,y:i.end.y},l={x:t.x,y:i.start.y}):(s={x:i.start.x,y:t.y},l={x:i.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:i.getCenter(),radius:Aa(i,t),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";delete(a=(0,c.b$)({container:this.getTooltipCrosshairsGroup()},a,(0,c.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var u=this.yCrosshair;u?i.isRect&&"circle"===u.get("type")||!i.isRect&&"line"===u.get("type")?(u=new dt[o](a)).init():u.update(a):(u=new dt[o](a)).init(),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,i){var a=(0,c.U2)(i,["crosshairs","text"]),o=(0,c.U2)(i,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],f=l.getXScale(),v=l.getYScales()[0],p=void 0,d=void 0;if(o){var m=this.view.getCoordinate().invert(e);p=f.invert(m.x),d=v.invert(m.y)}else p=u.data[f.field],d=u.data[v.field];var x="x"===t?p:d;return(0,c.mf)(a)?a=a(t,x,s,e):a.content=x,{text:a}}},r.prototype.getGuideGroup=function(){return this.guideGroup||(this.guideGroup=this.view.foregroundGroup.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var a=_s(t,e,this.getTooltipCfg()),o=0,s=t.views;o<s.length;o++)a=a.concat(this.findItemsFromView(s[o],e));return a},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,c.sE)(t.views,function(i){return e.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(a){return a})(t)},r}(zn);var vc={};function pc(n){return vc[n.toLowerCase()]}function qe(n,r){vc[n.toLowerCase()]=r}var Zn={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},My={interval:function(n){return{enter:{animation:n.isRect?n.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:n.isPolar&&n.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},gc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(n){var r;return n.isRect?r=n.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",n.isPolar&&n.isTransposed&&(r="wave-in")),{animation:r}},schema:function(n){return{animation:n.isRect?n.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function dc(n,r,t){var e=My[n];return e&&((0,c.mf)(e)&&(e=e(r)),e=(0,c.b$)({},Zn,e),t)?e[t]:e}function Yn(n,r,t){var e=(0,c.U2)(n.get("origin"),"data",ce),i=r.animation,a=function(n,r){return{delay:(0,c.mf)(n.delay)?n.delay(r):n.delay,easing:(0,c.mf)(n.easing)?n.easing(r):n.easing,duration:(0,c.mf)(n.duration)?n.duration(r):n.duration,callback:n.callback,repeat:n.repeat}}(r,e);if(i){var o=pc(i);o&&o(n,a,t)}else n.animate(t.toAttrs,a)}var Bs="element-background";const mc=function(n){function r(t){var e=n.call(this,t)||this;e.states=[];var a=t.container,o=t.offscreenGroup,s=t.visible,l=void 0===s||s;return e.shapeFactory=t.shapeFactory,e.container=a,e.offscreenGroup=o,e.visible=l,e}return(0,g.ZT)(r,n),r.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var i=this.shapeFactory,a=this.shape;if(a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var e=this.shapeFactory,i=this.shape;if(i){var a=this.getAnimateCfg("leave");a?Yn(i,a,{coordinate:e.coordinate,toAttrs:(0,g.pi)({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,n.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var i=this,a=i.states,o=i.shapeFactory,s=i.model,l=i.shape,u=i.shapeType,f=a.indexOf(t);if(e){if(f>-1)return;a.push(t),("active"===t||"selected"===t)&&(null==l||l.toFront())}else{if(-1===f)return;a.splice(f,1),("active"===t||"selected"===t)&&(null==l||l.toBack())}var v=o.drawShape(u,s,this.getOffscreenGroup());this.syncShapeStyle(l,v,a.length?a:["reset"],null),v.remove(!0);var p={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",p),hh(this.shape,"statechange",p)},r.prototype.clearStates=function(){var t=this;(0,c.S6)(this.states,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var e=this.shape,i=this.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,a=t.shapeFactory;this.statesStyle=(0,c.b$)({},a.theme[t.shapeType]||a.theme[a.defaultShapeType],t.geometry.stateOption)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),a=(0,c.U2)(i,[t,"style"],{}),o=a[e]||a;return(0,c.mf)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this,i=this.animate;if(i){var a=i[t];return a&&(0,g.pi)((0,g.pi)({},a),{callback:function(){var o;(0,c.mf)(a.callback)&&a.callback(),null===(o=e.geometry)||void 0===o||o.emit(Er.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,e){var i;void 0===e&&(e=!1);var a=this,o=a.shapeFactory;if(this.shape=o.drawShape(a.shapeType,t,a.container),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,c.HD)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var v=this.getAnimateCfg(e?"enter":"appear");v&&(null===(i=this.geometry)||void 0===i||i.emit(Er.BEFORE_DRAW_ANIMATE),Yn(this.shape,v,{coordinate:o.coordinate,toAttrs:(0,g.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(o){i.setShapeInfo(o,e)})},r.prototype.syncShapeStyle=function(t,e,i,a,o){var l,s=this;if(void 0===i&&(i=[]),void 0===o&&(o=0),t&&e){var u=t.get("clipShape"),f=e.get("clipShape");if(this.syncShapeStyle(u,f,i,a),t.isGroup())for(var v=t.get("children"),p=e.get("children"),d=0;d<v.length;d++)this.syncShapeStyle(v[d],p[d],i,a,o+d);else{if(!(0,c.xb)(i)&&!(0,c.Xy)(i,["reset"])){var m=t.get("name");(0,c.kJ)(m)&&(m=m[1]),(0,c.S6)(i,function(P){if(e.get("name")!==Bs){var L=s.getStateStyle(P,m||o);e.attr(L)}})}var x=Oh(t,e);this.animate?a?(null===(l=this.geometry)||void 0===l||l.emit(Er.BEFORE_DRAW_ANIMATE),Yn(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:x,shapeModel:this.model})):(0,c.xb)(i)?(t.stopAnimate(),t.animate(x,{duration:300})):t.attr(x):t.attr(x)}}},r.prototype.getShapeType=function(t){var e=(0,c.U2)(t,"shape");return(0,c.kJ)(e)?e[0]:e},r}(ot);var yc={},xc={};function Da(n,r){yc[n.toLowerCase()]=r}function Xe(n,r){xc[n.toLowerCase()]=r}var _y={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(n,r){var t=this.getShape(n);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(n){var r=this[n]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(n){return(0,c.U2)(n,[this.defaultShapeType,"default","style"],{})},getMarker:function(n,r){var t=this.getShape(n);t.getMarker||(t=this.getShape(this.defaultShapeType));var a=(0,c.U2)(this.theme,[n,"default"],{}),o=t.getMarker(r);return(0,c.b$)({},a,o)},drawShape:function(n,r,t){return this.getShape(n).draw(r,t)}},Ey={coordinate:null,parsePath:function(n){var r=this.coordinate,t=(0,un.tr)(n);return r.isPolar?function(n,r){var e,i,t=[];return(0,c.S6)(r,function(s,l){switch(s[0].toLowerCase()){case"m":case"c":case"q":t.push(xs(s,n));break;case"l":e=r[l-1],i=s,(n.isTransposed?e[e.length-2]===i[1]:e[e.length-1]===i[2])?t=t.concat(function(n,r,t){var e=t.isTransposed,i=t.startAngle,a=t.endAngle,o="a"===n[0].toLowerCase()?{x:n[6],y:n[7]}:{x:n[1],y:n[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",f=Math.abs(s[u]-o[u])*(a-i),v=s[u]>=o[u]?1:0,p=f>Math.PI?1:0,d=t.convert(s),m=Aa(t,d);if(m>=.5)if(f===2*Math.PI){var P=t.convert({x:(s.x+o.x)/2,y:(s.y+o.y)/2});l.push(["A",m,m,0,p,v,P.x,P.y]),l.push(["A",m,m,0,p,v,d.x,d.y])}else l.push(["A",m,m,0,p,v,d.x,d.y]);return l}(e,i,n)):t.push(xs(s,n));break;case"a":t.push(Nh(s,n));break;case"z":default:t.push(s)}}),function(n){(0,c.S6)(n,function(r,t){if("a"===r[0].toLowerCase()){var i=n[t-1],a=n[t+1];a&&"a"===a[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&a&&"l"===a[0].toLowerCase()&&(a[0]="M")}})}(t),t}(r,t):function(n,r){var t=[];return(0,c.S6)(r,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":t.push(xs(e,n));break;case"a":t.push(Nh(e,n));break;case"z":default:t.push(e)}}),t}(r,t)},parsePoint:function(n){return this.coordinate.convert(n)},parsePoints:function(n){var r=this.coordinate;return n.map(function(t){return r.convert(t)})},draw:function(n,r){}},Ps={};function Nr(n,r){var t=(0,c.jC)(n),e=(0,g.pi)((0,g.pi)((0,g.pi)({},_y),r),{geometryType:n});return Ps[t]=e,e}function xe(n,r,t){var e=(0,c.jC)(n),i=Ps[e],a=(0,g.pi)((0,g.pi)({},Ey),t);return i[r]=a,a}function Cc(n){var r=(0,c.jC)(n);return Ps[r]}function Mc(n,r){return(0,c.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,c.Xy)(n[t],r[t])})}function Ai(n){return(0,c.kJ)(n)?n:n.split("*")}const Ur=function(n){function r(t){var e=n.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=void 0!==l&&l,f=t.visible,v=void 0===f||f,p=t.theme,d=t.scales,m=void 0===d?{}:d,x=t.scaleDefs,P=void 0===x?{}:x,L=t.intervalPadding,Z=t.dodgePadding,z=t.maxColumnWidth,G=t.minColumnWidth,j=t.columnWidthRatio,at=t.roseWidthRatio,Tt=t.multiplePieWidthRatio,kt=t.zIndexReversed;return e.container=t.container,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=v,e.userTheme=p,e.scales=m,e.scaleDefs=P,e.intervalPadding=L,e.dodgePadding=Z,e.maxColumnWidth=z,e.minColumnWidth=G,e.columnWidthRatio=j,e.roseWidthRatio=at,e.multiplePieWidthRatio=Tt,e.zIndexReversed=kt,e}return(0,g.ZT)(r,n),r.prototype.position=function(t){var e=t;(0,c.PO)(t)||(e={fields:Ai(t)});var i=(0,c.U2)(e,"fields");return 1===i.length&&(i.unshift("1"),(0,c.t8)(e,"fields",i)),(0,c.t8)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,c.HD)(t)||(0,c.PO)(t))&&(e=[t]),(0,c.S6)(e,function(i,a){(0,c.Kn)(i)||(e[a]={type:i})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,c.HD)(t)){var i=Ai(t);this.styleOption={fields:i,callback:e}}else this.styleOption=(i=t.fields)||t.callback||t.cfg?t:{cfg:t};return this},r.prototype.tooltip=function(t,e){if((0,c.HD)(t)){var i=Ai(t);this.tooltipOption={fields:i,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,i){if((0,c.HD)(t)){var a={},o=Ai(t);a.fields=o,(0,c.mf)(e)?a.callback=e:(0,c.PO)(e)&&(a.cfg=e),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){void 0===t&&(t={});var e=t.data,i=t.isDataChanged,a=t.isCoordinateChanged;(0,c.Xy)(this.attributeOption,this.lastAttributeOption)?!e||!i&&(0,c.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,c.b$)({},dc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();for(var o=this.beforeMapping(this.beforeMappingData),s=[],l=0,u=o.length;l<u;l++){var v=this.mapping(o[l]);s.push(v),this.createElements(v,l,t)}if(this.canDoGroupAnimation(t)){var p=this.container,d=this.type,m=this.coordinate,x=(0,c.U2)(this.animateOption,"appear"),P=this.getYScale(),L=m.convert({x:0,y:P.scale(this.getYMinValue())});!function(n,r,t,e,i){if(gc[t]){var a=gc[t](e),o=pc((0,c.U2)(a,"animation",""));if(o){var s=(0,g.pi)((0,g.pi)((0,g.pi)({},Zn.appear),a),r);n.stopAnimate(),o(n,s,{coordinate:e,minYPoint:i,toAttrs:null})}}}(p,x,d,m,L)}this.labelOption&&this.renderLabels((0,c.xH)(s),t),this.dataArray=s,(0,c.S6)(this.lastElementsMap,function(Z){Z.animate=e.animateOption,Z.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,g.pi)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,i=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,n.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,c.S6)(this.attributes,function(e){nn.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,i=this.getAttribute(t);return i&&(0,c.xb)(i.scales)&&(e=i.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var i=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o];i.push(l.isIdentity?l.values:e[l.field])}return t.mapping.apply(t,i)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){var e=(t=(0,c.kJ)(t)?t[0]:t)[ce];if(this.idFields.length){for(var i=e[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+e[this.idFields[a]];return i}var p,d,o=this.type,s=this.getXScale(),l=this.getYScale();p="identity"===s.type?s.values[0]:e[s.field||"x"],d="interval"===o||"schema"===o?""+p:"line"===o||"area"===o||"path"===o?o:p+"-"+e[l.field||"y"];var m=this.groupScales;(0,c.xb)(m)&&(m=(0,c.U2)(this.getAttribute("color"),"scales",[])),a=0;for(var x=m.length;a<x;a++)d=d+"-"+e[m[a].field];var Z=this.getAdjust("dodge");if(Z){var z=Z.dodgeBy;z&&(d=d+"-"+e[z])}return this.getAdjust("jitter")&&(d=d+"-"+t.x+"-"+t.y),d},r.prototype.getScaleFields=function(){var t=[],e={},i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Gr(u.fields,t,e):u.values&&Gr(u.values,t,e)}return o&&o.fields&&Gr(o.fields,t,e),(0,c.Kn)(s)&&s.fields&&Gr(s.fields,t,e),t},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t);for(var e=this.elements,i=0,a=e.length;i<a;i++)e[i].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},i=0,a=nn.length;i<a;i++){var s=this.attributeOption[nn[i]];s&&s.fields&&Gr(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),i=e.field,a=0;a<t.length;a++)t[a].sort(function(s,l){return e.translate(s[ce][i])-e.translate(l[ce][i])});this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(Cc(t))return this.shapeFactory||(this.shapeFactory=(0,c.d9)(Cc(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){void 0===e&&(e=!1);var i=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new mc({shapeFactory:o,container:i,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[ce],i={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=(0,c.U2)(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,e)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,f=t.length;u<f;u++){var v=t[u],p=this.getElementId(v);s[p]&&(p=p+"-"+e+"-"+u);var d=o[p];if(d){var m=this.getDrawCfg(v),x=d.getModel();(this.isCoordinateChanged||Mc(m,x))&&(d.animate=this.animateOption,d.update(m)),delete o[p]}else d=this.createElement(v,i);l.push(d),s[p]=d}if(this.zIndexReversed){var P=l.length;l.forEach(function(L,Z){L.shape.setZIndex(P-Z)})}return l},r.prototype.getLabelType=function(){var t=this,i=t.coordinate,a=t.type,o=i.type,s=i.isTransposed,l=(0,c.U2)(t.labelOption,["cfg","type"]);return l||(l="polar"===o?s?"pie":"polar":"theta"===o?"pie":"interval"===a||"polygon"===a?"interval":"base"),l},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return e>=0?e:i<=0?i:0},r.prototype.createAttrOption=function(t,e,i){if((0,c.UM)(e)||(0,c.Kn)(e))(0,c.Kn)(e)&&(0,c.Xy)(Object.keys(e),["values"])?(0,c.t8)(this.attributeOption,t,{fields:e.values}):(0,c.t8)(this.attributeOption,t,e);else{var a={};(0,c.hj)(e)?a.values=[e]:a.fields=Ai(e),i&&((0,c.mf)(i)?a.callback=i:a.values=i),(0,c.t8)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,i=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(p){if(a.hasOwnProperty(p)){var d=a[p];if(!d)return{value:void 0};var m=(0,g.pi)({},d),x=m.callback,P=m.values,L=m.fields,z=(void 0===L?[]:L).map(function(j){var at=t.scales[j];return at.isCategory&&!l[j]&&nn.includes(p)&&(t.groupScales.push(at),l[j]=!0),at});m.scales=z,"position"!==p&&1===z.length&&"identity"===z[0].type?m.values=z[0].values:!x&&!P&&("size"===p?m.values=o.sizes:"shape"===p?m.values=o.shapes[s]||[]:"color"===p&&(m.values=z.length?z[0].values.length<=10?o.colors10:o.colors20:o.colors10));var G=Tu(p);i[p]=new G(m)}};for(var f in a){var v=u(f);if("object"==typeof v)return v.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var i=this.getAttribute("position").scales.filter(function(j){return j.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],f=[],v=0,p=u.length;v<p;v++){var d=u[v],m={};for(var x in d)m[x]=d[x];m[ce]=d;for(var P=0,L=i;P<L.length;P++){var Z=L[P],z=Z.field;m[z]=Z.translate(m[z])}f.push(m)}o.push(f)}var G=this.adjustData(o);return this.beforeMappingData=G,G},r.prototype.adjustData=function(t){var e=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,f=this.columnWidthRatio||s.columnWidthRatio,v=t;if(e){var p=this.getXScale(),d=this.getYScale(),m=p.field,x=d?d.field:null,P=Ci(this.coordinate),L=p.values.length,Z=this.getAttribute("size"),z=void 0;Z&&(z=Z.values[0]);for(var G=0,j=e.length;G<j;G++){var at=e[G],Tt=(0,g.pi)({xField:m,yField:x,intervalPadding:a,dodgePadding:o,xDimensionLength:P,groupNum:L,defaultSize:z,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:f},at),kt=at.type;if("dodge"===kt){var Yt=[];if(p.isCategory||"identity"===p.type)Yt.push("x");else{if(d)throw new Error("dodge is not support linear attribute, please use category attribute!");Yt.push("y")}Tt.adjustNames=Yt,Tt.dodgeRatio=f}else if("stack"===kt){var Vt=this.coordinate;if(!d){Tt.height=Vt.getHeight();var Kt=this.getDefaultValue("size")||3;Tt.size=Kt}!Vt.isTransposed&&(0,c.UM)(Tt.reverseOrder)&&(Tt.reverseOrder=!0)}var ve=new(Fl(kt))(Tt);v=ve.process(v),this.adjusts[kt]=ve}}return v},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var u=e[s].field;o.push(u),(0,c.U2)(i,[u,"values"])&&(a[u]=i[u].values)}return function(n,r,t){if(void 0===t&&(t={}),!r)return[n];var e=(0,c.Ms)(n,r),i=[];if(1===r.length&&t[r[0]])for(var o=0,s=t[r[0]];o<s.length;o++){var u=e["_"+s[o]];u&&i.push(u)}else for(var f in e)e.hasOwnProperty(f)&&i.push(e[f]);return i}(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var i=(0,c.xH)(e),a=t.field,o=t.min,s=t.max,l=0;l<i.length;l++){var u=i[l],f=Math.min.apply(null,u[a]),v=Math.max.apply(null,u[a]);f<o&&(o=f),v>s&&(s=v)}var p=this.scaleDefs,d={};o<t.min&&!(0,c.U2)(p,[a,"min"])&&(d.min=o),s>t.max&&!(0,c.U2)(p,[a,"max"])&&(d.max=s),t.change(d)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var i=0,a=e.length;i<a;i++){var o=e[i];this.generateShapePoints(o);var s=e[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=i?this.getAttributeValues(i,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var i=[];if((0,c.kJ)(t))for(var a=0;a<t.length;a++)i.push(e.scale(t[a]));else i=e.scale(t);return i},r.prototype.mapping=function(t){for(var e=this.attributes,i=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[ce],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],f=u.names,v=this.getAttributeValues(u,o);if(f.length>1)for(var p=0;p<v.length;p+=1){var d=v[p];s[f[p]]=(0,c.kJ)(d)&&1===d.length?d[0]:d}else s[f[0]]=1===v.length?v[0]:v}this.convertPoint(s),i.push(s)}return i},r.prototype.convertPoint=function(t){var a,o,s,e=t.x,i=t.y,l=this.coordinate;if((0,c.kJ)(e)&&(0,c.kJ)(i)){a=[],o=[];for(var u=0,f=0,v=e.length,p=i.length;u<v&&f<p;u+=1,f+=1)s=l.convert({x:e[u],y:i[f]}),a.push(s.x),o.push(s.y)}else if((0,c.kJ)(i)){o=[];for(var d=0;d<i.length;d++)s=l.convert({x:e,y:i[d]}),a&&a!==s.x?((0,c.kJ)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}else if((0,c.kJ)(e))for(a=[],d=0;d<e.length;d++)s=l.convert({x:e[d],y:i}),o&&o!==s.y?((0,c.kJ)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x);else{var P=l.convert({x:e,y:i});a=P.x,o=P.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var i=t.fields,o=t.callback,s=t.cfg;if(s)return s;var l=(void 0===i?[]:i).map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,i=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,c.S6)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,c.b$)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var i=this.geometryLabel;i||(i=new(function(n){return yc[n.toLowerCase()]}(this.getLabelType()))(this),this.geometryLabel=i),i.render(t,e);var s=i.labelsRenderer.shapesMap;(0,c.S6)(this.elementsMap,function(l,u){var f=function(n,r){var t=[];return(0,c.S6)(r,function(e,i){i.split(" ")[0]===n&&t.push(e)}),t}(u,s);if(f.length){l.labelShape=f;for(var v=0;v<f.length;v++)for(var d=f[v].getChildren(),m=0;m<d.length;m++){var x=d[m];x.cfg.name=["element","label"],x.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,c.U2)(this.animateOption,"appear")||(0,c.U2)(this.animateOption,"appear")&&void 0===(0,c.U2)(this.animateOption,["appear","animation"]))},r}(ot);var Fa=ge.vs;function _i(n,r,t){var e=Fa(n.getMatrix(),[["t",r,t]]);n.setMatrix(e)}function Ls(n,r){var t=function(n,r){var t=n.attr(),e=t.x,i=t.y;return Fa(n.getMatrix(),[["t",-e,-i],["r",r],["t",e,i]])}(n,r);n.setMatrix(t)}function Xr(n){return n.find(function(r){return"text"===r.get("type")})}function ks(n,r,t){void 0===t&&(t=[0,0,0,0]);var e=n.getChildren()[0];if(e){var i=e.clone();(null==r?void 0:r.rotate)&&Ls(i,-r.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;i.destroy();var f=t;return(0,c.UM)(f)?f=[2,2,2,2]:(0,c.hj)(f)&&(f=new Array(4).fill(f)),{x:o-f[3],y:s-f[0],width:l+f[1]+f[3],height:u+f[0]+f[2],rotation:(null==r?void 0:r.rotate)||0}}}function Dy(n,r){var t=n.getBBox();return(0,c.G)(r,function(e){var i=e.getBBox();return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(t,i,2)>0})}function wc(n,r,t){var e=t.data,i=t.origin,a=t.animateCfg,o=t.coordinate,s=(0,c.U2)(a,"update");n.set("data",e),n.set("origin",i),n.set("animateCfg",a),n.set("coordinate",o),n.set("visible",r.get("visible")),n.getChildren().forEach(function(l,u){var f=r.getChildByIndex(u);if(f){l.set("data",e),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var v=Oh(l,f);s?Yn(l,s,{toAttrs:v,coordinate:o}):l.attr(v),f.isGroup()&&wc(l,f,t)}else n.removeChild(l),l.remove(!0)}),(0,c.S6)(r.getChildren(),function(l,u){u>=n.getCount()&&(l.destroyed||n.add(l))})}const Ry=function(){function n(r){this.shapesMap={},this.lastShapesMap={};var e=r.container;this.layout=r.layout,this.container=e}return n.prototype.render=function(r,t,e){var i=this;void 0===e&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.renderLabelBackground(r),this.adjustLabel(r)}var f=this.lastShapesMap,v=this.shapesMap;(0,c.S6)(v,function(p,d){if(p.destroyed)delete v[d];else{if(f[d]){var m=p.get("data"),x=p.get("origin"),P=p.get("coordinate"),L=p.get("animateCfg"),Z=f[d];wc(Z,v[d],{data:m,origin:x,animateCfg:L,coordinate:P}),i.shapesMap[d]=Z}else{a.add(p);var z=(0,c.U2)(p.get("animateCfg"),e?"enter":"appear");z&&Yn(p,z,{toAttrs:(0,g.pi)({},p.attr()),coordinate:p.get("coordinate")})}delete f[d]}}),(0,c.S6)(f,function(p){var d=(0,c.U2)(p.get("animateCfg"),"leave");d?Yn(p,d,{toAttrs:null,coordinate:p.get("coordinate")}):p.remove(!0)}),this.lastShapesMap=v,o.destroy()},n.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},n.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},n.prototype.renderLabel=function(r,t){var p,e=r.id,o=r.mappingData,s=r.coordinate,l=r.animate,u=r.content,f={id:e,elementId:r.elementId,data:r.data,origin:(0,g.pi)((0,g.pi)({},o),{data:o[ce]}),coordinate:s},v=t.addGroup((0,g.pi)({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&(0,c.b$)({},this.animate,l)},f));if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var d=u.getCanvasBBox(),m=d.width,x=d.height,P=(0,c.U2)(r,"textAlign","left"),L=r.x;"center"===P?L-=m/2:("right"===P||"end"===P)&&(L-=m),_i(u,L,r.y-x/2),p=u,v.add(u)}else{var z=(0,c.U2)(r,["style","fill"]);p=v.addShape("text",(0,g.pi)({attrs:(0,g.pi)((0,g.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,c.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,c.Ft)(z)?r.color:z})},f))}r.rotate&&Ls(p,r.rotate),this.shapesMap[e]=v},n.prototype.doLayout=function(r,t){var e=this;if(this.layout){var i=(0,c.kJ)(this.layout)?this.layout:[this.layout];(0,c.S6)(i,function(a){var o=function(n){return xc[n.toLowerCase()]}((0,c.U2)(a,"type",""));if(o){var s=[],l=[];(0,c.S6)(e.shapesMap,function(u,f){s.push(u),l.push(t[u.get("elementId")])}),o(r,s,l,e.region,a.cfg)}})}},n.prototype.renderLabelLine=function(r){var t=this;(0,c.S6)(r,function(e){var i=(0,c.U2)(e,"coordinate");if(e&&i){var a=i.getCenter(),o=i.getRadius();if(e.labelLine){var s=(0,c.U2)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var f=Ae(a.x,a.y,o,e.angle);u=[["M",f.x,f.y],["L",e.x,e.y]]}var v=t.shapesMap[l];v.destroyed||v.addShape("path",{capture:!1,attrs:(0,g.pi)({path:u,stroke:e.color?e.color:(0,c.U2)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},n.prototype.renderLabelBackground=function(r){var t=this;(0,c.S6)(r,function(e){var i=(0,c.U2)(e,"coordinate"),a=(0,c.U2)(e,"background");if(a&&i){var o=e.id,s=t.shapesMap[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=ks(s,e,a.padding),f=u.rotation,v=(0,g._T)(u,["rotation"]),p=s.addShape("rect",{attrs:(0,g.pi)((0,g.pi)({},v),a.style||{}),id:o,origin:e.mappingData,data:e.data,coordinate:e.coordinate});if(p.setZIndex(-1),f){var d=l.getMatrix();p.setMatrix(d)}}}}})},n.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},n.prototype.adjustLabel=function(r){var t=this;(0,c.S6)(r,function(e){if(e){var a=t.shapesMap[e.id];if(!a.destroyed){var o=a.findAll(function(s){return"path"!==s.get("type")});(0,c.S6)(o,function(s){s&&(e.offsetX&&s.attr("x",s.attr("x")+e.offsetX),e.offsetY&&s.attr("y",s.attr("y")+e.offsetY))})}}})},n}();function Sc(n){var r=0;return(0,c.S6)(n,function(t){r+=t}),r/n.length}const Is=function(){function n(r){this.geometry=r}return n.prototype.getLabelItems=function(r){var t=this,e=[],i=this.getLabelCfgs(r);return(0,c.S6)(r,function(a,o){var s=i[o];if(!s||(0,c.UM)(a.x)||(0,c.UM)(a.y))e.push(null);else{var l=(0,c.kJ)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,c.S6)(l,function(f,v){if((0,c.UM)(f)||""===f)e.push(null);else{var p=(0,g.pi)((0,g.pi)({},s),t.getLabelPoint(s,a,v));p.textAlign||(p.textAlign=t.getLabelAlign(p,v,u)),p.offset<=0&&(p.labelLine=null),e.push(p)}})}}),e},n.prototype.render=function(r,t){void 0===t&&(t=!1);var e=this.getLabelItems(r),i=this.getLabelsRenderer(),a=this.getGeometryShapes();i.render(e,a,t)},n.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},n.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},n.prototype.getCoordinate=function(){return this.geometry.coordinate},n.prototype.getDefaultLabelCfg=function(r,t){var e=this.geometry,i=e.type,a=e.theme;return"polygon"===i||"interval"===i&&"middle"===t||r<0&&!["line","point","path"].includes(i)?(0,c.U2)(a,"innerLabels",{}):(0,c.U2)(a,"labels",{})},n.prototype.getThemedLabelCfg=function(r){var t=this.geometry,e=this.getDefaultLabelCfg(),i=t.type,a=t.theme;return"polygon"===i||r.offset<0&&!["line","point","path"].includes(i)?(0,c.b$)({},e,a.innerLabels,r):(0,c.b$)({},e,a.labels,r)},n.prototype.setLabelPosition=function(r,t,e,i){},n.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},n.prototype.getLabelOffsetPoint=function(r,t,e){var i=r.offset,o=this.getCoordinate().isTransposed,l=o?1:-1,u={x:0,y:0};return u[o?"x":"y"]=t>0||1===e?i*l:i*l*-1,u},n.prototype.getLabelPoint=function(r,t,e){var i=this.getCoordinate(),a=r.content.length;function o(P,L,Z){void 0===Z&&(Z=!1);var z=P;return(0,c.kJ)(z)&&(z=1===r.content.length?Z?Sc(z):z.length<=2?z[P.length-1]:Sc(z):z[L]),z}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=(0,c.kJ)(t.shape)?t.shape[0]:t.shape,u="funnel"===l||"pyramid"===l;if("polygon"===this.geometry.type){var f=function(n,r){if((0,c.hj)(n)&&(0,c.hj)(r))return[n,r];for(var a,s,t=-1,e=0,i=0,o=n.length-1,l=0;++t<n.length;)l+=s=n[a=o]*r[o=t]-n[o]*r[a],e+=(n[a]+n[o])*s,i+=(r[a]+r[o])*s;return[e/(l*=3),i/l]}(t.x,t.y);s.x=f[0],s.y=f[1]}else"interval"!==this.geometry.type||u?(s.x=o(t.x,e),s.y=o(t.y,e)):(s.x=o(t.x,e,!0),s.y=o(t.y,e));if(u){var v=(0,c.U2)(t,"nextPoints"),p=(0,c.U2)(t,"points");if(v){var d=i.convert(p[1]),m=i.convert(v[1]);s.x=(d.x+m.x)/2,s.y=(d.y+m.y)/2}else"pyramid"===l&&(d=i.convert(p[1]),m=i.convert(p[2]),s.x=(d.x+m.x)/2,s.y=(d.y+m.y)/2)}r.position&&this.setLabelPosition(s,t,e,r.position);var x=this.getLabelOffsetPoint(r,e,a);return s.start={x:s.x,y:s.y},s.x+=x.x,s.y+=x.y,s.color=t.color,s},n.prototype.getLabelAlign=function(r,t,e){var i="center";if(this.getCoordinate().isTransposed){var o=r.offset;i=o<0?"right":0===o?"center":"left",e>1&&0===t&&("right"===i?i="left":"left"===i&&(i="right"))}return i},n.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,i=t.getXScale(),a=t.getYScale(),o=r[ce],s=t.getElementId(r);return"line"===e||"area"===e?s+=" "+o[i.field]:"path"===e&&(s+=" "+o[i.field]+"-"+o[a.field]),s},n.prototype.getLabelsRenderer=function(){var r=this.geometry,i=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Ry({container:r.labelsContainer,layout:(0,c.U2)(r.labelOption,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=!!a&&dc("label",o),s},n.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,i=e.labelOption,a=e.scales,o=e.coordinate,l=i.fields,u=i.callback,f=i.cfg,v=l.map(function(d){return a[d]}),p=[];return(0,c.S6)(r,function(d,m){var L,x=d[ce],P=t.getLabelText(x,v);if(u){var Z=l.map(function(Tt){return x[Tt]});if(L=u.apply(void 0,Z),(0,c.UM)(L))return void p.push(null)}var z=(0,g.pi)((0,g.pi)({id:t.getLabelId(d),elementId:t.geometry.getElementId(d),data:x,mappingData:d,coordinate:o},f),L);(0,c.mf)(z.position)&&(z.position=z.position(x,d,m));var G=t.getLabelOffset(z.offset||0),j=t.getDefaultLabelCfg(G,z.position);(z=(0,c.b$)({},j,z)).offset=t.getLabelOffset(z.offset||0);var at=z.content;(0,c.mf)(at)?z.content=at(x,d,m):(0,c.o8)(at)&&(z.content=P[0]),p.push(z)}),p},n.prototype.getLabelText=function(r,t){var e=[];return(0,c.S6)(t,function(i){var a=r[i.field];a=(0,c.kJ)(a)?a.map(function(o){return i.getText(o)}):i.getText(a),(0,c.UM)(a)||""===a?e.push(null):e.push(a)}),e},n.prototype.getOffsetVector=function(r){void 0===r&&(r=0);var t=this.getCoordinate(),e=0;return(0,c.hj)(r)&&(e=r),t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},n.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,c.S6)(r.elementsMap,function(e,i){t[i]=e.shape}),(0,c.S6)(r.getOffscreenGroup().getChildren(),function(e){var i=r.getElementId(e.get("origin").mappingData);t[i]=e}),t},n}();function Os(n,r,t){if(!n)return t;var e;if(n.callback&&n.callback.length>1){var i=Array(n.callback.length-1).fill("");e=n.mapping.apply(n,(0,g.pr)([r],i)).join("")}else e=n.mapping(r).join("");return e||t}var vn={hexagon:function(n,r,t){var e=t/2*Math.sqrt(3);return[["M",n,r-t],["L",n+e,r-t/2],["L",n+e,r+t/2],["L",n,r+t],["L",n-e,r+t/2],["L",n-e,r-t/2],["Z"]]},bowtie:function(n,r,t){var e=t-1.5;return[["M",n-t,r-e],["L",n+t,r+e],["L",n+t,r-e],["L",n-t,r+e],["Z"]]},cross:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r+t],["M",n+t,r-t],["L",n-t,r+t]]},tick:function(n,r,t){return[["M",n-t/2,r-t],["L",n+t/2,r-t],["M",n,r-t],["L",n,r+t],["M",n-t/2,r+t],["L",n+t/2,r+t]]},plus:function(n,r,t){return[["M",n-t,r],["L",n+t,r],["M",n,r-t],["L",n,r+t]]},hyphen:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},line:function(n,r,t){return[["M",n,r-t],["L",n,r+t]]}},Zy=["line","cross","tick","plus","hyphen"];function Tc(n){var r=n.symbol;(0,c.HD)(r)&&vn[r]&&(n.symbol=vn[r])}function Ds(n){return n.startsWith(Ft.LEFT)||n.startsWith(Ft.RIGHT)?"vertical":"horizontal"}function Ac(n,r){var t=(0,c.U2)(n,["components","legend"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}var de_100="#FFFFFF",de_65="#A6A6A6",de_45="#737373",de_25="#404040",ur=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Ny=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Uy=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Vy=function(n){void 0===n&&(n={});var r=n.backgroundColor,e=n.subColor,a=n.paletteQualitative10,o=void 0===a?ur:a,s=n.paletteQualitative20,u=n.paletteSemanticRed,v=n.paletteSemanticGreen,d=n.paletteSemanticYellow,x=n.paletteSequence,L=n.fontFamily,z=n.brandColor;return{backgroundColor:void 0===r?"#141414":r,brandColor:void 0===z?o[0]:z,subColor:void 0===e?"rgba(255,255,255,0.05)":e,paletteQualitative10:o,paletteQualitative20:void 0===s?Ny:s,paletteSemanticRed:void 0===u?"#F4664A":u,paletteSemanticGreen:void 0===v?"#30BF78":v,paletteSemanticYellow:void 0===d?"#FAAD14":d,paletteSequence:void 0===x?Uy:x,fontFamily:void 0===L?'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':L,axisLineBorderColor:de_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:de_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:de_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#262626",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:de_45,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#262626",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:de_45,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ur[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:de_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:de_45,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:de_45,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:de_65,legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#262626",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:de_45,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:"#262626",annotationArcBorder:1,annotationLineBorderColor:de_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:de_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:de_100,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:de_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:de_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:de_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#000",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:de_65,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#000",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:de_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:ur[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#000",pointBorderOpacity:1,pointActiveBorderColor:de_100,pointSelectedBorder:2,pointSelectedBorderColor:de_100,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ur[0],hollowPointBorderOpacity:.95,hollowPointFillColor:"#000",hollowPointActiveBorder:1,hollowPointActiveBorderColor:de_100,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:de_100,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ur[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ur[0],areaFillOpacity:.25,areaActiveFillColor:ur[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ur[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ur[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:de_100,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:de_100,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ur[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:de_100,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:de_100,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ur[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#000",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:de_100,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:de_100,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}}();function _c(n,r,t,e){var i=n-t,a=r-e;return Math.sqrt(i*i+a*a)}function gn(n,r,t,e,i,a){return i>=n&&i<=n+t&&a>=r&&a<=r+e}function Ei(n,r){return!(r.minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)}function Ec(n,r){return n[0]===r[0]&&n[1]===r[1]}var Jy=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Qy=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,jy=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Bc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Pc(n,r){var t=n.match(Bc);(0,c.S6)(t,function(e){var i=e.split(":");r.addColorStop(i[0],i[1])})}function ex(n,r,t){var e=r.getBBox();if(isNaN(e.x)||isNaN(e.y)||isNaN(e.width)||isNaN(e.height))return t;if((0,c.HD)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(n,r,t){var s,l,e=Jy.exec(t),i=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox();i>=0&&i<.5*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),f=u*u,d=n.createLinearGradient(s.x,s.y,(l.x-s.x+u*(l.y-s.y))/(f+1)+s.x,u*(l.x-s.x+u*(l.y-s.y))/(f+1)+s.y);return Pc(a,d),d}(n,r,t);if("r"===t[0])return function(n,r,t){var e=Qy.exec(t),i=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(0===o){var l=s.match(Bc);return l[l.length-1].split(":")[1]}var u=r.getBBox(),f=u.maxX-u.minX,v=u.maxY-u.minY,p=Math.sqrt(f*f+v*v)/2,d=n.createRadialGradient(u.minX+f*i,u.minY+v*a,0,u.minX+f/2,u.minY+v/2,o*p);return Pc(s,d),d}(n,r,t);if("p"===t[0])return function(n,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,i,a=jy.exec(t),o=a[1],s=a[2];function l(){e=n.createPattern(i,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),e}(n,r,t)}return t}return t instanceof CanvasPattern?t:void 0}function Ra(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Fs(n,r){return Ra(n)*Ra(r)?(n[0]*r[0]+n[1]*r[1])/(Ra(n)*Ra(r)):1}function Lc(n,r){return(n[0]*r[1]<n[1]*r[0]?-1:1)*Math.acos(Fs(n,r))}function za(n,r){var t=r[1],e=r[2],i=(0,c.wQ)((0,c.c$)(r[3]),2*Math.PI),a=r[4],o=r[5],s=n[0],l=n[1],u=r[6],f=r[7],v=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-f)/2,p=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-f)/2,d=v*v/(t*t)+p*p/(e*e);d>1&&(t*=Math.sqrt(d),e*=Math.sqrt(d));var m=t*t*(p*p)+e*e*(v*v),x=m?Math.sqrt((t*t*(e*e)-m)/m):1;a===o&&(x*=-1),isNaN(x)&&(x=0);var P=e?x*t*p/e:0,L=t?x*-e*v/t:0,Z=(s+u)/2+Math.cos(i)*P-Math.sin(i)*L,z=(l+f)/2+Math.sin(i)*P+Math.cos(i)*L,G=[(v-P)/t,(p-L)/e],j=[(-1*v-P)/t,(-1*p-L)/e],at=Lc([1,0],G),Tt=Lc(G,j);return Fs(G,j)<=-1&&(Tt=Math.PI),Fs(G,j)>=1&&(Tt=0),0===o&&Tt>0&&(Tt-=2*Math.PI),1===o&&Tt<0&&(Tt+=2*Math.PI),{cx:Z,cy:z,rx:Ec(n,[u,f])?0:t,ry:Ec(n,[u,f])?0:e,startAngle:at,endAngle:at+Tt,xRotation:i,arcFlag:a,sweepFlag:o}}var Za=Math.sin,Ya=Math.cos,Rs=Math.atan2,Ga=Math.PI;function kc(n,r,t,e,i,a,o){var s=r.stroke,l=r.lineWidth,v=Rs(e-a,t-i),p=new Xs({type:"path",canvas:n.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Ya(Ga/6)+","+10*Za(Ga/6)+" L0,0 L"+10*Ya(Ga/6)+",-"+10*Za(Ga/6),stroke:s,lineWidth:l}});p.translate(i,a),p.rotateAtPoint(i,a,v),n.set(o?"startArrowShape":"endArrowShape",p)}function Ic(n,r,t,e,i,a,o){var u=r.stroke,f=r.lineWidth,v=o?r.startArrow:r.endArrow,p=v.d,d=v.fill,m=v.stroke,x=v.lineWidth,P=(0,g._T)(v,["d","fill","stroke","lineWidth"]),z=Rs(e-a,t-i);p&&(i-=Ya(z)*p,a-=Za(z)*p);var G=new Xs({type:"path",canvas:n.get("canvas"),isArrowShape:!0,attrs:(0,g.pi)((0,g.pi)({},P),{stroke:m||u,lineWidth:x||f,fill:d})});G.translate(i,a),G.rotateAtPoint(i,a,z),n.set(o?"startArrowShape":"endArrowShape",G)}function dn(n,r,t,e,i){var a=Rs(e-r,t-n);return{dx:Ya(a)*i,dy:Za(a)*i}}function zs(n,r,t,e,i,a){"object"==typeof r.startArrow?Ic(n,r,t,e,i,a,!0):r.startArrow?kc(n,r,t,e,i,a,!0):n.set("startArrowShape",null)}function Zs(n,r,t,e,i,a){"object"==typeof r.endArrow?Ic(n,r,t,e,i,a,!1):r.endArrow?kc(n,r,t,e,i,a,!1):n.set("startArrowShape",null)}var Oc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Gn(n,r){var t=r.attr();for(var e in t){var i=t[e],a=Oc[e]?Oc[e]:e;"matrix"===a&&i?n.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===a&&n.setLineDash?(0,c.kJ)(i)&&n.setLineDash(i):("strokeStyle"===a||"fillStyle"===a?i=ex(n,r,i):"globalAlpha"===a&&(i*=n.globalAlpha),n[a]=i)}}function Ys(n,r,t){for(var e=0;e<r.length;e++){var i=r[e];i.cfg.visible?i.draw(n,t):i.skipDraw()}}function nx(n,r,t){var e=n.get("refreshElements");(0,c.S6)(e,function(i){if(i!==n)for(var a=i.cfg.parent;a&&a!==n&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),e[0]===n?Hs(r,t):Gs(r,t)}function Gs(n,r){for(var t=0;t<n.length;t++){var e=n[t];if(e.cfg.visible)if(e.cfg.hasChanged)e.cfg.refresh=!0,e.isGroup()&&Hs(e.cfg.children,r);else if(e.cfg.refresh)e.isGroup()&&Gs(e.cfg.children,r);else{var i=ix(e,r);e.cfg.refresh=i,i&&e.isGroup()&&Gs(e.cfg.children,r)}}}function Dc(n){for(var r=0;r<n.length;r++){var t=n[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Dc(t.cfg.children)}}function Hs(n,r){for(var t=0;t<n.length;t++){var e=n[t];e.cfg.refresh=!0,e.isGroup()&&Hs(e.get("children"),r)}}function ix(n,r){var t=n.cfg.cacheCanvasBBox;return n.cfg.isInView&&t&&Ei(t,r)}function Fc(n,r,t,e){var i=t.path,a=t.startArrow,o=t.endArrow;if(i){var s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var f=0;f<i.length;f++){var v=i[f],p=v[0];if(0===f&&a&&a.d)u=dn((d=n.getStartTangent())[0][0],d[0][1],d[1][0],d[1][1],a.d);else if(f===i.length-2&&"Z"===i[f+1][0]&&o&&o.d)"Z"===i[f+1][0]&&(u=dn((d=n.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],o.d));else if(f===i.length-1&&o&&o.d&&"Z"!==i[0]){var d;u=dn((d=n.getEndTangent())[0][0],d[0][1],d[1][0],d[1][1],o.d)}var x=u.dx,P=u.dy;switch(p){case"M":r.moveTo(v[1]-x,v[2]-P),l=[v[1],v[2]];break;case"L":r.lineTo(v[1]-x,v[2]-P);break;case"Q":r.quadraticCurveTo(v[1],v[2],v[3]-x,v[4]-P);break;case"C":r.bezierCurveTo(v[1],v[2],v[3],v[4],v[5]-x,v[6]-P);break;case"A":var L=void 0;e?(L=e[f])||(L=za(s,v),e[f]=L):L=za(s,v);var Z=L.cx,z=L.cy,G=L.rx,j=L.ry,at=L.startAngle,Tt=L.endAngle,kt=L.xRotation,Yt=L.sweepFlag;if(r.ellipse)r.ellipse(Z,z,G,j,kt,at,Tt,1-Yt);else{var Vt=G>j?G:j,Kt=G>j?1:G/j,te=G>j?j/G:1;r.translate(Z,z),r.rotate(kt),r.scale(Kt,te),r.arc(0,0,Vt,at,Tt,1-Yt),r.scale(1/Kt,1/te),r.rotate(-kt),r.translate(-Z,-z)}break;case"Z":r.closePath()}if("Z"===p)s=l;else{var ve=v.length;s=[v[ve-2],v[ve-1]]}}}}function Rc(n,r){var t=n.get("canvas");t&&("remove"===r&&(n._cacheCanvasBBox=n.get("cacheCanvasBBox")),n.get("hasChanged")||(n.set("hasChanged",!0),n.cfg.parent&&n.cfg.parent.get("hasChanged")||(t.refreshElement(n,r,t),t.get("autoDraw")&&t.draw())))}const Ns=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.onCanvasChange=function(t){Rc(this,t)},r.prototype.getShapeBase=function(){return Lt},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Gn(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.cacheCanvasBBox=function(){var e=[],i=[];(0,c.S6)(this.cfg.children,function(p){var d=p.cfg.cacheCanvasBBox;d&&p.cfg.isInView&&(e.push(d.minX,d.maxX),i.push(d.minY,d.maxY))});var a=null;if(e.length){var o=(0,c.VV)(e),s=(0,c.Fp)(e),l=(0,c.VV)(i),u=(0,c.Fp)(i);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var f=this.cfg.canvas;if(f){var v=f.getViewRange();this.set("isInView",Ei(a,v))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},r.prototype.draw=function(t,e){var i=this.cfg.children;i.length&&(!e||this.cfg.refresh)&&(t.save(),Gn(t,this),this._applyClip(t,this.getClip()),Ys(t,i,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(ft.AbstractGroup),hr=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Lt},r.prototype.getGroupBase=function(){return Ns},r.prototype.onCanvasChange=function(t){Rc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),a=(0,ft.getBBoxMethod)(t)(this),o=e/2,s=a.x-o,l=a.y-o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:a.x+a.width+o,maxY:a.y+a.height+o}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Gn(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var i=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Ei(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Gn(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),i=Ei(e,t);this.set("isInView",i),this.set("cacheCanvasBBox",i?e:null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&((0,c.UM)(s)||1===s?this.fill(t):(t.globalAlpha=s,this.fill(t),t.globalAlpha=a)),this.isStroke()&&i>0&&(!(0,c.UM)(o)&&1!==o&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,i,a,o)},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(ft.AbstractShape),cx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),f=s.r,v=o/2,p=_c(s.x,s.y,t,e);return a&&i?p<=f+v:a?p<=f:!!i&&p>=f-v&&p<=f+v},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(i,a,o,0,2*Math.PI,!1),t.closePath()},r}(hr);function Ha(n,r,t,e){return n/(t*t)+r/(e*e)}const vx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),l=o/2,u=s.x,f=s.y,v=s.rx,p=s.ry,d=(t-u)*(t-u),m=(e-f)*(e-f);return a&&i?Ha(d,m,v+l,p+l)<=1:a?Ha(d,m,v,p)<=1:!!i&&Ha(d,m,v-l,p-l)>=1&&Ha(d,m,v+l,p+l)<=1},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,a,o,s,0,0,2*Math.PI,!1);else{var l=o>s?o:s,u=o>s?1:o/s,f=o>s?s/o:1;t.save(),t.translate(i,a),t.scale(u,f),t.arc(0,0,l,0,2*Math.PI),t.restore(),t.closePath()}},r}(hr);function zc(n){return n instanceof HTMLElement&&(0,c.HD)(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()}const gx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,i=this.attrs;if((0,c.HD)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):zc(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||Number(t.getAttribute("height")))},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),"img"===t&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),i=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,f=e.swidth,v=e.sheight,p=e.img;(p instanceof Image||zc(p))&&((0,c.UM)(l)||(0,c.UM)(u)||(0,c.UM)(f)||(0,c.UM)(v)?t.drawImage(p,i,a,o,s):t.drawImage(p,l,u,f,v,i,a,o,s))},r}(hr);function Vr(n,r,t,e,i,a,o){var s=Math.min(n,t),l=Math.max(n,t),u=Math.min(r,e),f=Math.max(r,e),v=i/2;return a>=s-v&&a<=l+v&&o>=u-v&&o<=f+v&&Ee.x1.pointToLine(n,r,t,e,a,o)<=i/2}const mx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.endArrow;t.startArrow&&zs(this,t,a,o,e,i),l&&Zs(this,t,e,i,a,o)},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){if(!i||!o)return!1;var s=this.attr();return Vr(s.x1,s.y1,s.x2,s.y2,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),i=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,f={dx:0,dy:0},v={dx:0,dy:0};l&&l.d&&(f=dn(i,a,o,s,e.startArrow.d)),u&&u.d&&(v=dn(i,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(i+f.dx,a+f.dy),t.lineTo(o-v.dx,s-v.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr();return Ee.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return Ee.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(hr);var yx={circle:function(n,r,t){return[["M",n-t,r],["A",t,t,0,1,0,n+t,r],["A",t,t,0,1,0,n-t,r]]},square:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r-t],["L",n+t,r+t],["L",n-t,r+t],["Z"]]},diamond:function(n,r,t){return[["M",n-t,r],["L",n,r-t],["L",n+t,r],["L",n,r+t],["Z"]]},triangle:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r+e],["L",n,r-e],["L",n+t,r+e],["Z"]]},"triangle-down":function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r-e],["L",n+t,r-e],["L",n,r+e],["Z"]]}};const Cx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,c.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var s,l,t=this.attr(),e=t.x,i=t.y,a=t.symbol||"circle",o=this._getR(t);if((0,c.mf)(a))l=(s=a)(e,i,o),l=(0,un.wb)(l);else{if(!(s=r.Symbols[a]))return console.warn(a+" marker is not supported."),null;l=s(e,i,o)}return l},r.prototype.createPath=function(t){Fc(this,t,{path:this._getPath()},this.get("paramsCache"))},r.Symbols=yx,r}(hr);function Zc(n,r,t){var e=(0,ft.getOffScreenContext)();return n.createPath(e),e.isPointInPath(r,t)}function Us(n){return Math.abs(n)<1e-6?0:n<0?-1:1}function wx(n,r,t){return(t[0]-n[0])*(r[1]-n[1])==(r[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],r[0])<=t[0]&&t[0]<=Math.max(n[0],r[0])&&Math.min(n[1],r[1])<=t[1]&&t[1]<=Math.max(n[1],r[1])}function Yc(n,r,t){var e=!1,i=n.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=n[a],s=n[(a+1)%i];if(wx(o,s,[r,t]))return!0;Us(o[1]-t)>0!=Us(s[1]-t)>0&&Us(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}function Bi(n,r,t,e,i,a,o,s){var l=(Math.atan2(s-r,o-n)+2*Math.PI)%(2*Math.PI);if(l<e||l>i)return!1;var u={x:n+t*Math.cos(l),y:r+t*Math.sin(l)};return _c(u.x,u.y,o,s)<=a/2}var Sx=ge.vs;const Na=(0,g.pi)({hasArc:function(n){for(var r=!1,t=n.length,e=0;e<t;e++){var a=n[e][0];if("C"===a||"A"===a||"Q"===a){r=!0;break}}return r},extractPolygons:function(n){for(var r=n.length,t=[],e=[],i=[],a=0;a<r;a++){var o=n[a],s=o[0];"M"===s?(i.length&&(e.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(t.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&e.push(i),{polygons:t,polylines:e}},isPointInStroke:function(n,r,t,e,i){for(var a=!1,o=r/2,s=0;s<n.length;s++){var l=n[s],u=l.currentPoint,f=l.params,v=l.prePoint,p=l.box;if(!p||gn(p.x-o,p.y-o,p.width+r,p.height+r,t,e)){switch(l.command){case"L":case"Z":a=Vr(v[0],v[1],u[0],u[1],r,t,e);break;case"Q":a=Ee.lD.pointDistance(v[0],v[1],f[1],f[2],f[3],f[4],t,e)<=r/2;break;case"C":a=Ee.Ll.pointDistance(v[0],v[1],f[1],f[2],f[3],f[4],f[5],f[6],t,e,i)<=r/2;break;case"A":var x=l.arcParams,Z=x.rx,z=x.ry,G=x.startAngle,j=x.endAngle,Tt=[t,e,1],kt=Z>z?Z:z;oi(Tt,Tt,Sx(null,[["t",-x.cx,-x.cy],["r",-x.xRotation],["s",1/(Z>z?1:Z/z),1/(Z>z?z/Z:1)]])),a=Bi(0,0,kt,G,j,r,Tt[0],Tt[1])}if(a)break}}return a}},ft.PathUtil);function Gc(n,r,t){for(var e=!1,i=0;i<n.length&&!(e=Yc(n[i],r,t));i++);return e}const Xs=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),"path"===t&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,un.wb)(t);var e=Na.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,un.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var a,t=this.attr(),i=t.endArrow;t.startArrow&&zs(this,t,(a=this.getStartTangent())[0][0],a[0][1],a[1][0],a[1][1]),i&&Zs(this,t,(a=this.getEndTangent())[0][0],a[0][1],a[1][0],a[1][1])},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(i){var f=this.getTotalLength();u=Na.isPointInStroke(s,o,t,e,f)}if(!u&&a)if(l)u=Zc(this,t,e);else{var v=this.attr("path"),p=Na.extractPolygons(v);u=Gc(p.polygons,t,e)||Gc(p.polylines,t,e)}return u},r.prototype.createPath=function(t){Fc(this,t,this.attr(),this.get("paramsCache"))},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,c.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var i,a,o=this.get("curve");if(!e||0===e.length)return o?{x:o[0][1],y:o[0][2]}:null;(0,c.S6)(e,function(f,v){t>=f[0]&&t<=f[1]&&(i=(t-f[0])/(f[1]-f[0]),a=v)});var s=o[a];if((0,c.UM)(s)||(0,c.UM)(a))return null;var l=s.length,u=o[a+1];return Ee.Ll.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Na.pathToCurve(t))},r.prototype._setTcache=function(){var a,o,s,l,t=0,e=0,i=[],u=this.get("curve");if(u){if((0,c.S6)(u,function(f,v){l=f.length,(s=u[v+1])&&(t+=Ee.Ll.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),0===t)return void this.set("tCache",[]);(0,c.S6)(u,function(f,v){l=f.length,(s=u[v+1])&&((a=[])[0]=e/t,o=Ee.Ll.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),a[1]=(e+=o||0)/t,i.push(a))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var i=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([a[0],a[1]]),e.push([i[0],i[1]]))}return e},r.prototype.getEndTangent=function(){var i,t=this.getSegments(),e=t.length;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},r}(hr);function Hc(n,r,t,e,i){var a=n.length;if(a<2)return!1;for(var o=0;o<a-1;o++)if(Vr(n[o][0],n[o][1],n[o+1][0],n[o+1][1],r,t,e))return!0;if(i){var v=n[0],p=n[a-1];if(Vr(v[0],v[1],p[0],p[1],r,t,e))return!0}return!1}const Bx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr().points,l=!1;return i&&(l=Hc(s,o,t,e,!0)),!l&&a&&(l=Yc(s,t,e)),l},r.prototype.createPath=function(t){var i=this.attr().points;if(!(i.length<2)){t.beginPath();for(var a=0;a<i.length;a++){var o=i[a];0===a?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(hr),Lx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,i=e.points,o=e.endArrow,s=i.length,f=i[s-1][0],v=i[s-1][1];e.startArrow&&zs(this,t,i[1][0],i[1][1],i[0][0],i[0][1]),o&&Zs(this,t,i[s-2][0],i[s-2][1],f,v)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){return!(!i||!o)&&Hc(this.attr().points,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),i=e.points,a=e.startArrow,o=e.endArrow,s=i.length;if(!(i.length<2)){var p,l=i[0][0],u=i[0][1],f=i[s-1][0],v=i[s-1][1];a&&a.d&&(l+=(p=dn(l,u,i[1][0],i[1][1],a.d)).dx,u+=p.dy),o&&o.d&&(f-=(p=dn(i[s-2][0],i[s-2][1],f,v,o.d)).dx,v-=p.dy),t.beginPath(),t.moveTo(l,u);for(var d=0;d<s-1;d++){var m=i[d];t.lineTo(m[0],m[1])}t.lineTo(f,v)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,c.UM)(e)?(this.set("totalLength",Ee.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,o,e=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,c.S6)(i,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ee.x1.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var o,s,i=0,a=[];(0,c.S6)(t,function(l,u){t[u+1]&&((o=[])[0]=i/e,s=Ee.x1.length(l[0],l[1],t[u+1][0],t[u+1][1]),o[1]=(i+=s)/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},r}(hr),Dx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),l=s.x,u=s.y,f=s.width,v=s.height,p=s.radius;if(p){var m=!1;return i&&(m=function(n,r,t,e,i,a,o,s){return Vr(n+i,r,n+t-i,r,a,o,s)||Vr(n+t,r+i,n+t,r+e-i,a,o,s)||Vr(n+t-i,r+e,n+i,r+e,a,o,s)||Vr(n,r+e-i,n,r+i,a,o,s)||Bi(n+t-i,r+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||Bi(n+t-i,r+e-i,i,0,.5*Math.PI,a,o,s)||Bi(n+i,r+e-i,i,.5*Math.PI,Math.PI,a,o,s)||Bi(n+i,r+i,i,Math.PI,1.5*Math.PI,a,o,s)}(l,u,f,v,p,o,t,e)),!m&&a&&(m=Zc(this,t,e)),m}var d=o/2;return a&&i?gn(l-d,u-d,f+d,v+d,t,e):a?gn(l,u,f,v,t,e):i?function(n,r,t,e,i,a,o){var s=i/2;return gn(n-s,r-s,t,i,a,o)||gn(n+t-s,r-s,i,e,a,o)||gn(n+s,r+e-s,t,i,a,o)||gn(n-s,r+s,i,e,a,o)}(l,u,f,v,o,t,e):void 0},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),0===l)t.rect(i,a,o,s);else{var u=function(n){var r=0,t=0,e=0,i=0;return(0,c.kJ)(n)?1===n.length?r=t=e=i=n[0]:2===n.length?(r=e=n[0],t=i=n[1]):3===n.length?(r=n[0],t=i=n[1],e=n[2]):(r=n[0],t=n[1],e=n[2],i=n[3]):r=t=e=i=n,[r,t,e,i]}(l),f=u[0],v=u[1],p=u[2],d=u[3];t.moveTo(i+f,a),t.lineTo(i+o-v,a),0!==v&&t.arc(i+o-v,a+v,v,-Math.PI/2,0),t.lineTo(i+o,a+s-p),0!==p&&t.arc(i+o-p,a+s-p,p,0,Math.PI/2),t.lineTo(i+d,a+s),0!==d&&t.arc(i+d,a+s-d,d,Math.PI/2,Math.PI),t.lineTo(i,a+f),0!==f&&t.arc(i+f,a+f,f,Math.PI,1.5*Math.PI),t.closePath()}},r}(hr),Rx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,ft.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,c.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=1*t.fontSize;return e?e-i:.14*i},r.prototype._drawTextArr=function(t,e,i){var p,a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=1*a.fontSize,f=this._getSpaceingY(),v=(0,ft.getTextHeight)(a.text,a.fontSize,a.lineHeight);(0,c.S6)(e,function(d,m){p=l+m*(f+u)-v+u,"middle"===o&&(p+=v-u-(v-u)/2),"top"===o&&(p+=v-u),(0,c.UM)(d)||(i?t.fillText(d,s,p):t.strokeText(d,s,p))})},r.prototype._drawText=function(t,e){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=i.text;(0,c.UM)(l)||(e?t.fillText(l,a,o):t.strokeText(l,a,o))}},r.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&i>0&&(!(0,c.UM)(o)&&1!==o&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&((0,c.UM)(s)||1===s?this.fill(t):(t.globalAlpha=s,this.fill(t),t.globalAlpha=a)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(hr);function Nc(n,r,t){var e=n.getTotalMatrix();if(e){var i=function(n,r){if(r){var t=(0,ft.invert)(r);return(0,ft.multiplyVec2)(t,n)}return n}([r,t,1],e);return[i[0],i[1]]}return[r,t]}function Uc(n,r,t){if(n.isCanvas&&n.isCanvas())return!0;if(!(0,ft.isAllowCapture)(n)||!1===n.cfg.isInView)return!1;if(n.cfg.clipShape){var e=Nc(n,r,t);if(n.isClipped(e[0],e[1]))return!1}var o=n.cfg.cacheCanvasBBox||n.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Xc(n,r,t){if(!Uc(n,r,t))return null;for(var e=null,i=n.getChildren(),o=i.length-1;o>=0;o--){var s=i[o];if(s.isGroup())e=Xc(s,r,t);else if(Uc(s,r,t)){var l=s,u=Nc(s,r,t);l.isInShape(u[0],u[1])&&(e=s)}if(e)break}return e}const Yx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){("attr"===t||"sort"===t||"changeSize"===t)&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Lt},r.prototype.getGroupBase=function(){return Ns},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){n.prototype.setDOMSize.call(this,t,e);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&i.scale(o,o)},r.prototype.clear=function(){n.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Xc(this,t,e):n.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var i,t=this.get("refreshElements"),e=this.getViewRange();return t.length&&t[0]===this?i=e:(i=function(n){if(!n.length)return null;var r=[],t=[],e=[],i=[];return(0,c.S6)(n,function(a){var o=function(n){var r;if(n.destroyed)r=n._cacheCanvasBBox;else{var t=n.get("cacheCanvasBBox"),e=t&&!(!t.width||!t.height),i=n.getCanvasBBox(),a=i&&!(!i.width||!i.height);e&&a?r=function(n,r){return n&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r}(t,i):e?r=t:a&&(r=i)}return r}(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),i.push(o.maxY))}),{minX:(0,c.VV)(r),minY:(0,c.VV)(t),maxX:(0,c.Fp)(e),maxY:(0,c.Fp)(i)}}(t))&&(i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1,this.get("clipView")&&(i=function(n,r){return n&&r&&Ei(n,r)?{minX:Math.max(n.minX,r.minX),minY:Math.max(n.minY,r.minY),maxX:Math.min(n.maxX,r.maxX),maxY:Math.min(n.maxY,r.maxY)}:null}(i,e))),i},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,c.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),i=this.getChildren();t.clearRect(0,0,e.width,e.height),Gn(t,this),Ys(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Gn(t,this),nx(this,i,a),Ys(t,i,a),t.restore()):e.length&&Dc(e),(0,c.S6)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,c.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(ft.AbstractCanvas);var Gx="0.5.12",Vs={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},he={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function er(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Vc(n){var r=Vs[n.type],t=n.getParent();if(!r)throw new Error("the type "+n.type+" is not supported by svg");var e=er(r);if(n.get("id")&&(e.id=n.get("id")),n.set("el",e),n.set("attrs",{}),t){var i=t.get("el");i||(i=t.createDom(),t.set("el",i)),i.appendChild(e)}return e}function Wc(n,r){var t=n.get("el"),e=(0,c.qo)(t.children).sort(r),i=document.createDocumentFragment();e.forEach(function(a){i.appendChild(a)}),t.appendChild(i)}function Pi(n){var r=n.attr().matrix;if(r){for(var t=n.cfg.el,e=[],i=0;i<9;i+=3)e.push(r[i]+","+r[i+1]);-1===(e=e.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Li(n,r){var t=n.getClip(),e=n.get("el");if(t){if(t&&!e.hasAttribute("clip-path")){Vc(t),t.createPath(r);var i=r.addClip(t);e.setAttribute("clip-path","url(#"+i+")")}}else e.removeAttribute("clip-path")}function qc(n,r){r.forEach(function(t){t.draw(n)})}function Jc(n,r){var t=n.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),i=n.getParent(),a=i?i.getChildren():[t],o=n.get("el");if("remove"===r)if(n.get("isClipShape")){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if("show"===r)o.setAttribute("visibility","visible");else if("hide"===r)o.setAttribute("visibility","hidden");else if("zIndex"===r)!function(n,r){var t=n.parentNode,e=Array.from(t.childNodes).filter(function(s){return 1===s.nodeType&&"defs"!==s.nodeName.toLowerCase()}),i=e[r],a=e.indexOf(n);if(i){if(a>r)t.insertBefore(n,i);else if(a<r){var o=e[r+1];o?t.insertBefore(n,o):t.appendChild(n)}}else t.appendChild(n)}(o,a.indexOf(n));else if("sort"===r){var f=n.get("children");f&&f.length&&Wc(n,function(v,p){return f.indexOf(v)-f.indexOf(p)?1:0})}else"clear"===r?o&&(o.innerHTML=""):"matrix"===r?Pi(n):"clip"===r?Li(n,e):"attr"===r||"add"===r&&n.draw(e)}}const Ws=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=er("g");this.set("el",t);var e=this.getParent();if(e){var i=e.get("el");i||(i=e.createDom(),e.set("el",i)),i.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.createPath(i,t)}},r.prototype.onCanvasChange=function(t){Jc(this,t)},r.prototype.getShapeBase=function(){return Et},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),Li(this,t),this.createPath(t),e.length&&qc(t,e))},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){he[s]&&a.setAttribute(he[s],o)}),Pi(this)},r}(ft.AbstractGroup),rr=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.draw(i,t)}},r.prototype.getShapeBase=function(){return Et},r.prototype.getGroupBase=function(){return Ws},r.prototype.onCanvasChange=function(t){Jc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var i=(0,ft.getBBoxMethod)(this.get("type"));i&&(e=i(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),f=u/2,v=a-f,p=o-f;return{x:v,y:p,minX:v,minY:p,maxX:a+s+f,maxY:o+l+f,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr();return(t.fill||t.fillStyle||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr();return(t.stroke||t.strokeStyle)&&this.canStroke},r.prototype.draw=function(t,e){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||Vc(this),Li(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var i=e||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,l=i.strokeStyle,u=i.fillOpacity,f=i.strokeOpacity,v=i.lineWidth,p=this.get("el");this.canFill&&(e?"fill"in i?this._setColor(t,"fill",a):"fillStyle"in i&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&p.setAttribute(he.fillOpacity,u)),this.canStroke&&v>0&&(e?"stroke"in i?this._setColor(t,"stroke",s):"strokeStyle"in i&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),f&&p.setAttribute(he.strokeOpacity,f),v&&p.setAttribute(he.lineWidth,v))},r.prototype._setColor=function(t,e,i){var a=this.get("el");if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(o=t.find("gradient",i))||(o=t.addGradient(i)),a.setAttribute(he[e],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var o;(o=t.find("pattern",i))||(o=t.addPattern(i)),a.setAttribute(he[e],"url(#"+o+")")}else a.setAttribute(he[e],i);else a.setAttribute(he[e],"none")},r.prototype.shadow=function(t,e){var i=this.attr(),a=e||i;(a.shadowOffsetX||a.shadowOffsetY||a.shadowBlur||a.shadowColor)&&function(n,r){var t=n.cfg.el,e=n.attr(),i={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=r.find("filter",i);a||(a=r.addShadow(i)),t.setAttribute("filter","url(#"+a+")")}else t.removeAttribute("filter")}(this,t)},r.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Pi(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var i=this.get("el"),o=this.get("canvas").get("el").getBoundingClientRect(),u=document.elementFromPoint(t+o.left,e+o.top);return!(!u||!u.isEqualNode(i))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?e+i:0},r}(ft.AbstractShape),Wx=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):he[s]&&a.setAttribute(he[s],o)})},r}(rr),Jx=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return(0,g.ZT)(r,n),r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");if((0,c.S6)(e||i,function(u,f){he[f]&&a.setAttribute(he[f],u)}),"function"==typeof i.html){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},r}(rr),jx=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):he[s]&&a.setAttribute(he[s],o)})},r}(rr),Kx=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");(0,c.S6)(e||a,function(s,l){"img"===l?i._setImage(a.img):he[l]&&o.setAttribute(he[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),i=this.get("el");if((0,c.HD)(t))i.setAttribute("href",t);else if(t instanceof window.Image)e.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,c.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",a.toDataURL())}},r}(rr),e1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){if("startArrow"===s||"endArrow"===s)if(o){var l=(0,c.Kn)(o)?t.addArrow(i,he[s]):t.getDefaultArrow(i,he[s]);a.setAttribute(he[s],"url(#"+l+")")}else a.removeAttribute(he[s]);else he[s]&&a.setAttribute(he[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr();return Ee.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return Ee.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(rr);var Ua={circle:function(n,r,t){return[["M",n,r],["m",-t,0],["a",t,t,0,1,0,2*t,0],["a",t,t,0,1,0,2*-t,0]]},square:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r-t],["L",n+t,r+t],["L",n-t,r+t],["Z"]]},diamond:function(n,r,t){return[["M",n-t,r],["L",n,r-t],["L",n+t,r],["L",n,r+t],["Z"]]},triangle:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r+e],["L",n,r-e],["L",n+t,r+e],["z"]]},triangleDown:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r-e],["L",n+t,r-e],["L",n,r+e],["Z"]]}};const Qc={get:function(n){return Ua[n]},register:function(n,r){Ua[n]=r},remove:function(n){delete Ua[n]},getAll:function(){return Ua}},n1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,c.kJ)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var s,t=this.attr(),e=t.x,i=t.y,a=t.r||t.radius,o=t.symbol||"circle";return(s=(0,c.mf)(o)?o:Qc.get(o))?s(e,i,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=Qc,r}(rr),o1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");(0,c.S6)(e||a,function(s,l){if("path"===l&&(0,c.kJ)(s))o.setAttribute("d",i._formatPath(s));else if("startArrow"===l||"endArrow"===l)if(s){var u=(0,c.Kn)(s)?t.addArrow(a,he[l]):t.getDefaultArrow(a,he[l]);o.setAttribute(he[l],"url(#"+u+")")}else o.removeAttribute(he[l]);else he[l]&&o.setAttribute(he[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(i){return i.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),i=this.getTotalLength();if(0===i)return null;var a=e?e.getPointAtLength(t*i):null;return a?{x:a.x,y:a.y}:null},r}(rr),l1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"points"===s&&(0,c.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):he[s]&&a.setAttribute(he[s],o)})},r}(rr),h1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"points"===s&&(0,c.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):he[s]&&a.setAttribute(he[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,c.UM)(e)?(this.set("totalLength",Ee.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,o,e=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,c.S6)(i,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ee.x1.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var o,s,i=0,a=[];(0,c.S6)(t,function(l,u){t[u+1]&&((o=[])[0]=i/e,s=Ee.x1.length(l[0],l[1],t[u+1][0],t[u+1][1]),o[1]=(i+=s)/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},r}(rr),g1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,c.S6)(e||a,function(u,f){-1===l.indexOf(f)||s?-1===l.indexOf(f)&&he[f]&&o.setAttribute(he[f],u):(o.setAttribute("d",i._assembleRect(a)),s=!0)})},r.prototype._assembleRect=function(t){var e=t.x,i=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=function(n){var r=0,t=0,e=0,i=0;return(0,c.kJ)(n)?1===n.length?r=t=e=i=n[0]:2===n.length?(r=e=n[0],t=i=n[1]):3===n.length?(r=n[0],t=i=n[1],e=n[2]):(r=n[0],t=n[1],e=n[2],i=n[3]):r=t=e=i=n,{r1:r,r2:t,r3:e,r4:i}}(s);return(0,c.kJ)(s)?1===s.length?l.r1=l.r2=l.r3=l.r4=s[0]:2===s.length?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):3===s.length?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s,[["M "+(e+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},r}(rr);var d1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},m1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},y1={left:"left",start:"left",center:"middle",right:"end",end:"end"};const C1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return(0,g.ZT)(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return(0,g.pi)((0,g.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");this._setFont(),(0,c.S6)(e||a,function(s,l){"text"===l?i._setText(""+s):"matrix"===l&&s?Pi(i):he[l]&&o.setAttribute(he[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),i=e.textBaseline,a=e.textAlign,o=(0,Xu.qY)();o&&"firefox"===o.name?t.setAttribute("dominant-baseline",m1[i]||"alphabetic"):t.setAttribute("alignment-baseline",d1[i]||"baseline"),t.setAttribute("text-anchor",y1[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=void 0===o?"bottom":o;if(t)if(~t.indexOf("\n")){var l=t.split("\n"),u=l.length-1,f="";(0,c.S6)(l,function(v,p){0===p?"alphabetic"===s?f+='<tspan x="'+a+'" dy="'+-u+'em">'+v+"</tspan>":"top"===s?f+='<tspan x="'+a+'" dy="0.9em">'+v+"</tspan>":"middle"===s?f+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+v+"</tspan>":"bottom"===s?f+='<tspan x="'+a+'" dy="-'+(u+.3)+'em">'+v+"</tspan>":"hanging"===s&&(f+='<tspan x="'+a+'" dy="'+(-(u-1)-.3)+'em">'+v+"</tspan>"):f+='<tspan x="'+a+'" dy="1em">'+v+"</tspan>"}),e.innerHTML=f}else e.innerHTML=t;else e.innerHTML=""},r}(rr);var M1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,w1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,S1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function $c(n){var r=n.match(S1);if(!r)return"";var t="";return r.sort(function(e,i){return e=e.split(":"),i=i.split(":"),Number(e[0])-Number(i[0])}),(0,c.S6)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}const _1=function(){function n(r){this.cfg={};var t=null,e=(0,c.EL)("gradient_");return"l"===r.toLowerCase()[0]?function(n,r){var a,o,t=M1.exec(n),e=(0,c.wQ)((0,c.c$)(parseFloat(t[1])),2*Math.PI),i=t[2];e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,f=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",f),r.innerHTML=$c(i)}(r,t=er("linearGradient")):function(n,r){var t=w1.exec(n),e=parseFloat(t[1]),i=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",i),r.setAttribute("r",a),r.innerHTML=$c(o)}(r,t=er("radialGradient")),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return n.prototype.match=function(r,t){return this.cfg===t},n}();var E1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},B1={x:"-40%",y:"-40%",width:"200%",height:"200%"};const L1=function(){function n(r){this.type="filter",this.cfg={},this.type="filter";var t=er("filter");return(0,c.S6)(B1,function(e,i){t.setAttribute(i,e)}),this.el=t,this.id=(0,c.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return n.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,i=this.cfg;return(0,c.S6)(Object.keys(i),function(a){if(i[a]!==t[a])return e=!1,!1}),e},n.prototype.update=function(r,t){var e=this.cfg;return e[E1[r]]=t,this._parseShadow(e,this.el),this},n.prototype._parseShadow=function(r,t){t.innerHTML='<feDropShadow\n      dx="'+(r.dx||0)+'"\n      dy="'+(r.dy||0)+'"\n      stdDeviation="'+(r.blur?r.blur/10:0)+'"\n      flood-color="'+(r.color?r.color:"#000")+'"\n      flood-opacity="'+(r.opacity?r.opacity:1)+'"\n      />'},n}(),Kc=function(){function n(r,t){this.cfg={};var e=er("marker"),i=(0,c.EL)("marker_");e.setAttribute("id",i);var a=er("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=i;var o=r["marker-start"===t?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",!0===o?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return n.prototype.match=function(){return!1},n.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY","5")},n.prototype._setMarker=function(r,t){var e=this.el,i=this.cfg.path,a=this.cfg.d;(0,c.kJ)(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",i),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},n.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},n}(),O1=function(){function n(r){this.type="clip",this.cfg={};var t=er("clipPath");return this.el=t,this.id=(0,c.EL)("clip_"),t.id=this.id,t.appendChild(r.cfg.el),this.cfg=r,this}return n.prototype.match=function(){return!1},n.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},n}();var D1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;const R1=function(){function n(r){this.cfg={};var t=er("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=er("image");t.appendChild(e);var i=(0,c.EL)("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=r;var o=D1.exec(r)[2];e.setAttribute("href",o);var s=new Image;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?l():(s.onload=l,s.src=s.src),this}return n.prototype.match=function(r,t){return this.cfg===t},n}(),Z1=function(){function n(r){var t=er("defs"),e=(0,c.EL)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return n.prototype.find=function(r,t){for(var e=this.children,i=null,a=0;a<e.length;a++)if(e[a].match(r,t)){i=e[a].id;break}return i},n.prototype.findById=function(r){for(var t=this.children,e=null,i=0;i<t.length;i++)if(t[i].id===r){e=t[i];break}return e},n.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},n.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var i=new Kc(r,t);return this.defaultArrow[e]=i,this.el.appendChild(i.el),this.add(i),i.id},n.prototype.addGradient=function(r){var t=new _1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addArrow=function(r,t){var e=new Kc(r,t);return this.el.appendChild(e.el),this.add(e),e.id},n.prototype.addShadow=function(r){var t=new L1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addPattern=function(r){var t=new R1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addClip=function(r){var t=new O1(r);return this.el.appendChild(t.el),this.add(t),t.id},n}(),G1=function(n){function r(t){return n.call(this,(0,g.pi)((0,g.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return(0,g.ZT)(r,n),r.prototype.getShapeBase=function(){return Et},r.prototype.getGroupBase=function(){return Ws},r.prototype.getShape=function(t,e,i){var a=i.target||i.srcElement;if(!Vs[a.tagName]){for(var o=a.parentNode;o&&!Vs[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=er("svg"),e=new Z1(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),i=this.get("el");if("sort"===t){var a=this.get("children");a&&a.length&&Wc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if("clear"===t){if(i){i.innerHTML="";var o=e.el;o.innerHTML="",i.appendChild(o)}}else"matrix"===t?Pi(this):"clip"===t?Li(this,e):"changeSize"===t&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Li(this,t),e.length&&qc(t,e)},r}(ft.AbstractCanvas);var H1="0.5.6";function qs(n){return!n&&(null==n||isNaN(n))}function tf(n){if((0,c.kJ)(n))return qs(n[1].y);var r=n.y;return(0,c.kJ)(r)?qs(r[0]):qs(r)}function Js(n,r,t){if(void 0===r&&(r=!1),void 0===t&&(t=!0),!n.length||1===n.length&&!t)return[];if(r){for(var e=[],i=0,a=n.length;i<a;i++)tf(o=n[i])||e.push(o);return[e]}var s=[],l=[];for(i=0,a=n.length;i<a;i++){var o;tf(o=n[i])?l.length&&(1===l.length&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function ef(n){for(var r=[],t=0;t<n.length;t++){var e=n[t];e&&r.push([0===t?"M":"L",e.x,e.y])}var a=n[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function rf(n){for(var r=n.length/2,t=[],e=[],i=0;i<n.length;i++)i<r?t.push(n[i]):e.push(n[i]);var a=La(t,!1),o=La(e,!1);e.length&&a.push(["L",e[0].x,e[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function Te(n,r,t,e){void 0===e&&(e="");var i=n.style,a=void 0===i?{}:i,s=n.color,l=n.size,u=(0,g.pi)((0,g.pi)({},n.defaultStyle),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,c.UM)(a[e])&&!(0,c.UM)(l)&&(u[e]=l),u}function nf(n){return(0,c.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,c.U2)(n,["background","style"]))}function Qs(n){var r=n.x;return((0,c.kJ)(n.y)?n.y:[n.y]).map(function(e,i){return{x:(0,c.kJ)(r)?r[i]:r,y:e}})}var N1={line:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},dot:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},dash:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},smooth:function(n,r,t){return[["M",n-t,r],["A",t/2,t/2,0,1,1,n,r],["A",t/2,t/2,0,1,0,n+t,r]]},hv:function(n,r,t){return[["M",n-t-1,r-2.5],["L",n,r-2.5],["L",n,r+2.5],["L",n+t+1,r+2.5]]},vh:function(n,r,t){return[["M",n-t-1,r+2.5],["L",n,r+2.5],["L",n,r-2.5],["L",n+t+1,r-2.5]]},hvh:function(n,r,t){return[["M",n-(t+1),r+2.5],["L",n-t/2,r+2.5],["L",n-t/2,r-2.5],["L",n+t/2,r-2.5],["L",n+t/2,r+2.5],["L",n+t+1,r+2.5]]},vhv:function(n,r){return[["M",n-5,r+2.5],["L",n-5,r],["L",n,r],["L",n,r-3],["L",n,r+3],["L",n+6.5,r+3]]}};function af(n,r){return{symbol:N1[r],style:{lineWidth:2,r:6,stroke:n.color}}}function js(n,r,t,e,i){return 1===n.length?[["M",n[0].x,n[0].y-i.lineWidth/2],["L",n[0].x,n[0].y],["L",n[0].x,n[0].y+i.lineWidth/2]]:(t?(r&&n.length&&n.push({x:n[0].x,y:n[0].y}),a=La(n,!1,e)):(a=wi(n,!1),r&&a.push(["Z"])),a);var a}function V1(n,r,t,e,i,a){return n.length?(0,c.kJ)(n[0].y)?function(n,r,t,e,i,a){var o=[],s=[];(0,c.S6)(n,function(f){var v=Qs(f);o.push(v[1]),s.push(v[0])});var l=js(o,r,e,i,a),u=js(s,r,e,i,a);return t?l:l.concat(u)}(n,r,t,e,i,a):js(n,r,e,i,a):[]}Nr("line",{defaultShapeType:"line"}),(0,c.S6)(["line","dot","dash","smooth"],function(n){xe("line",n,{draw:function(r,t){var i,e="smooth"===n;if(e){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=function(n,r,t){for(var e=n.isStack,i=n.connectNulls,a=n.isInCircle,o=n.showSinglePoint,s=Te(n,!0,!1,"lineWidth"),l=Js(n.points,i,o),u=[],f=0,v=l.length;f<v;f++)u=u.concat(V1(l[f],a,e,r,t,s));return s.path=u,s}(r,e,i);return t.addShape({type:"path",attrs:l,name:"line",capture:!e})},getMarker:function(r){return af(r,n)}})});const $s=function(n){function r(t){var e=n.call(this,t)||this;e.type="path",e.shapeType="line";var i=t.connectNulls,o=t.showSinglePoint,s=void 0===o||o;return e.connectNulls=void 0!==i&&i,e.showSinglePoint=s,e}return(0,g.ZT)(r,n),r.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,f=this.getElementId(t),v=this.getShapeInfo(t),p=o[f];if(p){var m=p.getModel();(this.isCoordinateChanged||Mc(m,v))&&(p.animate=this.animateOption,p.update(v)),delete o[f]}else{var d=this.getShapeFactory();(p=new mc({shapeFactory:d,container:u,offscreenGroup:this.getOffscreenGroup()})).geometry=this,p.animate=this.animateOption,p.draw(v,i)}return l.push(p),s[f]=p,l},r.prototype.getPointsAndData=function(t){for(var e=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),i.push(s[ce])}return{points:e,data:i}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),a=i.points,o=i.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Ur);function q1(n,r,t,e,i){var a=[];if(n.length){for(var o=[],s=[],l=0,u=n.length;l<u;l++){var f=n[l];o.push(f[1]),s.push(f[0])}s=s.reverse(),(0,c.S6)([o,s],function(v,p){var d=[],m=e.parsePoints(v),x=m[0];1===o.length&&1===s.length?d=0===p?[["M",x.x-.5,x.y],["L",x.x+.5,x.y]]:[["L",x.x+.5,x.y],["L",x.x-.5,x.y]]:(r&&m.push({x:x.x,y:x.y}),d=t?La(m,!1,i):wi(m,!1),p>0&&(d[0][0]="L")),a=a.concat(d)}),a.push(["Z"])}return a}function Xa(n,r,t,e,i){for(var a=Te(n,r,!r,"lineWidth"),s=n.isInCircle,f=Js(n.points,n.connectNulls,n.showSinglePoint),v=[],p=0,d=f.length;p<d;p++)v=v.concat(q1(f[p],s,t,e,i));return a.path=v,a}function sf(n){var r=n.start,t=n.end;return[[r.x,t.y],[t.x,r.y]]}Nr("area",{defaultShapeType:"area",getDefaultPoints:function(n){var r=n.x,t=n.y0;return((0,c.kJ)(n.y)?n.y:[t,n.y]).map(function(i){return{x:r,y:i}})}}),xe("area","area",{draw:function(n,r){var t=Xa(n,!1,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:n.color}}}});const Q1=function(n){function r(t){var e=n.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var i=t.startOnZero,o=t.sortable,s=void 0!==o&&o,l=t.showSinglePoint,u=void 0!==l&&l;return e.startOnZero=void 0===i||i,e.sortable=s,e.showSinglePoint=u,e}return(0,g.ZT)(r,n),r.prototype.getPointsAndData=function(t){for(var e=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),i.push(s[ce])}return{points:e,data:i}},r.prototype.getYMinValue=function(){return this.startOnZero?n.prototype.getYMinValue.call(this):this.getYScale().min},r}($s);Nr("edge",{defaultShapeType:"line",getDefaultPoints:function(n){return Qs(n)}}),xe("edge","line",{draw:function(n,r){var t=Te(n,!0,!1,"lineWidth"),e=wi(this.parsePoints(n.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}});const $1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return(0,g.ZT)(r,n),r}(Ur),t2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return(0,g.ZT)(r,n),r.prototype.createElements=function(t,e,i){void 0===i&&(i=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,c.U2)(this.styleOption,["cfg","shadowBlur"]);return(0,c.hj)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},r.prototype.clear=function(){n.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var l=s[ce][i];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,c.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var i=this.getGrayScaleBlurredCanvas(),a=t+e,o=i.getContext("2d");i.width=i.height=2*a,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=2*a,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,2*Math.PI,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,i,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),f=this.coordinate.getHeight(),p=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var d=this.getShadowCanvasCtx();e&&(t=t.filter(function(kt){return kt[ce][p]<=e[1]&&kt[ce][p]>=e[0]}));for(var m=this.scales[p],x=0,P=t;x<P.length;x++){var L=P[x],Z=this.getDrawCfg(L),z=Z.x,G=Z.y,j=m.scale(L[ce][p]);this.drawGrayScaleBlurredCircle(z-s.x,G-l.y,i+a,j,d)}var at=d.getImageData(0,0,u,f);this.clearShadowCanvasCtx(),this.colorize(at),d.putImageData(at,0,0);var Tt=this.getImageShape();Tt.attr("x",s.x),Tt.attr("y",l.y),Tt.attr("width",u),Tt.attr("height",f),Tt.attr("img",d.canvas),Tt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-i,e-i)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if((0,c.hj)(s)){var l=a[s]?a[s]:ei.rgb2arr(e.gradient(s/256));i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,g.pi)((0,g.pi)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[ce]})},r}(Ur);function Ks(n,r){void 0===r&&(r=!1);var o,s,l,u,t=n.x,e=n.y,i=n.y0,a=n.size;(0,c.kJ)(e)?(o=e[0],s=e[1]):(o=i,s=e),(0,c.kJ)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var f=[{x:l,y:o},{x:l,y:s}];return r?f.push({x:u,y:(s+o)/2}):f.push({x:u,y:s},{x:u,y:o}),f}function tl(n,r){void 0===r&&(r=!0);var t=[],e=n[0];t.push(["M",e.x,e.y]);for(var i=1,a=n.length;i<a;i++)t.push(["L",n[i].x,n[i].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function ki(n,r){var t=0,e=0,i=0,a=0;return(0,c.kJ)(n)?1===n.length?t=e=i=a=n[0]:2===n.length?(t=i=n[0],e=a=n[1]):3===n.length?(t=n[0],e=a=n[1],i=n[2]):(t=n[0],e=n[1],i=n[2],a=n[3]):t=e=i=a=n,t+e>r&&(e=r-(t=t?r/(1+e/t):0)),i+a>r&&(a=r-(i=i?r/(1+a/i):0)),[t||0,e||0,i||0,a||0]}function lf(n,r,t){var e=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=(0,c.U2)(n,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=ki(o,Math.min(s,l)),v=u[1],p=u[2],d=u[3];e.push(["M",i.x,a.y+(f=u[0])]),0!==f&&e.push(["A",f,f,0,0,1,i.x+f,a.y]),e.push(["L",a.x-v,a.y]),0!==v&&e.push(["A",v,v,0,0,1,a.x,a.y+v]),e.push(["L",a.x,i.y-p]),0!==p&&e.push(["A",p,p,0,0,1,a.x-p,i.y]),e.push(["L",i.x+d,i.y]),0!==d&&e.push(["A",d,d,0,0,1,i.x,i.y-d])}else e.push(["M",i.x,i.y]),e.push(["L",a.x,i.y]),e.push(["L",a.x,a.y]),e.push(["L",i.x,a.y]),e.push(["L",i.x,i.y]);e.push(["z"])}if(t.isPolar){var m=t.getCenter(),x=xi(n,t),P=x.startAngle,L=x.endAngle;if("theta"===t.type||t.isTransposed){var Z=function(j){return Math.pow(j,2)},f=Math.sqrt(Z(m.x-r[0].x)+Z(m.y-r[0].y));v=Math.sqrt(Z(m.x-r[2].x)+Z(m.y-r[2].y)),e=Yr(m.x,m.y,f,t.startAngle,t.endAngle,v)}else e=Yr(m.x,m.y,t.getRadius(),P,L)}return e}function uf(n,r,t){var e=[];return(0,c.UM)(r)?e.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],t?["L",n[2].x,n[2].y]:["L",n[3].x,n[3].y],["Z"]):e.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}function el(n){var r=n.theme,t=n.coordinate,e=n.getXScale(),i=e.values,a=n.beforeMappingData,o=i.length,s=Ci(n.coordinate),l=n.intervalPadding,u=n.dodgePadding,f=n.maxColumnWidth||r.maxColumnWidth,v=n.minColumnWidth||r.minColumnWidth,p=n.columnWidthRatio||r.columnWidthRatio,d=n.multiplePieWidthRatio||r.multiplePieWidthRatio,m=n.roseWidthRatio||r.roseWidthRatio;if(e.isLinear&&i.length>1){i.sort();var x=function(n,r){var t=n.length,e=n;(0,c.HD)(e[0])&&(e=n.map(function(s){return r.translate(s)}));for(var i=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];i>o&&(i=o)}return i}(i,e);i.length>(o=(e.max-e.min)/x)&&(o=i.length)}var P=e.range,L=1/o,Z=1;if(t.isPolar?Z=t.isTransposed&&o>1?d:m:(e.isLinear&&(L*=P[1]-P[0]),Z=p),!(0,c.UM)(l)&&l>=0?L=(1-l/s*(o-1))/o:L*=Z,n.getAdjust("dodge")){var at=function(n,r){if(r){var t=(0,c.xH)(n);return(0,c.I)(t,r).length}return n.length}(a,n.getAdjust("dodge").dodgeBy);!(0,c.UM)(u)&&u>=0?L=(L-u/s*(at-1))/at:(!(0,c.UM)(l)&&l>=0&&(L*=Z),L/=at),L=L>=0?L:0}if(!(0,c.UM)(f)&&f>=0){var kt=f/s;L>kt&&(L=kt)}if(!(0,c.UM)(v)&&v>=0){var Yt=v/s;L<Yt&&(L=Yt)}return L}Nr("interval",{defaultShapeType:"rect",getDefaultPoints:function(n){return Ks(n)}}),xe("interval","rect",{draw:function(n,r){var s,t=Te(n,!1,!0),e=r,i=null==n?void 0:n.background;if(i){e=r.addGroup();var a=nf(n),o=lf(n,this.parsePoints(n.points),this.coordinate);e.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},a),{path:o}),zIndex:-1,name:Bs})}s=t.radius&&this.coordinate.isRect?function(n,r,t){var e,i,a,o,s=n[0],l=n[1],u=n[2],f=n[3],v=[0,0,0,0],p=v[0],d=v[1],m=v[2],x=v[3];s.y<l.y?(l=n[0],s=n[1],f=n[2],u=n[3],x=(e=ki(t,Math.min(f.x-s.x,s.y-l.y)))[0],m=e[1],d=e[2],p=e[3]):(p=(i=ki(t,Math.min(f.x-s.x,s.y-l.y)))[0],d=i[1],m=i[2],x=i[3]),r.isTransposed&&(s=n[0],f=n[1],u=n[2],l=n[3],n[0].x>n[1].x?(f=n[0],s=n[1],l=n[2],u=n[3],p=(a=ki(t,Math.min(f.x-s.x,s.y-l.y)))[0],x=a[1],m=a[2],d=a[3]):(d=(o=ki(t,Math.min(f.x-s.x,s.y-l.y)))[0],m=o[1],x=o[2],p=o[3]));var P=[];return P.push(["M",l.x,l.y+p]),0!==p&&P.push(["A",p,p,0,0,1,l.x+p,l.y]),P.push(["L",u.x-d,u.y]),0!==d&&P.push(["A",d,d,0,0,1,u.x,u.y+d]),P.push(["L",f.x,f.y-m]),0!==m&&P.push(["A",m,m,0,0,1,f.x-m,f.y]),P.push(["L",s.x+x,s.y]),0!==x&&P.push(["A",x,x,0,0,1,s.x,s.y-x]),P.push(["L",l.x,l.y+p]),P.push(["z"]),P}(this.parsePoints(n.points),this.coordinate,t.radius):this.parsePath(function(n,r,t){var e=t.getWidth(),i=t.getHeight(),o=[],s=(n[2].x-n[1].x)/2,l=t.isTransposed?s*i/e:s*e/i;return"round"===r?("rect"===t.type?(o.push(["M",n[0].x,n[0].y+l]),o.push(["L",n[1].x,n[1].y-l]),o.push(["A",s,s,0,0,1,n[2].x,n[2].y-l]),o.push(["L",n[3].x,n[3].y+l]),o.push(["A",s,s,0,0,1,n[0].x,n[0].y+l])):(o.push(["M",n[0].x,n[0].y]),o.push(["L",n[1].x,n[1].y]),o.push(["A",s,s,0,0,1,n[2].x,n[2].y]),o.push(["L",n[3].x,n[3].y]),o.push(["A",s,s,0,0,1,n[0].x,n[0].y])),o.push(["z"])):o=tl(n),o}(n.points,t.lineCap,this.coordinate));var l=e.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:s}),name:"interval"});return i?e:l},getMarker:function(n){var r=n.color;return n.isInPolar?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});const s2=function(n){function r(t){var e=n.call(this,t)||this;return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e.background=t.background,e}return(0,g.ZT)(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ci(this.coordinate)):(this.defaultSize||(this.defaultSize=el(this)),i=this.defaultSize),e.size=i,e},r.prototype.adjustScale=function(){n.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:ym(t)});else{var e=this.scaleDefs,i=t.field,o=t.max;"time"!==t.type&&(t.min>0&&!(0,c.U2)(e,[i,"min"])&&t.change({min:0}),o<=0&&!(0,c.U2)(e,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var e=n.prototype.getDrawCfg.call(this,t);return e.background=this.background,e},r}(Ur),u2=function(n){function r(t){var e=n.call(this,t)||this;e.type="line";var i=t.sortable;return e.sortable=void 0!==i&&i,e}return(0,g.ZT)(r,n),r}($s);var hf=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function rl(n,r,t,e,i){var a=Te(r,i,!i,"r"),o=n.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,f=o;u<f.length;u++){var v=f[u];l.addShape({type:"marker",attrs:(0,g.pi)((0,g.pi)((0,g.pi)({},a),{symbol:vn[e]||e}),v)})}return l}return t.addShape({type:"marker",attrs:(0,g.pi)((0,g.pi)((0,g.pi)({},a),{symbol:vn[e]||e}),s)})}Nr("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(n){return Qs(n)}}),(0,c.S6)(hf,function(n){xe("point","hollow-"+n,{draw:function(r,t){return rl(this,r,t,n,!0)},getMarker:function(r){return{symbol:vn[n]||n,style:{r:4.5,stroke:r.color,fill:null}}}})});const f2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return(0,g.ZT)(r,n),r.prototype.getDrawCfg=function(t){var e=n.prototype.getDrawCfg.call(this,t);return(0,g.pi)((0,g.pi)({},e),{isStack:!!this.getAdjust("stack")})},r}(Ur);Nr("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return(0,c.S6)(n.x,function(t,e){r.push({x:t,y:n.y[e]})}),r}}),xe("polygon","polygon",{draw:function(n,r){if(!(0,c.xb)(n.points)){var t=Te(n,!0,!0),e=this.parsePath(function(n){for(var r=n[0],t=1,e=[["M",r.x,r.y]];t<n.length;){var i=n[t];(i.x!==n[t-1].x||i.y!==n[t-1].y)&&(e.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<n.length-1&&(r=n[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,c.Xy)((0,c.Z$)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e}),name:"polygon"})}},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}});const g2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return(0,g.ZT)(r,n),r.prototype.createShapePointsCfg=function(t){var o,e=n.prototype.createShapePointsCfg.call(this,t),i=e.x,a=e.y;if(!(0,c.kJ)(i)||!(0,c.kJ)(a)){var s=this.getXScale(),l=this.getYScale(),v=.5/s.values.length,p=.5/l.values.length;s.isCategory&&l.isCategory?(i=[i-v,i-v,i+v,i+v],a=[a-p,a+p,a+p,a-p]):(0,c.kJ)(i)?(i=[(o=i)[0],o[0],o[1],o[1]],a=[a-p/2,a+p/2,a+p/2,a-p/2]):(0,c.kJ)(a)&&(a=[(o=a)[0],o[1],o[1],o[0]],i=[i-v/2,i-v/2,i+v/2,i+v/2]),e.x=i,e.y=a}return e},r}(Ur);Nr("schema",{defaultShapeType:""});const m2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return(0,g.ZT)(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ci(this.coordinate)):(this.defaultSize||(this.defaultSize=el(this)),i=this.defaultSize),e.size=i,e},r}(Ur);Nr("violin",{defaultShapeType:"violin",getDefaultPoints:function(n){var r=n.size/2,t=[],e=function(n){if(!(0,c.kJ)(n))return[];var r=(0,c.Fp)(n);return(0,c.UI)(n,function(t){return t/r})}(n._size);return(0,c.S6)(n.y,function(i,a){var o=e[a]*r,s=0===a,l=a===n.y.length-1;t.push({isMin:s,isMax:l,x:n.x-o,y:i}),t.unshift({isMin:s,isMax:l,x:n.x+o,y:i})}),t}}),xe("violin","violin",{draw:function(n,r){var t=Te(n,!0,!0),e=this.parsePath(ef(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e}),name:"violin"})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:n.color}}}});const C2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return(0,g.ZT)(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ci(this.coordinate)):(this.defaultSize||(this.defaultSize=el(this)),i=this.defaultSize),e.size=i,e._size=(0,c.U2)(t[ce],[this._sizeField]),e},r.prototype.initAttributes=function(){var t=this.attributeOption;this._sizeField=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size",delete t.size,n.prototype.initAttributes.call(this)},r}(Ur);function nl(n,r){return["C",1*n.x/2+1*r.x/2,n.y,1*n.x/2+1*r.x/2,r.y,r.x,r.y]}function il(n,r){var t=[];t.push({x:r.x,y:r.y}),t.push(n);var e=["Q"];return(0,c.S6)(t,function(i){e.push(i.x,i.y)}),e}xe("area","line",{draw:function(n,r){var t=Xa(n,!0,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:n.color,fill:null}}}}),xe("area","smooth",{draw:function(n,r){var e=Xa(n,!1,!0,this,sf(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:n.color}}}}),xe("area","smooth-line",{draw:function(n,r){var e=Xa(n,!0,!0,this,sf(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:n.color,fill:null}}}}),xe("edge","arc",{draw:function(n,r){var a,t=Te(n,!0,!1,"lineWidth"),e=n.points,i=e.length>2?"weight":"normal";if(n.isInCircle){var o={x:0,y:1};return"normal"===i?a=function(n,r,t){var e=il(r,t),i=[["M",n.x,n.y]];return i.push(e),i}(e[0],e[1],o):(t.fill=t.stroke,a=function(n,r){var t=il(n[1],r),e=il(n[3],r),i=[["M",n[0].x,n[0].y]];return i.push(e),i.push(["L",n[3].x,n[3].y]),i.push(["L",n[2].x,n[2].y]),i.push(t),i.push(["L",n[1].x,n[1].y]),i.push(["L",n[0].x,n[0].y]),i.push(["Z"]),i}(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:a})})}if("normal"===i)return a=Ih(((e=this.parsePoints(e))[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,2*Math.PI),r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:a})});var s=nl(e[1],e[3]),l=nl(e[2],e[0]);return a=this.parsePath(a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]]),t.fill=t.stroke,r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:a})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),xe("edge","smooth",{draw:function(n,r){var t=Te(n,!0,!1,"lineWidth"),e=n.points,i=this.parsePath(function(n,r){var t=nl(n,r),e=[["M",n.x,n.y]];return e.push(t),e}(e[0],e[1]));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:i})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}});var Va=1/3;function cf(n){var r=(0,c.kJ)(n)?n:[n],t=r[0],e=r[r.length-1],i=r.length>1?r[1]:t;return{min:t,max:e,min1:i,max1:r.length>3?r[3]:e,median:r.length>2?r[2]:i}}function ff(n,r,t){var i,e=t/2;if((0,c.kJ)(r)){var a=cf(r),v=n-e,p=n+e;i=[[v,s=a.max],[p,s],[n,s],[n,f=a.max1],[v,u=a.min1],[v,f],[p,f],[p,u],[n,u],[n,o=a.min],[v,o],[p,o],[v,l=a.median],[p,l]]}else{r=(0,c.UM)(r)?.5:r;var o,s,l,u,f,d=cf(n),m=r-e,x=r+e;i=[[o=d.min,m],[o,x],[o,r],[u=d.min1,r],[u,m],[u,x],[f=d.max1,x],[f,m],[f,r],[s=d.max,r],[s,m],[s,x],[l=d.median,m],[l,x]]}return i.map(function(P){return{x:P[0],y:P[1]}})}function vf(n,r,t){var e=function(n){var t=((0,c.kJ)(n)?n:[n]).sort(function(e,i){return i-e});return function(n,r,t){if((0,c.HD)(n))return n.padEnd(4,t);if((0,c.kJ)(n)){var e=n.length;if(e<4)for(var i=4-e,a=0;a<i;a++)n.push(t)}return n}(t,0,t[t.length-1])}(r);return[{x:n,y:e[0]},{x:n,y:e[1]},{x:n-t/2,y:e[2]},{x:n-t/2,y:e[1]},{x:n+t/2,y:e[1]},{x:n+t/2,y:e[2]},{x:n,y:e[2]},{x:n,y:e[3]}]}function D2(n,r){var t=Math.abs(n[0].x-n[2].x),e=Math.abs(n[0].y-n[2].y),i=Math.min(t,e);return r&&(i=(0,c.uZ)(r,0,Math.min(t,e))),{x:(n[0].x+n[2].x)/2-(i/=2),y:(n[0].y+n[2].y)/2-i,width:2*i,height:2*i}}xe("edge","vhv",{draw:function(n,r){var t=Te(n,!0,!1,"lineWidth"),e=n.points,i=this.parsePath(function(n,r){var t=[];t.push({x:n.x,y:n.y*(1-Va)+r.y*Va}),t.push({x:r.x,y:n.y*(1-Va)+r.y*Va}),t.push(r);var e=[["M",n.x,n.y]];return(0,c.S6)(t,function(i){e.push(["L",i.x,i.y])}),e}(e[0],e[1]));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:i})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),xe("interval","funnel",{getPoints:function(n){return n.size=2*n.size,Ks(n)},draw:function(n,r){var t=Te(n,!1,!0),e=this.parsePath(uf(n.points,n.nextPoints,!1));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),xe("interval","hollow-rect",{draw:function(n,r){var t=Te(n,!0,!1),e=r,i=null==n?void 0:n.background;if(i){e=r.addGroup();var a=nf(n),o=lf(n,this.parsePoints(n.points),this.coordinate);e.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},a),{path:o}),zIndex:-1,name:Bs})}var s=this.parsePath(tl(n.points)),l=e.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:s}),name:"interval"});return i?e:l},getMarker:function(n){var r=n.color;return n.isInPolar?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}}),xe("interval","line",{getPoints:function(n){return function(n){var r=n.x,t=n.y,e=n.y0;return(0,c.kJ)(t)?t.map(function(i,a){return{x:(0,c.kJ)(r)?r[a]:r,y:i}}):[{x:r,y:e},{x:r,y:t}]}(n)},draw:function(n,r){var t=Te(n,!0,!1,"lineWidth"),e=Ue((0,g.pi)({},t),["fill"]),i=this.parsePath(tl(n.points,!1));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},e),{path:i}),name:"interval"})},getMarker:function(n){return{symbol:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]},style:{r:5,stroke:n.color}}}}),xe("interval","pyramid",{getPoints:function(n){return n.size=2*n.size,Ks(n,!0)},draw:function(n,r){var t=Te(n,!1,!0),e=this.parsePath(uf(n.points,n.nextPoints,!0));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),xe("interval","tick",{getPoints:function(n){return function(n){var a,o,r=n.x,t=n.y,e=n.y0,i=n.size;(0,c.kJ)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+i/2,l=r-i/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}(n)},draw:function(n,r){var t=Te(n,!0,!1),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]}(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},style:{r:5,stroke:n.color}}}}),(0,c.S6)(["hv","vh","hvh","vhv"],function(n){xe("line",n,{draw:function(r,t){var e=function(n,r){var t=Js(n.points,n.connectNulls,n.showSinglePoint),e=[];return(0,c.S6)(t,function(i){var a=function(n,r){var t=[];return(0,c.S6)(n,function(e,i){var a=n[i+1];if(t.push(e),a){var o=function(n,r,t){var s,e=n.x,i=n.y,a=r.x,o=r.y;switch(t){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:i},{x:l,y:o}];break;case"vhv":var u=(i+o)/2;s=[{x:e,y:u},{x:a,y:u}]}return s}(e,a,r);t=t.concat(o)}}),t}(i,r);e=e.concat(function(n){return n.map(function(r,t){return 0===t?["M",r.x,r.y]:["L",r.x,r.y]})}(a))}),(0,g.pi)((0,g.pi)({},Te(n,!0,!1,"lineWidth")),{path:e})}(r,n);return t.addShape({type:"path",attrs:e,name:"line"})},getMarker:function(r){return af(r,n)}})}),(0,c.S6)(["cross","tick","plus","hyphen","line"],function(n){xe("point",n,{draw:function(r,t){return rl(this,r,t,n,!0)},getMarker:function(r){return{symbol:vn[n],style:{r:4.5,stroke:r.color,fill:null}}}})}),xe("point","image",{draw:function(n,r){var t=Te(n,!1,!1,"r").r,e=this.parsePoints(n.points),i=e[0];if(n.isStack)i=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:n.shape[1]}})}return a}return r.addShape("image",{attrs:{x:i.x-t/2,y:i.y-t,width:t,height:t,img:n.shape[1]}})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),(0,c.S6)(hf,function(n){xe("point",n,{draw:function(r,t){return rl(this,r,t,n,!1)},getMarker:function(r){return{symbol:vn[n]||n,style:{r:4.5,fill:r.color}}}})}),xe("schema","box",{getPoints:function(n){return ff(n.x,n.y,n.size)},draw:function(n,r){var t=Te(n,!0,!1),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]}(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e,name:"schema"})})},getMarker:function(n){return{symbol:function(t,e,i){var o=ff(t,[e-6,e-3,e,e+3,e+6],i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:n.color}}}}),xe("schema","candle",{getPoints:function(n){return vf(n.x,n.y,n.size)},draw:function(n,r){var t=Te(n,!0,!0),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]}(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e,name:"schema"})})},getMarker:function(n){var r=n.color;return{symbol:function(t,e,i){var o=vf(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}}),xe("polygon","square",{draw:function(n,r){if(!(0,c.xb)(n.points)){var t=Te(n,!0,!0),e=this.parsePoints(n.points);return r.addShape("rect",{attrs:(0,g.pi)((0,g.pi)({},t),D2(e,n.size)),name:"polygon"})}},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),xe("violin","smooth",{draw:function(n,r){var t=Te(n,!0,!0),e=this.parsePath(rf(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{stroke:null,r:4,fill:n.color}}}}),xe("violin","hollow",{draw:function(n,r){var t=Te(n,!0,!1),e=this.parsePath(ef(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:null,stroke:n.color}}}}),xe("violin","hollow-smooth",{draw:function(n,r){var t=Te(n,!0,!1),e=this.parsePath(rf(n.points));return r.addShape("path",{attrs:(0,g.pi)((0,g.pi)({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:null,stroke:n.color}}}});const R2=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getLabelValueDir=function(t){var i=t.points;return i[0].y<=i[2].y?1:-1},r.prototype.getLabelOffsetPoint=function(t,e,i){var a,o=n.prototype.getLabelOffsetPoint.call(this,t,e,i),l=this.getCoordinate().isTransposed?"x":"y",u=this.getLabelValueDir(t.mappingData);return(0,g.pi)((0,g.pi)({},o),((a={})[l]=o[l]*u,a))},r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,i=this.getDefaultLabelCfg();return(0,c.b$)({},i,e.theme.labels,"middle"===t.position?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,e,i,a){var p,d,m,x,o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),f=o.convert(l[2]),v=this.getLabelValueDir(e),P=(0,c.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===P||"pyramid"===P){var L=(0,c.U2)(e,"nextPoints"),Z=(0,c.U2)(e,"points");if(L){var z=o.convert(Z[0]),G=o.convert(Z[1]),j=o.convert(L[0]),at=o.convert(L[1]);s?(p=Math.min(j.y,z.y),m=Math.max(j.y,z.y),d=(G.x+at.x)/2,x=(z.x+j.x)/2):(p=Math.min((G.y+at.y)/2,(z.y+j.y)/2),m=Math.max((G.y+at.y)/2,(z.y+j.y)/2),d=at.x,x=z.x)}else p=Math.min(f.y,u.y),m=Math.max(f.y,u.y),d=f.x,x=u.x}else p=Math.min(f.y,u.y),m=Math.max(f.y,u.y),d=f.x,x=u.x;switch(a){case"right":t.x=d,t.y=(p+m)/2,t.textAlign=(0,c.U2)(t,"textAlign",v>0?"left":"right");break;case"left":t.x=x,t.y=(p+m)/2,t.textAlign=(0,c.U2)(t,"textAlign",v>0?"left":"right");break;case"bottom":s&&(t.x=(d+x)/2),t.y=m,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",v>0?"bottom":"top");break;case"middle":s&&(t.x=(d+x)/2),t.y=(p+m)/2,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline","middle");break;case"top":s&&(t.x=(d+x)/2),t.y=p,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",v>0?"bottom":"top")}},r}(Is);var Wa=Math.PI/2;const pf=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),i=0;if((0,c.hj)(t))i=t;else if((0,c.HD)(t)&&-1!==t.indexOf("%")){var a=e.getRadius();e.innerRadius>0&&(a*=1-e.innerRadius),i=.01*parseFloat(t)*a}return i},r.prototype.getLabelItems=function(t){var e=n.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return(0,c.UI)(e,function(a){if(a&&i){var o=i.scale((0,c.U2)(a.data,i.field));return(0,g.pi)((0,g.pi)({},a),{percent:o})}return a})},r.prototype.getLabelAlign=function(t){var i,e=this.getCoordinate();if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(e.isTransposed){var a=e.getCenter(),o=t.offset;i=Math.abs(t.x-a.x)<1?"center":t.angle>Math.PI||t.angle<=0?o>0?"left":"right":o>0?"right":"left"}else i="center";return i},r.prototype.getLabelPoint=function(t,e,i){var o,a=1,s=t.content[i];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(1===t.content.length&&0===i?i=1:0===i&&(a=-1),o=this.getArcPoint(e,i));var l=t.offset*a,u=this.getPointAngle(o),f=t.labelEmit,v=this.getCirclePoint(u,l,o,f);return 0===v.r?v.content="":(v.content=s,v.angle=u,v.color=e.color),v.rotate=t.autoRotate?this.getLabelRotate(u,l,f):t.rotate,v.start={x:o.x,y:o.y},v},r.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,c.kJ)(t.x)||(0,c.kJ)(t.y)?{x:(0,c.kJ)(t.x)?t.x[e]:t.x,y:(0,c.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},r.prototype.getPointAngle=function(t){return kn(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,i,a){var o=this.getCoordinate(),s=o.getCenter(),l=Aa(o,i);if(0===l)return(0,g.pi)((0,g.pi)({},s),{r:l});var u=t;return o.isTransposed&&l>e&&!a?u=t+2*Math.asin(e/(2*l)):l+=e,{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,i){var a=t+Wa;return i&&(a-=Wa),a&&(a>Wa?a-=Math.PI:a<-Wa&&(a+=Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),i=t.length,a={x:0,y:0};return(0,c.S6)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=e.convert(a)},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Is),Y2=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return(0,g.ZT)(r,n),r.prototype.getDefaultLabelCfg=function(t,e){var i=n.prototype.getDefaultLabelCfg.call(this,t,e);return(0,c.b$)({},i,(0,c.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return n.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,e,i){var a;return e<0&&((a=t)>Math.PI/2&&(a-=Math.PI),a<-Math.PI/2&&(a+=Math.PI)),a},r.prototype.getLabelAlign=function(t){var a,i=this.getCoordinate().getCenter();return a=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",t.offset<=0&&(a="right"===a?"left":"right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var o,e=this.getCoordinate(),i={x:(0,c.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,c.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},s=kn(e,i);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=kn(e,a);s>=l&&(l+=2*Math.PI),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+e;return(0,g.pi)((0,g.pi)({},Ae(a.x,a.y,o,t)),{angle:t,r:o})},r}(pf);function df(n,r,t){var e=n.filter(function(m){return!m.invisible});e.sort(function(m,x){return m.y-x.y});var l,i=!0,a=t.minY,s=Math.abs(a-t.maxY),u=0,f=Number.MIN_VALUE,v=e.map(function(m){return m.y>u&&(u=m.y),m.y<f&&(f=m.y),{content:m.content,size:r,targets:[m.y-a],pos:null}});for(f-=a,u-a>s&&(s=u-a);i;)for(v.forEach(function(m){var x=(Math.min.apply(f,m.targets)+Math.max.apply(f,m.targets))/2;m.pos=Math.min(Math.max(f,x-m.size/2),s-m.size),m.pos=Math.max(0,m.pos)}),i=!1,l=v.length;l--;)if(l>0){var p=v[l-1],d=v[l];p.pos+p.size>d.pos&&(p.size+=d.size,p.targets=p.targets.concat(d.targets),p.pos+p.size>s&&(p.pos=s-p.size),v.splice(l,1),i=!0)}l=0,v.forEach(function(m){var x=a+r/2;m.targets.forEach(function(){e[l].y=m.pos+x,x+=r,l++})})}var xf=function(){function n(r){void 0===r&&(r={}),this.bitmap={};var t=r.xGap,i=r.yGap,a=void 0===i?8:i;this.xGap=void 0===t?1:t,this.yGap=a}return n.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,i=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=i;l<=a;l+=1)if(e[l]){if(l===i||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}else e[l]={};return t},n.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),i=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=i;s+=1)t[s]||(t[s]={});for(s=e;s<=i;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(1!==this.yGap)for(s=a;s<=o;s+=1)t[e][s]=!0,t[i][s]=!0;if(1!==this.xGap)for(s=e;s<=i;s+=1)t[s][a]=!0,t[s][o]=!0},n.prototype.destroy=function(){this.bitmap={}},n}();function $2(n,r,t,e){var i=n.getCanvasBBox(),a=i.width,o=i.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*o+2;break;case 6:s.y+=2*o+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right"}return n.attr(s),n.getCanvasBBox()}var eC=se.AK;function Cf(n){if(n.length>4)return[];var r=function(i,a){return[a.x-i.x,a.y-i.y]};return[r(n[0],n[1]),r(n[1],n[2])]}function qa(n,r,t){void 0===r&&(r=0),void 0===t&&(t={x:0,y:0});var e=n.x,i=n.y;return{x:(e-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-e)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function Mf(n){var r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],t=n.rotation;return t?[qa(r[0],t,r[0]),qa(r[1],t,r[0]),qa(r[2],t,r[0]),qa(r[3],t,r[0])]:r}function wf(n,r){if(n.length>4)return{min:0,max:0};var t=[];return n.forEach(function(e){t.push(eC([e.x,e.y],r))}),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}}function rC(n,r){return n.max>r.min&&n.min<r.max}function iC(n,r){if(!n.rotation&&!r.rotation)return function(n,r,t){return void 0===t&&(t=0),!(r.x>n.x+n.width+t||r.x+r.width<n.x-t||r.y>n.y+n.height+t||r.y+r.height<n.y-t)}(n,r);for(var t=Mf(n),e=Mf(r),i=(0,g.pr)(Cf(t),Cf(e)),a=0;a<i.length;a++){var o=i[a];if(!rC(wf(t,o),wf(e,o)))return!1}return!0}var ol,Sf={"#5B8FF9":!0};function Tf(n,r,t){return n.some(function(e){return t(e,r)})}function bf(n,r){return Tf(n,r,function(t,e){var i=Xr(t),a=Xr(e);return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function Af(n,r,t){return n.some(function(e){return t(e,r)})}function _f(n,r){return Af(n,r,function(t,e){var i=Xr(t),a=Xr(e);return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}var Ja=(0,c.HP)(function(n,r){void 0===r&&(r={});var t=r.fontSize,e=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant,s=(ol||(ol=document.createElement("canvas").getContext("2d")),ol);return s.font=[a,o,i,t+"px",e].join(" "),s.measureText((0,c.HD)(n)?n:"").width},function(n,r){return void 0===r&&(r={}),(0,g.pr)([n],(0,c.VO)(r)).join("")});function sl(n,r,t,e,i){var u,f,a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight();"y"===i?(u=a.x+s/2,f=e.y<a.y?e.y:a.y):"x"===i?(u=e.x>a.x?e.x:a.x,f=a.y+l/2):"xy"===i&&(t.isPolar?(u=t.getCenter().x,f=t.getCenter().y):(u=(a.x+o.x)/2,f=(a.y+o.y)/2));var v=function(n,r,t){var e,i=r[0],a=r[1];return n.applyToMatrix([i,a,1]),"x"===t?(n.setMatrix(ge.vs(n.getMatrix(),[["t",-i,-a],["s",.01,1],["t",i,a]])),e=ge.vs(n.getMatrix(),[["t",-i,-a],["s",100,1],["t",i,a]])):"y"===t?(n.setMatrix(ge.vs(n.getMatrix(),[["t",-i,-a],["s",1,.01],["t",i,a]])),e=ge.vs(n.getMatrix(),[["t",-i,-a],["s",1,100],["t",i,a]])):"xy"===t&&(n.setMatrix(ge.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])),e=ge.vs(n.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])),e}(n,[u,f],i);n.animate({matrix:v},r)}function Ef(n,r){var t,e=za(n,r),i=e.startAngle,a=e.endAngle;return!(0,c.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,c.vQ)(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),0===r[5]&&(i=(t=[a,i])[0],a=t[1]),(0,c.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,c.vQ)(a,-.5*Math.PI)&&(a=1.5*Math.PI),{startAngle:i,endAngle:a}}function Bf(n){var r;return"M"===n[0]||"L"===n[0]?r=[n[1],n[2]]:("a"===n[0]||"A"===n[0]||"C"===n[0])&&(r=[n[n.length-2],n[n.length-1]]),r}function Pf(n){var r,t,e,i=n.filter(function(z){return"A"===z[0]||"a"===z[0]});if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=n.indexOf(a),l=n.indexOf(o),u=Bf(n[s-1]),f=Bf(n[l-1]),v=Ef(u,a),p=v.startAngle,d=v.endAngle,m=Ef(f,o),x=m.startAngle,P=m.endAngle;(0,c.vQ)(p,x)&&(0,c.vQ)(d,P)?(t=p,e=d):(t=Math.min(p,x),e=Math.max(d,P));var L=a[1],Z=i[i.length-1][1];return L<Z?(L=(r=[Z,L])[0],Z=r[1]):L===Z&&(Z=0),{startAngle:t,endAngle:e,radius:L,innerRadius:Z}}function ll(n,r,t){if(n.isGroup())(0,c.S6)(n.getChildren(),function(s){ll(s,r,t)});else{var e=n.getBBox(),i=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(n.applyToMatrix([i,a,1]),"zoomIn"===t){var o=ge.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);n.setMatrix(o),n.animate({matrix:ge.vs(n.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},r)}else n.animate({matrix:ge.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},(0,g.pi)((0,g.pi)({},r),{callback:function(){n.remove(!0)}}))}}function Pr(n){return[Ft.TOP,Ft.BOTTOM].includes(n)?{offsetX:0,offsetY:n===Ft.TOP?-8:8,style:{textAlign:"center",textBaseline:n===Ft.TOP?"bottom":"top"}}:[Ft.LEFT,Ft.RIGHT].includes(n)?{offsetX:n===Ft.LEFT?-8:8,offsetY:0,style:{textAlign:n===Ft.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function ul(n,r,t){return{x:n.x+r*Math.cos(t),y:n.y+r*Math.sin(t)}}const zC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var o=2*Math.PI/t,s=-1*Math.PI/2+o*e,l=.5/(1+1/Math.sin(o/2)),u=ul({x:.5,y:.5},.5-l,s),f=5*Math.PI/4,v=1*Math.PI/4;return{start:ul(u,l,f),end:ul(u,l,v)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,i=this.cfg,o=i.type,s=i.fields[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,f=[];return l.forEach(function(v,p){var m=(0,c.hX)(t,e.getFacetDataFilter([{field:s,value:v,values:l}])),x={type:o,data:m,region:e.getRegion(u,p),columnValue:v,columnField:s,columnIndex:p,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};f.push(x)}),f},r.prototype.getXAxisOption=function(t,e,i,a){return i},r.prototype.getYAxisOption=function(t,e,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Pr(Ft.TOP),t.cfg.title);a.annotation().text(s)})},r}(In),YC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,a=this.cfg.cols,o=this.cfg.fields[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length,u=this.getPageCount(l,a=a||l),f=[];return s.forEach(function(v,p){var d=e.getRowCol(p,a),m=d.row,x=d.col,L=(0,c.hX)(t,e.getFacetDataFilter([{field:o,value:v,values:s}])),Z={type:e.cfg.type,data:L,region:e.getRegion(u,a,x,m),columnValue:v,rowValue:v,columnField:o,rowField:null,columnIndex:x,rowIndex:m,columnValuesLength:a,rowValuesLength:u,total:l};f.push(Z)}),f},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,g.pi)((0,g.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Pr(Ft.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},r}(In),HC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,g.pi)({},n.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,g.pi)({},n.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,i=e.fields,a=e.type,o=i.length,s=o,l=[],u=0;u<s;u++)for(var f=i[u],v=0;v<o;v++){var p=i[v],d={type:a,data:t,region:this.getRegion(o,s,u,v),columnValue:f,rowValue:p,columnField:f,rowField:p,columnIndex:u,rowIndex:v,columnValuesLength:s,rowValuesLength:o};l.push(d)}return l},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,g.pi)((0,g.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnIndex,s=e.columnValuesLength,u=e.columnValue,f=e.rowValue,v=e.view;if(0===e.rowIndex){var p=(0,c.U2)(t.cfg.columnTitle,"formatter"),d=(0,c.b$)({position:["50%","0%"],content:p?p(u):u},Pr(Ft.TOP),t.cfg.columnTitle);v.annotation().text(d)}a===s-1&&(p=(0,c.U2)(t.cfg.rowTitle,"formatter"),d=(0,c.b$)({position:["100%","50%"],content:p?p(f):f},Pr(Ft.RIGHT),t.cfg.rowTitle),v.annotation().text(d))})},r}(In),UC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var f,v,e=this,i=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""];return this.cfg.transpose?(l=this.getFieldValues(t,f=i).slice(0,2),o=l.length):(u=this.getFieldValues(t,v=i).slice(0,2),s=u.length),l.forEach(function(p,d){u.forEach(function(m,x){var L=(0,c.hX)(t,e.getFacetDataFilter([{field:f,value:p,values:l},{field:v,value:m,values:u}])),Z={type:e.cfg.type,data:L,region:e.getRegion(s,o,d,x),columnValue:p,rowValue:m,columnField:f,rowField:v,columnIndex:d,rowIndex:x,columnValuesLength:o,rowValuesLength:s};a.push(Z)})}),a},r.prototype.getXAxisOption=function(t,e,i,a){return 1===a.columnIndex||1===a.rowIndex?(0,g.pi)((0,g.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,c.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,c.b$)({position:["50%","0%"],content:l?l(a):a},Pr(Ft.TOP),t.cfg.title);s.annotation().text(u)}else u=(0,c.b$)({position:["100%","50%"],content:l?l(o):o},Pr(Ft.RIGHT),t.cfg.title),s.annotation().text(u)})},r}(In),VC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,g.pi)({},n.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,g.pi)({},n.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,i=this.cfg.fields,a=i[0],o=i[1],s=[],l=1,u=1,f=[""],v=[""];return a&&(f=this.getFieldValues(t,a),l=f.length),o&&(v=this.getFieldValues(t,o),u=v.length),f.forEach(function(p,d){v.forEach(function(m,x){var L=(0,c.hX)(t,e.getFacetDataFilter([{field:a,value:p,values:f},{field:o,value:m,values:v}])),Z={type:e.cfg.type,data:L,region:e.getRegion(u,l,d,x),columnValue:p,rowValue:m,columnField:a,rowField:o,columnIndex:d,rowIndex:x,columnValuesLength:l,rowValuesLength:u};s.push(Z)})}),s},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,f=e.view;if(0===e.rowIndex){var v=(0,c.U2)(t.cfg.columnTitle,"formatter"),p=(0,c.b$)({position:["50%","0%"],content:v?v(l):l},Pr(Ft.TOP),t.cfg.columnTitle);f.annotation().text(p)}a===s-1&&(v=(0,c.U2)(t.cfg.rowTitle,"formatter"),p=(0,c.b$)({position:["100%","50%"],content:v?v(u):u},Pr(Ft.RIGHT),t.cfg.rowTitle),f.annotation().text(p))})},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,g.pi)((0,g.pi)({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,g.pi)((0,g.pi)({},i),{title:null}):i},r}(In),qC=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return(0,g.ZT)(r,n),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){n.prototype.init.call(this),this.view.on(pe.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(i){i.region=e.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,e,i,a){var o=1/e,s=1/t,l={x:o*i,y:s*a};return{start:l,end:{x:l.x+o,y:l.y+2*s/3}}},r.prototype.forceColIndex=function(t){var e=this,i=[],a=0;t.forEach(function(p){e.isLeaf(p)&&(i.push(p),p.columnIndex=a,a++)}),i.forEach(function(p){p.columnValuesLength=i.length});for(var s=this.cfg.fields.length-1;s>=0;s--)for(var u=0,f=this.getFacetsByLevel(t,s);u<f.length;u++){var v=f[u];this.isLeaf(v)||(v.originColIndex=v.columnIndex,v.columnIndex=this.getRegionIndex(v.children),v.columnValuesLength=i.length)}},r.prototype.getFacetsByLevel=function(t,e){var i=[];return t.forEach(function(a){a.rowIndex===e&&i.push(a)}),i},r.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,i){var a=this,o=this.cfg.fields;if(!(o.length<e)){var l=[],u=o[e-1],f=this.getFieldValues(t,u);return f.forEach(function(v,p){var m=t.filter(a.getFacetDataFilter([{field:u,value:v,values:f}]));if(m.length){var x={type:a.cfg.type,data:m,region:null,columnValue:v,rowValue:"",columnField:u,rowField:"",columnIndex:p,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(m,e+1,i)};l.push(x),i.push(x)}}),l}},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Pr(Ft.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(i){e.isLeaf(i)||e.addFacetLines(i,i.children)})},r.prototype.addFacetLines=function(t,e){var i=this,o=t.view.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,f={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},v={x:s.x,y:s.y+(f.y-s.y)/2};i.drawLine([s,v,{x:f.x,y:v.y},f])})},r.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){e.push(0===o?["M",a.x,a.y]:["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t);this.container.addShape("path",{attrs:(0,c.f0)({path:e},this.cfg.line.style)})},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.originColIndex&&0!==a.columnIndex?(0,g.pi)((0,g.pi)({},i),{title:null,label:null}):i},r}(In);function Qa(n,r){if(!r)return null;var t;switch(n){case"start":return 0;case"end":return 1;case"median":t=function(n){var r=(0,g.pr)(n);r.sort(function(e,i){return e-i});var t=r.length;return 0===t?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}(r.isCategory?r.values.map(function(e,i){return i}):r.values);break;case"mean":t=r.isCategory?(r.values.length-1)/2:function(n){var r=(0,c.u4)(n,function(t,e){return t+(isNaN(e)||!(0,c.hj)(e)?0:e)},0);return 0===n.length?0:r/n.length}(r.values);break;case"min":t=r.isCategory?0:r[n];break;case"max":t=r.isCategory?r.values.length-1:r[n];break;default:t=n}return r.scale(t)}var ja=["regionFilter","shape"];const jC=function(n){function r(t){var e=n.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(Ce.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(Ce.BG).addGroup(),e.option=[],e}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;(0,c.S6)(t.option,function(a){if((0,c.q9)(ja,a.type)){var o=t.updateOrCreate(a);o&&i.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(i)});var e=new Map;(0,c.S6)(this.option,function(i){if(!(0,c.q9)(ja,i.type)){var a=t.updateOrCreate(i);a&&e.set(t.getCacheKey(i),a)}}),this.cache=this.syncCache(e)},r.prototype.clear=function(t){void 0===t&&(t=!1),n.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(e){e.animateOption&&e.once(Er.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(pe.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var e=t.type,i=Ct[(0,c.jC)(e)];if(i){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a);return{component:new i(o),layer:this.isTop(o)?Ce.FORE:Ce.BG,direction:Ft.NONE,type:be.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,g.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,g.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,g.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,g.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,g.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,g.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,g.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,g.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,g.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,g.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),a=(0,c.mf)(t)?t.call(null,e,i):t,o=0,s=0;if((0,c.kJ)(a)){var l=a[0],u=a[1];if((0,c.HD)(l)&&-1!==l.indexOf("%")&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=Qa(l,e),s=Qa(u,Object.values(i)[0])}else if(!(0,c.UM)(a))for(var f=0,v=(0,c.XP)(a);f<v.length;f++){var p=v[f],d=a[p];p===e.field&&(o=Qa(d,e)),i[p]&&(s=Qa(d,i[p]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var d,i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),f=(0,c.kJ)(t)?t[0]:t[l],v=(0,c.kJ)(e)?e[0]:e[l],p=[];return(0,c.S6)(u,function(m,x){if(m[l]===f&&(d=x),x>=d){var P=i.parsePosition([m[l],m[s.field]]);P&&p.push(P)}if(m[l]===v)return!1}),p},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l_x=Math.min(o.x,s.x),l_y=Math.min(o.y,s.y);return{x:a.getWidth()*e+l_x,y:a.getHeight()*i+l_y}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if((0,c.UM)(e))return null;if("arc"===t){var v=e.end,p=this.parsePosition(f=e.start),d=this.parsePosition(v),m=kn(o,p),x=kn(o,d);m>x&&(x=2*Math.PI+x),l={center:o.getCenter(),radius:Aa(o,p),startAngle:m,endAngle:x}}else if("image"===t)v=e.end,l={start:this.parsePosition(f=e.start),end:this.parsePosition(v),src:e.src};else if("line"===t)v=e.end,l={start:this.parsePosition(f=e.start),end:this.parsePosition(v),text:(0,c.U2)(e,"text",null)};else if("region"===t)v=e.end,l={start:this.parsePosition(f=e.start),end:this.parsePosition(v)};else if("text"===t){var z=this.view.getData(),j=e.position,at=e.content,Tt=(0,g._T)(e,["position","content"]),kt=at;(0,c.mf)(at)&&(kt=at(z)),l=(0,g.pi)((0,g.pi)((0,g.pi)({},this.parsePosition(j)),Tt),{content:kt})}else if("dataMarker"===t){var Vt=e.point,Kt=e.line,te=e.text,ve=e.autoAdjust,we=e.direction;l=(0,g.pi)((0,g.pi)({},this.parsePosition(j=e.position)),{coordinateBBox:this.getCoordinateBBox(),point:Vt,line:Kt,text:te,autoAdjust:ve,direction:we})}else if("dataRegion"===t){var Qe=e.region,Ze=(te=e.text,e.lineLength);l={points:this.getRegionPoints(f=e.start,v=e.end),region:Qe,text:te,lineLength:Ze}}else if("regionFilter"===t){var f=e.start,_e=(v=e.end,e.apply),Qr=e.color,jr=[],Nn=function(Ar){!Ar||(Ar.isGroup()?Ar.getChildren().forEach(function(Zi){return Nn(Zi)}):jr.push(Ar))};(0,c.S6)(this.view.geometries,function(Ar){_e?(0,c.FX)(_e,Ar.type)&&(0,c.S6)(Ar.elements,function(Zi){Nn(Zi.shape)}):(0,c.S6)(Ar.elements,function(Zi){Nn(Zi.shape)})}),l={color:Qr,shapes:jr,start:this.parsePosition(f),end:this.parsePosition(v)}}else if("shape"===t){var Tr=e.render,zi=(0,g._T)(e,["render"]);l=(0,g.pi)((0,g.pi)({},zi),{render:function(oS){if((0,c.mf)(e.render))return Tr(oS,a.view,{parsePosition:a.parsePosition.bind(a)})}})}else if("html"===t){var $r=e.html;j=e.position,zi=(0,g._T)(e,["html","position"]),l=(0,g.pi)((0,g.pi)((0,g.pi)({},zi),this.parsePosition(j)),{parent:s.get("el").parentNode,html:function(Ar){return(0,c.mf)($r)?$r(Ar,a.view):$r}})}var br=(0,c.b$)({},i,(0,g.pi)((0,g.pi)({},l),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(br.container=this.getComponentContainer(br)),br.animate=this.view.getOptions().animate&&br.animate&&(0,c.U2)(e,"animate",br.animate),br.animateOption=(0,c.b$)({},Zn,br.animateOption,e.animateOption),br},r.prototype.isTop=function(t){return(0,c.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,c.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var i=t.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);Ue(o,["container"]),e.component.update(o),(0,c.q9)(ja,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,c.q9)(ja,t.type)&&e.component.render());return e},r.prototype.syncCache=function(t){var e=this,i=new Map(this.cache);return t.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){(0,c.sE)(e.option,function(s){return o===e.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},r.prototype.getCacheKey=function(t){return t},r}(zn);function kf(n,r){var t=(0,c.b$)({},(0,c.U2)(n,["components","axis","common"]),(0,c.U2)(n,["components","axis",r]));return(0,c.U2)(t,["grid"],{})}function $a(n,r,t,e){var i=[],a=r.getTicks();return n.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)i.push({points:[n.convert("y"===t?{x:0,y:u}:{x:u,y:0}),n.convert("y"===t?{x:1,y:u}:{x:u,y:1})]});else if(l){var v=(o.value+u)/2;i.push({points:[n.convert("y"===t?{x:0,y:v}:{x:v,y:0}),n.convert("y"===t?{x:1,y:v}:{x:v,y:1})]})}return s},a[0]),i}function hl(n,r,t,e,i){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var v=u.value,p=((l?l.value:u.value)+v)/2;return o.push("x"===i?{points:[n.convert({x:e?v:p,y:0}),n.convert({x:e?v:p,y:1})]}:{points:(0,c.UI)(Array(a+1),function(d,m){return n.convert({x:m/a,y:e?v:p})})}),u},s[0]),o}function If(n,r){var t=(0,c.U2)(r,"grid");if(null===t)return!1;var e=(0,c.U2)(n,"grid");return!(void 0===t&&null===e)}var Wr=["container"],Of=(0,g.pi)((0,g.pi)({},Zn),{appear:null});const KC=function(n){function r(t){var e=n.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(Ce.BG).addGroup(),e.gridForeContainer=e.view.getLayer(Ce.FORE).addGroup(),e.axisContainer=e.view.getLayer(Ce.BG).addGroup(),e.axisForeContainer=e.view.getLayer(Ce.FORE).addGroup(),e}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,c.S6)(this.getComponents(),function(i){var p,a=i.component,o=i.direction,s=i.type,l=i.extra,u=l.dim,f=l.scale,v=l.alignTick;s===be.AXIS?e.isPolar?"x"===u?p=e.isTransposed?_a(e,o):ys(e):"y"===u&&(p=e.isTransposed?ys(e):_a(e,o)):p=_a(e,o):s===be.GRID&&(p=e.isPolar?{items:e.isTransposed?"x"===u?hl(e,t.view.getYScales()[0],f,v,u):$a(e,f,u,v):"x"===u?$a(e,f,u,v):hl(e,t.view.getXScale(),f,v,u),center:t.view.getCoordinate().getCenter()}:{items:$a(e,f,u,v)}),a.update(p)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(i,a){t.has(a)?e.set(a,i):i.component.destroy()}),this.cache=e},r.prototype.clear=function(){n.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=Ba(this.option,e.field);if(!1!==i){var a=Yh(i,Ft.BOTTOM),o=Ce.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),f=this.getId("grid",e.field);if(l.isRect)(v=this.cache.get(u))?(Ue(p=this.getLineAxisCfg(e,i,a),Wr),v.component.update(p),t.set(u,v)):(v=this.createLineAxis(e,i,o,a,s),this.cache.set(u,v),t.set(u,v)),(d=this.cache.get(f))?(Ue(p=this.getLineGridCfg(e,i,a,s),Wr),d.component.update(p),t.set(f,d)):(d=this.createLineGrid(e,i,o,a,s))&&(this.cache.set(f,d),t.set(f,d));else if(l.isPolar){var v,d;if(v=this.cache.get(u))Ue(p=l.isTransposed?this.getLineAxisCfg(e,i,Ft.RADIUS):this.getCircleAxisCfg(e,i,a),Wr),v.component.update(p),t.set(u,v);else{if(l.isTransposed){if((0,c.o8)(i))return;v=this.createLineAxis(e,i,o,Ft.RADIUS,s)}else v=this.createCircleAxis(e,i,o,a,s);this.cache.set(u,v),t.set(u,v)}if(d=this.cache.get(f)){var p;Ue(p=l.isTransposed?this.getCircleGridCfg(e,i,Ft.RADIUS,s):this.getLineGridCfg(e,i,Ft.CIRCLE,s),Wr),d.component.update(p),t.set(f,d)}else{if(l.isTransposed){if((0,c.o8)(i))return;d=this.createCircleGrid(e,i,o,Ft.RADIUS,s)}else d=this.createLineGrid(e,i,o,Ft.CIRCLE,s);d&&(this.cache.set(f,d),t.set(f,d))}}}}},r.prototype.updateYAxes=function(t){var e=this,i=this.view.getYScales();(0,c.S6)(i,function(a,o){if(a&&!a.isIdentity){var s=a.field,l=Ba(e.option,s);if(!1!==l){var u=Ce.BG,f="y",v=e.getId("axis",s),p=e.getId("grid",s),d=e.view.getCoordinate();if(d.isRect){var m=Yh(l,0===o?Ft.LEFT:Ft.RIGHT);(x=e.cache.get(v))?(Ue(P=e.getLineAxisCfg(a,l,m),Wr),x.component.update(P),t.set(v,x)):(x=e.createLineAxis(a,l,u,m,f),e.cache.set(v,x),t.set(v,x)),(L=e.cache.get(p))?(Ue(P=e.getLineGridCfg(a,l,m,f),Wr),L.component.update(P),t.set(p,L)):(L=e.createLineGrid(a,l,u,m,f))&&(e.cache.set(p,L),t.set(p,L))}else if(d.isPolar){var x,L;if(x=e.cache.get(v))Ue(P=d.isTransposed?e.getCircleAxisCfg(a,l,Ft.CIRCLE):e.getLineAxisCfg(a,l,Ft.RADIUS),Wr),x.component.update(P),t.set(v,x);else{if(d.isTransposed){if((0,c.o8)(l))return;x=e.createCircleAxis(a,l,u,Ft.CIRCLE,f)}else x=e.createLineAxis(a,l,u,Ft.RADIUS,f);e.cache.set(v,x),t.set(v,x)}if(L=e.cache.get(p)){var P;Ue(P=d.isTransposed?e.getLineGridCfg(a,l,Ft.CIRCLE,f):e.getCircleGridCfg(a,l,Ft.RADIUS,f),Wr),L.component.update(P),t.set(p,L)}else{if(d.isTransposed){if((0,c.o8)(l))return;L=e.createLineGrid(a,l,u,Ft.CIRCLE,f)}else L=e.createCircleGrid(a,l,u,Ft.RADIUS,f);L&&(e.cache.set(p,L),t.set(p,L))}}}}})},r.prototype.createLineAxis=function(t,e,i,a,o){var s={component:new nm(this.getLineAxisCfg(t,e,a)),layer:i,direction:a===Ft.RADIUS?Ft.NONE:a,type:be.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,i,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new am(s),layer:i,direction:Ft.NONE,type:be.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,i,a,o){var s={component:new im(this.getCircleAxisCfg(t,e,a)),layer:i,direction:a,type:be.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,i,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new om(s),layer:i,direction:Ft.NONE,type:be.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,i){var a=(0,c.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=_a(o,i),l=Gh(t,e),u=Ea(this.view.getTheme(),i),f=(0,c.U2)(e,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:Zh(this.view.getTheme(),i,e.title)},e):e,v=(0,c.b$)((0,g.pi)((0,g.pi)({container:a},s),{ticks:t.getTicks().map(function(z){return{id:""+z.tickValue,name:z.text,value:z.value}}),verticalFactor:o.isPolar?-1*zh(s,o.getCenter()):zh(s,o.getCenter()),theme:u}),u,f),p=this.getAnimateCfg(v),d=p.animate;v.animateOption=p.animateOption,v.animate=d;var x=Rh(s),P=(0,c.U2)(v,"verticalLimitLength",x?1/3:.5);if(P<=1){var L=this.view.getCanvas().get("width"),Z=this.view.getCanvas().get("height");v.verticalLimitLength=P*(x?L:Z)}return v},r.prototype.getLineGridCfg=function(t,e,i,a){if(If(Ea(this.view.getTheme(),i),e)){var o=kf(this.view.getTheme(),i),s=(0,c.b$)({container:(0,c.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},o,(0,c.U2)(e,"grid"),this.getAnimateCfg(e));return s.items=$a(this.view.getCoordinate(),t,a,(0,c.U2)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,i){var a=(0,c.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(x){return{id:""+x.tickValue,name:x.text,value:x.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===2*Math.PI&&s.pop();var l=Gh(t,e),u=Ea(this.view.getTheme(),Ft.CIRCLE),f=(0,c.U2)(e,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:Zh(this.view.getTheme(),i,e.title)},e):e,v=(0,c.b$)((0,g.pi)((0,g.pi)({container:a},ys(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,f),p=this.getAnimateCfg(v),m=p.animateOption;return v.animate=p.animate,v.animateOption=m,v},r.prototype.getCircleGridCfg=function(t,e,i,a){if(If(Ea(this.view.getTheme(),i),e)){var o=kf(this.view.getTheme(),Ft.RADIUS),s=(0,c.b$)({container:(0,c.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,c.U2)(e,"grid"),this.getAnimateCfg(e)),l=(0,c.U2)(s,"alignTick",!0),u="x"===a?this.view.getYScales()[0]:this.view.getXScale();return s.items=hl(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,c.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,c.b$)({},Of,t.animateOption):Of}},r}(zn);function qr(n,r,t){return t===Ft.TOP?[n.minX+n.width/2-r.width/2,n.minY]:t===Ft.BOTTOM?[n.minX+n.width/2-r.width/2,n.maxY-r.height]:t===Ft.LEFT?[n.minX,n.minY+n.height/2-r.height/2]:t===Ft.RIGHT?[n.maxX-r.width,n.minY+n.height/2-r.height/2]:t===Ft.TOP_LEFT||t===Ft.LEFT_TOP?[n.tl.x,n.tl.y]:t===Ft.TOP_RIGHT||t===Ft.RIGHT_TOP?[n.tr.x-r.width,n.tr.y]:t===Ft.BOTTOM_LEFT||t===Ft.LEFT_BOTTOM?[n.bl.x,n.bl.y-r.height]:t===Ft.BOTTOM_RIGHT||t===Ft.RIGHT_BOTTOM?[n.br.x-r.width,n.br.y-r.height]:[0,0]}function Rf(n,r){return(0,c.jn)(n)?!1!==n&&{}:(0,c.U2)(n,[r],n)}function Ka(n){return(0,c.U2)(n,"position",Ft.BOTTOM)}const iM=function(n){function r(t){var e=n.call(this,t)||this;return e.container=e.view.getLayer(Ce.FORE).addGroup(),e}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,c.S6)(this.components,function(e){var i=e.component,a=e.direction,o=Ds(a),s=i.get("maxWidthRatio"),l=i.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),f=i.get("maxWidth"),v=i.get("maxHeight");i.update({maxWidth:Math.min(u.maxWidth,f||0),maxHeight:Math.min(u.maxHeight,v||0)});var p=i.get("padding"),d=i.getLayoutBBox(),m=new Re(d.x,d.y,d.width,d.height).expand(p),x=qr(t.view.viewBBox,m,a),P=x[0],L=x[1],Z=qr(t.layoutBBox,m,a),z=Z[0],G=Z[1],j=0,at=0;a.startsWith("top")||a.startsWith("bottom")?(j=P,at=G):(j=z,at=L),i.setLocation({x:j+p[3],y:at+p[0]}),t.layoutBBox=t.layoutBBox.cut(m,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,c.U2)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Ue(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=Ce.FORE,f=Ka(this.option);this.components.push({id:a,component:l,layer:u,direction:f,type:be.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(function(p,d,m){var x=t.getId(m.field),P=t.getComponentById(x);if(P){var L=void 0,Z=Rf(t.option,m.field);!1!==Z&&((0,c.U2)(Z,"custom")?L=t.getCategoryCfg(p,d,m,Z,!0):m.isLinear?L=t.getContinuousCfg(p,d,m,Z):m.isCategory&&(L=t.getCategoryCfg(p,d,m,Z))),L&&(Ue(L,["container"]),P.direction=Ka(Z),P.component.update(L),e[x]=!0)}else{var z=t.createFieldLegend(p,d,m);z&&(z.component.init(),t.components.push(z),e[x]=!0)}});var v=[];(0,c.S6)(this.getComponents(),function(p){e[p.id]?v.push(p):p.component.destroy()}),this.components=v},r.prototype.clear=function(){n.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,i=t.geometries;return(0,c.S6)(t.views,function(a){i=i.concat(e.getGeometries(a))}),i},r.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var i=this.getGeometries(this.view),a={};(0,c.S6)(i,function(o){var s=o.getGroupAttributes();(0,c.S6)(s,function(l){var u=l.getScale(l.type);!u||"identity"===u.type||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,i){var a,o=Rf(this.option,i.field),s=Ce.FORE,l=Ka(o);if(!1!==o&&((0,c.U2)(o,"custom")?a=this.createCustomLegend(t,e,i,o):i.isLinear?a=this.createContinuousLegend(t,e,i,o):i.isCategory&&(a=this.createCategoryLegend(t,e,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:l,type:be.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,e,i,a){var o=this.getCategoryCfg(t,e,i,a,!0);return new Lh(o)},r.prototype.createContinuousLegend=function(t,e,i,a){var o=this.getContinuousCfg(t,e,i,Ue(a,["value"]));return new sm(o)},r.prototype.createCategoryLegend=function(t,e,i,a){var o=this.getCategoryCfg(t,e,i,a);return new Lh(o)},r.prototype.getContinuousCfg=function(t,e,i,a){var o=i.getTicks(),s=(0,c.sE)(o,function(x){return 0===x.value}),l=(0,c.sE)(o,function(x){return 1===x.value}),u=o.map(function(x){var P=x.value,L=x.tickValue,Z=e.mapping(i.invert(P)).join("");return{value:L,attrValue:Z,color:Z,scaleValue:P}});s||u.push({value:i.min,attrValue:e.mapping(i.invert(0)).join(""),color:e.mapping(i.invert(0)).join(""),scaleValue:0}),l||u.push({value:i.max,attrValue:e.mapping(i.invert(1)).join(""),color:e.mapping(i.invert(1)).join(""),scaleValue:1}),u.sort(function(x,P){return x.value-P.value});var f={min:(0,c.YM)(u).value,max:(0,c.Z$)(u).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(f.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(f.colors=u.map(function(x){return x.attrValue}));var v=this.container,d=Ds(Ka(a)),m=(0,c.U2)(a,"title");return m&&(m=(0,c.b$)({text:Mi(i)},m)),f.container=v,f.layout=d,f.title=m,f.animateOption=Zn,this.mergeLegendCfg(f,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,i,a,o){var s=this.container,l=(0,c.U2)(a,"position",Ft.BOTTOM),u=Ac(this.view.getTheme(),l),f=(0,c.U2)(u,["marker"]),v=(0,c.U2)(a,"marker"),p=Ds(l),d=(0,c.U2)(u,["pageNavigator"]),m=(0,c.U2)(a,"pageNavigator"),x=o?function(n,r,t){return t.map(function(e,i){var a=r;(0,c.mf)(a)&&(a=a(e.name,i,(0,c.b$)({},n,e)));var o=(0,c.b$)({},n,a,e.marker);return Tc(o),e.marker=o,e})}(f,v,a.items):function(n,r,t,e,i){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=n.getTheme().defaultColor,f=r.coordinate.isPolar;return a.getTicks().map(function(v,p){var d,P=v.text,L=a.invert(v.value),Z=0===n.filterFieldData(o,[(d={},d[o]=L,d)]).length;(0,c.S6)(n.views,function(Tt){var kt;Tt.filterFieldData(o,[(kt={},kt[o]=L,kt)]).length||(Z=!0)});var z=Os(s,L,u),G=Os(l,L,"point"),j=r.getShapeMarker(G,{color:z,isInPolar:f}),at=i;return(0,c.mf)(at)&&(at=at(P,p,(0,g.pi)({name:P,value:L},(0,c.b$)({},e,j)))),function(n,r){var t=n.symbol;if((0,c.HD)(t)&&-1!==Zy.indexOf(t)){var e=(0,c.U2)(n,"style",{}),i=(0,c.U2)(e,"lineWidth",1);n.style=(0,c.b$)({},n.style,{lineWidth:i,stroke:e.stroke||e.fill||r,fill:null})}}(j=(0,c.b$)({},e,j,Ue((0,g.pi)({},at),["style"])),z),at&&at.style&&(j.style=function(n,r){return(0,c.mf)(r)?r(n):(0,c.b$)({},n,r)}(j.style,at.style)),Tc(j),{id:L,name:P,value:L,marker:j,unchecked:Z}})}return[]}(this.view,t,e,f,v),P=(0,c.U2)(a,"title");P&&(P=(0,c.b$)({text:i?Mi(i):""},P));var L=(0,c.U2)(a,"maxWidthRatio"),Z=(0,c.U2)(a,"maxHeightRatio"),z=this.getCategoryLegendSizeCfg(p,L,Z);z.container=s,z.layout=p,z.items=x,z.title=P,z.animateOption=Zn,z.pageNavigator=(0,c.b$)({},d,m);var G=this.mergeLegendCfg(z,a,l);G.reversed&&G.items.reverse();var j=(0,c.U2)(G,"maxItemWidth");return j&&j<=1&&(G.maxItemWidth=this.view.viewBBox.width*j),G},r.prototype.mergeLegendCfg=function(t,e,i){var a=i.split("-")[0],o=Ac(this.view.getTheme(),a);return(0,c.b$)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,c.sE)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,e,i){void 0===e&&(e=.25),void 0===i&&(i=.25);var a=this.view.viewBBox,o=a.width,s=a.height;return"vertical"===t?{maxWidth:o*e,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},r}(zn),oM=function(n){function r(t){var e=n.call(this,t)||this;return e.onChangeFn=c.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(i){var a=i[0],o=i[1];e.start=a,e.end=o,e.changeViewData(a,o)},e.container=e.view.getLayer(Ce.FORE).addGroup(),e.onChangeFn=(0,c.P2)(e.onValueChange,20,{leading:!0}),e.width=0,e.view.on(pe.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(pe.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.view.off(pe.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(pe.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,i=t.end;(0,c.UM)(this.start)&&(this.start=e,this.end=i);var a=this.view.getOptions().data;this.option&&!(0,c.xb)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var e=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=i[0],l=i[3],u=this.slider.component.getLayoutBBox(),f=new Re(u.x,u.y,Math.min(u.width,e),u.height).expand(i),v=this.getMinMaxText(this.start,this.end),p=v.minText,d=v.maxText,P=qr(this.view.viewBBox,f,Ft.BOTTOM)[1],Z=qr(this.view.coordinateBBox,f,Ft.BOTTOM)[0];this.slider.component.update((0,g.pi)((0,g.pi)({},this.getSliderCfg()),{x:Z+l,y:P+a,width:this.width,start:this.start,end:this.end,minText:p,maxText:d})),this.view.viewBBox=this.view.viewBBox.cut(f,Ft.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new tm((0,g.pi)({container:this.container},t));return e.init(),{component:e,layer:Ce.FORE,direction:Ft.BOTTOM,type:be.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),i=e.minText,a=e.maxText;t=(0,g.pi)((0,g.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,c.Kn)(this.option)){var e=(0,g.pi)({data:this.getData()},(0,c.U2)(this.option,"trendCfg",{}));t=(0,c.b$)({},t,this.getThemeOptions(),this.option),t=(0,g.pi)((0,g.pi)({},t),{trendCfg:e})}return t.start=(0,c.uZ)(Math.min((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t.end=(0,c.uZ)(Math.max((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],i=this.view.getGroupScales();if(i.length){var a=i[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,e){var i=this.view.getOptions().data,a=this.view.getXScale(),l=(0,c.I)(i,a.field),u=(0,c.dp)(i);if(!a||!u)return{};var f=(0,c.dp)(l),v=Math.floor(t*(f-1)),p=Math.floor(e*(f-1)),d=(0,c.U2)(l,[v]),m=(0,c.U2)(l,[p]),x=this.getSliderCfg().formatter;return x&&(d=x(d,i[v],v),m=x(m,i[p],p)),{minText:d,maxText:m}},r.prototype.changeViewData=function(t,e){var i=this.view.getOptions().data,a=this.view.getXScale(),o=(0,c.dp)(i);if(a&&o){var u=(0,c.I)(i,a.field),f=(0,c.dp)(u),v=Math.floor(t*(f-1)),p=Math.floor(e*(f-1));this.view.filter(a.field,function(d,m){var x=u.indexOf(d);return!(x>-1)||Ln(x,v,p)}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(zn),hM=function(n){function r(t){var e=n.call(this,t)||this;return e.onChangeFn=c.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(i){var a=i.ratio,o=e.getValidScrollbarCfg().animate;e.ratio=(0,c.uZ)(a,0,1);var s=e.view.getOptions().animate;o||e.view.animate(!1),e.changeViewData(e.getScrollRange(),!0),e.view.animate(s)},e.container=e.view.getLayer(Ce.FORE).addGroup(),e.onChangeFn=(0,c.P2)(e.onValueChange,20,{leading:!0}),e.trackLen=0,e.thumbLen=0,e.ratio=0,e.view.on(pe.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(pe.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return(0,g.ZT)(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.view.off(pe.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(pe.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var e=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Re(a.x,a.y,Math.min(a.width,e),a.height).expand(i),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var p=qr(this.view.viewBBox,o,Ft.BOTTOM)[1];l=qr(this.view.coordinateBBox,o,Ft.BOTTOM)[0],u=p}else{l=(p=qr(this.view.viewBBox,o,Ft.RIGHT)[1],qr(this.view.viewBBox,o,Ft.RIGHT))[0],u=p}l+=i[3],u+=i[0],this.scrollbar.component.update((0,g.pi)((0,g.pi)({},s),this.trackLen?{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}:{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Ft.BOTTOM:Ft.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var e=(0,c.U2)(this.view.getTheme(),["components","scrollbar"]),i=t||{},a=i.thumbHighlightColor,o=(0,g._T)(i,["thumbHighlightColor"]);return{default:(0,c.b$)({},(0,c.U2)(e,["default","style"],{}),o),hover:(0,c.b$)({},(0,c.U2)(e,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),o=i.thumbLen;this.trackLen=i.trackLen,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,c.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},r.prototype.changeViewData=function(t,e){var i=this,a=t[0],o=t[1],l="vertical"!==this.getValidScrollbarCfg().type,u=(0,c.I)(this.data,this.xScaleCfg.field),f=l?u:u.reverse();this.yScalesCfg.forEach(function(v){i.view.scale(v.field,{formatter:v.formatter,type:v.type,min:v.min,max:v.max})}),this.view.filter(this.xScaleCfg.field,function(v){var p=f.indexOf(v);return!(p>-1)||Ln(p,a,o)}),this.view.render(!0)},r.prototype.createScrollbar=function(){var e="vertical"!==this.getValidScrollbarCfg().type,i=new rm((0,g.pi)((0,g.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:Ce.FORE,direction:e?Ft.BOTTOM:Ft.RIGHT,type:be.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,g.pi)((0,g.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,g.pi)({},t);return this.scrollbar.component.update(e),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg();return Math.floor(("vertical"!==e.type?t.width:t.height)/e.categorySize)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.view.getOptions().data,i=(0,c.I)(e,t.field);return(0,c.dp)(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,i=t.viewBBox,a=this.getValidScrollbarCfg(),s=a.padding,l=a.width,u=a.height,f=a.style,v="vertical"!==a.type,p=s[0],d=s[1],m=s[2],x=s[3],P=v?{x:e.minX+x,y:i.maxY-u-m}:{x:i.maxX-l-d,y:e.minY+p},L=this.getStep(),Z=this.getCnt(),z=v?e.width-x-d:e.height-p-m,G=Math.max(z*(0,c.uZ)(L/Z,0,1),20);return(0,g.pi)((0,g.pi)({},this.getThemeOptions()),{x:P.x,y:P.y,size:v?u:l,isHorizontal:v,trackLen:z,thumbLen:G,thumbOffset:0,theme:this.getScrollbarTheme(f)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,c.Kn)(this.option)&&(t=(0,g.pi)((0,g.pi)({},t),this.option)),(!(0,c.Kn)(this.option)||!this.option.padding)&&(t.padding=[0,0,0,0]),t},r}(zn);var cM={fill:"#CCD6EC",opacity:.3};const pM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.show=function(t){var e=this.context.view,i=this.context.event,a=e.getController("tooltip").getTooltipCfg(),o=function(n,r,t){var e=function(n,r,t){for(var e=_s(n,r,t),i=0,a=n.views;i<a.length;i++)e=e.concat(_s(a[i],r,t));return e}(n,r,t);if(e.length){for(var i=0,a=e=(0,c.xH)(e);i<a.length;i++)for(var s=0,l=a[i];s<l.length;s++){var u=l[s],f=u.mappingData,v=f.x,p=f.y;u.x=(0,c.kJ)(v)?v[v.length-1]:v,u.y=(0,c.kJ)(p)?p[p.length-1]:p}if(!1===t.shared&&e.length>1){for(var m=e[0],x=Math.abs(r.y-m[0].y),P=0,L=e;P<L.length;P++){var Z=L[P],z=Math.abs(r.y-Z[0].y);z<=x&&(m=Z,x=z)}e=[m]}return(0,c.jj)((0,c.xH)(e))}return[]}(e,{x:i.x,y:i.y},a);if(!(0,c.Xy)(o,this.items)&&(this.items=o,o.length)){var s=e.getXScale().field,l=o[0].data[s],u=[];if((0,c.S6)(e.geometries,function(Me){if("interval"===Me.type||"schema"===Me.type){var _e=Me.getElementsBy(function(Qr){return Qr.getData()[s]===l});u=u.concat(_e)}}),u.length){var v=e.getCoordinate(),p=u[0].shape.getCanvasBBox(),d=u[0].shape.getCanvasBBox(),m=p;(0,c.S6)(u,function(Me){var _e=Me.shape.getCanvasBBox();v.isTransposed?(_e.minY<p.minY&&(p=_e),_e.maxY>d.maxY&&(d=_e)):(_e.minX<p.minX&&(p=_e),_e.maxX>d.maxX&&(d=_e)),m.x=Math.min(_e.minX,m.minX),m.y=Math.min(_e.minY,m.minY),m.width=Math.max(_e.maxX,m.maxX)-m.x,m.height=Math.max(_e.maxY,m.maxY)-m.y});var x=e.backgroundGroup,P=e.coordinateBBox,L=void 0;if(v.isRect){var Z=e.getXScale(),z=t||{},G=z.appendRatio,j=z.appendWidth;(0,c.UM)(j)&&(G=(0,c.UM)(G)?Z.isLinear?0:.25:G,j=v.isTransposed?G*d.height:G*p.width);var at=void 0,Tt=void 0,kt=void 0,Yt=void 0;v.isTransposed?(at=P.minX,Tt=Math.min(d.minY,p.minY)-j,kt=P.width,Yt=m.height+2*j):(at=Math.min(p.minX,d.minX)-j,Tt=P.minY,kt=m.width+2*j,Yt=P.height),L=[["M",at,Tt],["L",at+kt,Tt],["L",at+kt,Tt+Yt],["L",at,Tt+Yt],["Z"]]}else{var Vt=(0,c.YM)(u),Kt=(0,c.Z$)(u),te=xi(Vt.getModel(),v).startAngle,ve=xi(Kt.getModel(),v).endAngle,we=v.getCenter(),ue=v.getRadius();L=Yr(we.x,we.y,ue,te,ve,v.innerRadius*ue)}if(this.regionPath)this.regionPath.attr("path",L),this.regionPath.show();else{var Ze=(0,c.U2)(t,"style",cM);this.regionPath=x.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,g.pi)((0,g.pi)({},Ze),{path:L})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),n.prototype.destroy.call(this)},r}(De),Zf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,g.ZT)(r,n),r.prototype.show=function(){var t=this.context,e=t.event,i=t.view;if(!i.isTooltipLocked()){var o=this.timeStamp,s=+new Date;if(s-o>(0,c.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var u=this.location,f={x:e.x,y:e.y};(!u||!(0,c.Xy)(u,f))&&this.showTooltip(i,f),this.timeStamp=s,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),i=this.context.event;e.isCursorEntered({x:i.clientX,y:i.clientY})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(De),mM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.showTooltip=function(t,e){var i=wr(t);(0,c.S6)(i,function(a){var o=Ss(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=wr(t);(0,c.S6)(e,function(i){i.hideTooltip()})},r}(Zf),xM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.timeStamp=0,t}return(0,g.ZT)(r,n),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var e=this.context.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,c.Xy)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var a=this.context.event.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,g.pi)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=this.context.view,i=e.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=e.getTheme(),s=(0,c.U2)(o,["components","tooltip","domStyles"],{}),l=new kh({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:(0,g.pi)({},(0,c.b$)({},s,(t={},t[En]={"max-width":"50%"},t[Bn]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},r}(De),cl=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="",t}return(0,g.ZT)(r,n),r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){this.clearViewState(this.context.view)},r.prototype.clearViewState=function(t){var e=this,i=Jh(t,this.stateName);(0,c.S6)(i,function(a){e.setElementState(a,!1)})},r}(De);function Yf(n){return(0,c.U2)(n.get("delegateObject"),"item")}const fl=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return(0,g.ZT)(r,n),r.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter(function(o){return e.hasState(t,o)}).length},r.prototype.setStateByComponent=function(t,e,i){var a=this.context.view,o=t.get("field"),s=Pe(a);this.setElementsStateByItem(s,o,e,i)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,i){var o=Fn(this.context.view,e),s=lr(t,e);return!(0,c.UM)(s)&&i.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,i,a){var o=this;(0,c.S6)(t,function(s){o.isMathItem(s,e,i)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Hr(this.context);if(e)Vh(this.context)&&this.setStateByElement(e,t);else{var i=Dn(this.context);if(Si(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Yf(s.fromShape)===Yf(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Hr(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(cl),SM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.active=function(){this.setState()},r}(fl),bM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.cache={},t}return(0,g.ZT)(r,n),r.prototype.getColorScale=function(t,e){var i=e.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},r.prototype.getLinkPath=function(t,e){var a=this.context.view.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=e.shape.getCanvasBBox();return a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]]},r.prototype.addLinkShape=function(t,e,i,a){var o={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,g.pi)((0,g.pi)({},(0,c.b$)({},o,(0,c.mf)(a)?a(o,e):a)),{path:this.getLinkPath(e,i)})})},r.prototype.linkByElement=function(t,e){var i=this,a=this.context.view,o=this.getColorScale(a,t);if(o){var s=lr(t,o.field);if(!this.cache[s]){var l=function(n,r,t){return Pe(n).filter(function(i){return lr(i,r)===t})}(a,o.field,s),f=this.linkGroup.addGroup();this.cache[s]=f;var v=l.length;(0,c.S6)(l,function(p,d){d<v-1&&i.addLinkShape(f,p,l[d+1],e)})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var i=lr(t,e.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=Hr(e);i&&this.linkByElement(i,null==t?void 0:t.style)},r.prototype.unlink=function(){var t=Hr(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(De),vl=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return(0,g.ZT)(r,n),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Ti(this.context))t=Cs(this.context,10);else{var e=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!i)return;var a={minX:Math.min(e.x,i.x),minY:Math.min(e.y,i.y),maxX:Math.max(e.x,i.x),maxY:Math.max(e.y,i.y)};t=Ms(this.context.view,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Pe(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var i=this,a=this.context.view,o=wr(a),s=t.map(function(f){return f.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,c.S6)(o,function(f){var v=Pe(f),p=v.filter(function(d){var m=d.getModel().data;return Kh(s,m,l,u)});i.setElementsState(p,e,v)})},r.prototype.setSiblingsState=function(t){var e=this,a=wr(this.context.view);Ti(this.context)&&(0,c.S6)(a,function(o){var s=Pe(o),l=qh(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,i){var a=this;(0,c.S6)(i,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var i=wr(e);(0,c.S6)(i,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(cl),EM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.active=function(){this.setState()},r}(vl),pl=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.setStateEnable=function(t){var e=Hr(this.context);if(e){if(!Vh(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Hr(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(cl),LM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.active=function(){this.setState()},r}(pl);var Ii="inactive",Oi="active";function gl(n){var r=Pe(n);(0,c.S6)(r,function(t){t.hasState(Oi)&&t.setState(Oi,!1),t.hasState(Ii)&&t.setState(Ii,!1)})}function Gf(n,r,t){(0,c.S6)(n,function(e){r(e)?(e.hasState(Ii)&&e.setState(Ii,!1),e.setState(Oi,t)):(e.hasState(Oi)&&e.setState(Oi,!1),e.setState(Ii,t))})}var mn=rn.INACTIVE,Lr=rn.ACTIVE;const dl=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=Lr,t}return(0,g.ZT)(r,n),r.prototype.setElementsStateByItem=function(t,e,i,a){var o=this;this.setHighlightBy(t,function(l){return o.isMathItem(l,e,i)},a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mn)&&t.setState(mn,!1),t.setState(Lr,!0)):t.hasState(Lr)||t.setState(mn,!0)},r.prototype.setHighlightBy=function(t,e,i){var a=this;if(i)(0,c.S6)(t,function(l){a.setElementHighlight(l,e)});else{var o=Jh(this.context.view,Lr),s=!0;(0,c.S6)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,c.S6)(t,function(l){e(l)&&(l.hasState(Lr)&&l.setState(Lr,!1),l.setState(mn,!0))})}},r.prototype.setElementState=function(t,e){var a=Pe(this.context.view);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){gl(this.context.view)},r}(fl),OM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.setStateByElement=function(t,e){var i=this.context.view,a=t.geometry.getAttribute("color");if(a){var o=i.getScaleByField(a.getFields()[0]),s=lr(t,o.field),l=Pe(i),u=l.filter(function(f){return lr(f,o.field)===s});this.setHighlightBy(l,function(f){return u.includes(f)},e)}},r}(dl),FM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(mn)&&t.setState(mn,!1),t.setState(Lr,!0)):(t.setState(mn,!0),t.hasState(Lr)&&t.setState(Lr,!1))},r.prototype.setStateByElement=function(t,e){var i=this.context.view,a=i.getXScale(),o=lr(t,a.field),s=Pe(i),l=s.filter(function(u){return lr(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=Hr(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(dl);var cr=(()=>(function(n){n.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",n.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",n.BEFORE_CLEAR="element-range-highlight:beforeclear",n.AFTER_CLEAR="element-range-highlight:afterclear"}(cr||(cr={})),cr))();const Hf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.clearViewState=function(t){gl(t)},r.prototype.highlight=function(){var t=this.context,e=t.view,o={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(cr.BEFORE_HIGHLIGHT,ze.fromData(e,cr.BEFORE_HIGHLIGHT,o)),this.setState(),e.emit(cr.AFTER_HIGHLIGHT,ze.fromData(e,cr.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(cr.BEFORE_CLEAR,ze.fromData(t,cr.BEFORE_CLEAR,{})),n.prototype.clear.call(this),t.emit(cr.AFTER_CLEAR,ze.fromData(t,cr.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,e,i){Gf(i,function(a){return t.indexOf(a)>=0},e)},r}(vl),ZM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){Gf(Pe(this.context.view),function(o){return t===o},e)},r.prototype.clear=function(){gl(this.context.view)},r}(pl),GM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return(0,g.ZT)(r,n),r.prototype.selected=function(){this.setState()},r}(vl),NM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return(0,g.ZT)(r,n),r.prototype.selected=function(){this.setState()},r}(fl),XM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return(0,g.ZT)(r,n),r.prototype.selected=function(){this.setState()},r}(pl),Di=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return(0,g.ZT)(r,n),r.prototype.getTriggerListInfo=function(){var t=Dn(this.context),e=null;return Si(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,i=jh(this.context.view),a=[];return(0,c.S6)(i,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,c.S6)(e,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var o=Fn(this.context.view,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var i=this.ignoreItemStates;return!i.length||0===i.filter(function(o){return e.hasState(t,o)}).length},r.prototype.setStateByElement=function(t,e,i){var a=t.get("field"),s=Fn(this.context.view,a),l=lr(e,a),u=s.getText(l);this.setItemsState(t,u,i)},r.prototype.setStateEnable=function(t){var e=this,i=Hr(this.context);if(i){var a=this.getAllowComponents();(0,c.S6)(a,function(u){e.setStateByElement(u,i,t)})}else{var o=Dn(this.context);if(Si(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,i){var a=this,o=t.getItems();(0,c.S6)(o,function(s){s.name===e&&a.setItemState(t,s,i)})},r.prototype.setItemState=function(t,e,i){t.setItemState(e,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,i=t.item,a=this.hasState(e,i);this.setItemState(e,i,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(De),qM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return(0,g.ZT)(r,n),r.prototype.active=function(){this.setState()},r}(Di);var Nf="inactive",Fi="inactive",yn="active";const ml=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=yn,t.ignoreItemStates=["unchecked"],t}return(0,g.ZT)(r,n),r.prototype.setItemsState=function(t,e,i){this.setHighlightBy(t,function(a){return a.name===e},i)},r.prototype.setItemState=function(t,e,i){t.getItems(),this.setHighlightBy(t,function(o){return o===e},i)},r.prototype.setHighlightBy=function(t,e,i){var a=t.getItems();if(i)(0,c.S6)(a,function(l){e(l)?(t.hasState(l,Fi)&&t.setItemState(l,Fi,!1),t.setItemState(l,yn,!0)):t.hasState(l,yn)||t.setItemState(l,Fi,!0)});else{var o=t.getItemsByState(yn),s=!0;(0,c.S6)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,c.S6)(a,function(l){e(l)&&(t.hasState(l,yn)&&t.setItemState(l,yn,!1),t.setItemState(l,Fi,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function(n){var r=n.getItems();(0,c.S6)(r,function(t){n.hasState(t,"active")&&n.setItemState(t,"active",!1),n.hasState(t,Nf)&&n.setItemState(t,Nf,!1)})}(t.list);else{var e=this.getAllowComponents();(0,c.S6)(e,function(i){i.clearItemsState(yn),i.clearItemsState(Fi)})}},r}(Di),$M=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return(0,g.ZT)(r,n),r.prototype.selected=function(){this.setState()},r}(Di),tw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="unchecked",t}return(0,g.ZT)(r,n),r.prototype.unchecked=function(){this.setState()},r}(Di);var Hn="unchecked",eo="checked";const rw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=eo,t}return(0,g.ZT)(r,n),r.prototype.setItemState=function(t,e,i){this.setCheckedBy(t,function(a){return a===e},i)},r.prototype.setCheckedBy=function(t,e,i){var a=t.getItems();i&&(0,c.S6)(a,function(o){e(o)?(t.hasState(o,Hn)&&t.setItemState(o,Hn,!1),t.setItemState(o,eo,!0)):t.hasState(o,eo)||t.setItemState(o,Hn,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,i=t.item;!(0,c.G)(e.getItems(),function(o){return e.hasState(o,Hn)})||e.hasState(i,Hn)?this.setItemState(e,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,c.S6)(t,function(e){e.clearItemsState(eo),e.clearItemsState(Hn)})},r}(Di),yl=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return(0,g.ZT)(r,n),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var a=this.context.event;this.context.view.emit("mask:"+t,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,g.pi)({fill:"#C5D4EB",opacity:.3},e)})},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,i=t.x-e.x,a=t.y-e.y;(0,c.S6)(this.points,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var e=(0,c.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,n.prototype.destroy.call(this)},r}(De),aw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.shapeType="circle",t}return(0,g.ZT)(r,n),r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,c.Z$)(this.points),i=0,a=0,o=0;if(t.length){var s=t[0];i=ws(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:i}},r}(yl),Xf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.shapeType="rect",t}return(0,g.ZT)(r,n),r.prototype.getRegion=function(){var t=this.points;return{start:(0,c.YM)(t),end:(0,c.Z$)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,i=t.end;return{x:Math.min(e.x,i.x),y:Math.min(e.y,i.y),width:Math.abs(i.x-e.x),height:Math.abs(i.y-e.y)}},r}(yl);function Vf(n){n.x=(0,c.uZ)(n.x,0,1),n.y=(0,c.uZ)(n.y,0,1)}const Wf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return(0,g.ZT)(r,n),r.prototype.getRegion=function(){var t=null,e=null,i=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,c.YM)(i)),l=o.invert((0,c.Z$)(i));return this.inPlot&&(Vf(s),Vf(l)),"x"===a?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Xf),qf=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,c.S6)(t,function(i,a){e.push(0===a?["M",i.x,i.y]:["L",i.x,i.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(yl),hw=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.getMaskPath=function(){return function(n,r){if(n.length<=2)return wi(n,!1);var t=n[0],e=[];(0,c.S6)(n,function(a){e.push(a.x),e.push(a.y)});var i=Uh(e,!0,null);return i.unshift(["M",t.x,t.y]),i}(this.points)},r}(qf),fw=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(De),pw=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.filterView=function(t,e,i){var a=this;t.getScaleByField(e)&&t.filter(e,i),t.views&&t.views.length&&(0,c.S6)(t.views,function(o){a.filterView(o,e,i)})},r.prototype.filter=function(){var t=Dn(this.context);if(t){var e=this.context.view,i=t.component,a=i.get("field");if(Si(t)){if(a){var o=i.getItemsByState("unchecked"),s=Fn(e,a),l=o.map(function(p){return p.name});this.filterView(e,a,l.length?function(p){var d=s.getText(p);return!l.includes(d)}:null),e.render(!0)}}else if(Wh(t)){var u=i.getValue(),f=u[0],v=u[1];this.filterView(e,a,function(p){return p>=f&&p<=v}),e.render(!0)}}},r}(De);function Jf(n,r,t,e){var i=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=n.range,s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var u=n.invert(i),f=n.invert(a);if(n.isCategory){var v=n.values.indexOf(u),p=n.values.indexOf(f),d=n.values.slice(v,p+1);return function(m){return d.includes(m)}}return function(m){return m>=u&&m<=f}}var Je=(()=>(function(n){n.FILTER="brush-filter-processing",n.RESET="brush-filter-reset",n.BEFORE_FILTER="brush-filter:beforefilter",n.AFTER_FILTER="brush-filter:afterfilter",n.BEFORE_RESET="brush-filter:beforereset",n.AFTER_RESET="brush-filter:afterreset"}(Je||(Je={})),Je))();const ro=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return(0,g.ZT)(r,n),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Ti(this.context)){var a=this.context.event.target.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context,s=o.view,u={view:s,event:o.event,dims:this.dims};s.emit(Je.BEFORE_FILTER,ze.fromData(s,Je.BEFORE_FILTER,u));var f=s.getCoordinate(),v=f.invert(e),p=f.invert(t);if(this.hasDim("x")){var d=s.getXScale(),m=Jf(d,"x",v,p);this.filterView(s,d.field,m)}if(this.hasDim("y")){var x=s.getYScales()[0];m=Jf(x,"y",v,p),this.filterView(s,x.field,m)}this.reRender(s,{source:Je.FILTER}),s.emit(Je.AFTER_FILTER,ze.fromData(s,Je.AFTER_FILTER,u))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(Je.BEFORE_RESET,ze.fromData(t,Je.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:Je.RESET}),t.emit(Je.AFTER_RESET,ze.fromData(t,Je.AFTER_RESET,{}))},r.prototype.filterView=function(t,e,i){t.filter(e,i)},r.prototype.reRender=function(t,e){t.render(!0,e)},r}(De),xl=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.filterView=function(t,e,i){var a=wr(t);(0,c.S6)(a,function(o){o.filter(e,i)})},r.prototype.reRender=function(t){var e=wr(t);(0,c.S6)(e,function(i){i.render(!0)})},r}(ro),yw=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return(0,g.ZT)(r,n),r.prototype.filter=function(){var t=Dn(this.context),e=this.context.view,i=Pe(e);if(Ti(this.context)){var a=Cs(this.context,10);a&&(0,c.S6)(i,function(m){a.includes(m)?m.show():m.hide()})}else if(t){var o=t.component,s=o.get("field");if(Si(t)){if(s){var l=o.getItemsByState("unchecked"),u=Fn(e,s),f=l.map(function(m){return m.name});(0,c.S6)(i,function(m){var x=lr(m,s),P=u.getText(x);f.indexOf(P)>=0?m.hide():m.show()})}}else if(Wh(t)){var v=o.getValue(),p=v[0],d=v[1];(0,c.S6)(i,function(m){var x=lr(m,s);x>=p&&x<=d?m.show():m.hide()})}}},r.prototype.clear=function(){var t=Pe(this.context.view);(0,c.S6)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(De),Qf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.byRecord=!1,t}return(0,g.ZT)(r,n),r.prototype.filter=function(){Ti(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Cs(this.context,10);if(e){var i=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=wr(t);(0,c.S6)(s,function(l){var u=Pe(l);(0,c.S6)(u,function(f){var v=f.getModel().data;Kh(o,v,i,a)?f.show():f.hide()})})}},r.prototype.filterByBBox=function(){var t=this,i=wr(this.context.view);(0,c.S6)(i,function(a){var o=qh(t.context,a,10),s=Pe(a);o&&(0,c.S6)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=wr(this.context.view);(0,c.S6)(t,function(e){var i=Pe(e);(0,c.S6)(i,function(a){a.show()})})},r}(De),Sw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return(0,g.ZT)(r,n),r.prototype.getButtonCfg=function(){return(0,c.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),a=e.addShape({type:"text",name:"button-text",attrs:(0,g.pi)({text:t.text},t.textStyle)}).getBBox(),o=Es(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,g.pi)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var i=this.context.view.getCoordinate().convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=ge.vs(null,[["t",i.x-o.width-10,i.y+o.height+5]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),n.prototype.destroy.call(this)},r}(De),Aw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return(0,g.ZT)(r,n),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,i=this.context.event;this.dragStart?e.emit("drag",{target:i.target,x:i.x,y:i.y}):ws(t,this.startPoint)>4&&(e.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var e=this.context.event;this.context.view.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(De),Bw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return(0,g.ZT)(r,n),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(ws(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=ge.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(De),Kf=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return(0,g.ZT)(r,n),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);e.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},r}(De),kw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return(0,g.ZT)(r,n),r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,(0,c.S6)(this.dims,function(i){var a=t.getScale(i);t.startCache[i]={min:a.min,max:a.max,values:a.values}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(e),s=i.invert(a),l=s.x-o.x,u=s.y-o.y,f=this.context.view;(0,c.S6)(this.dims,function(p){t.translateDim(p,{x:-1*l,y:-1*u})}),f.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,e)}},r.prototype.translateLinear=function(t,e,i){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=i[t]*(l-s);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+f,max:l+f})},r.prototype.reset=function(){n.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Kf),Ow=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.zoomRatio=.05,t}return(0,g.ZT)(r,n),r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this;(0,c.S6)(this.dims,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,e)}},r.prototype.zoomLinear=function(t,e,i){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,f=i*s,v=l-f,p=u+f,m=(p-v)/s;p>v&&m<100&&m>.01&&a.scale(e.field,{nice:!1,min:l-f,max:u+f})},r}(Kf);function Jr(n){return n.isInPlot()}function tv(n){return n.gEvent.preventDefault(),n.gEvent.originalEvent.deltaY>0}var r;r=nc(Vy),Ts[(0,c.vl)("dark")]=ka(r),Ji("canvas",It),Ji("svg",zt),Sr("Polygon",g2),Sr("Interval",s2),Sr("Schema",m2),Sr("Path",$s),Sr("Point",f2),Sr("Line",u2),Sr("Area",Q1),Sr("Edge",$1),Sr("Heatmap",t2),Sr("Violin",C2),Da("base",Is),Da("interval",R2),Da("pie",Y2),Da("polar",pf),Xe("overlap",function(n,r,t,e){var i=new xf;(0,c.S6)(r,function(a){for(var o=a.find(function(d){return"text"===d.get("type")}),s=o.attr(),l=s.x,u=s.y,f=!1,v=0;v<=8;v++){var p=$2(o,l,u,v);if(i.hasGap(p)){i.fillGap(p),f=!0;break}}f||a.remove(!0)}),i.destroy()}),Xe("distribute",function(n,r,t,e){if(n.length&&r.length){var i=n[0]?n[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var f=2*(o+i)+28,v={start:a.start,end:a.end},p=[[],[]];n.forEach(function(d){!d||("right"===d.textAlign?p[0].push(d):p[1].push(d))}),p.forEach(function(d,m){var x=f/14;d.length>x&&(d.sort(function(P,L){return L["..percent"]-P["..percent"]}),d.splice(x,d.length-x)),d.sort(function(P,L){return P.y-L.y}),function(n,r,t,e,i,a){var v,o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),f=Math.abs(s.y-l.y),p=0,d=Number.MIN_VALUE,m=r.map(function(j){return j.y>p&&(p=j.y),j.y<d&&(d=j.y),{size:14,targets:[j.y-u]}});for(d-=u,p-u>f&&(f=p-u);o;)for(m.forEach(function(j){var at=(Math.min.apply(d,j.targets)+Math.max.apply(d,j.targets))/2;j.pos=Math.min(Math.max(d,at-j.size/2),f-j.size)}),o=!1,v=m.length;v--;)if(v>0){var x=m[v-1],P=m[v];x.pos+x.size>P.pos&&(x.size+=P.size,x.targets=x.targets.concat(P.targets),x.pos+x.size>f&&(x.pos=f-x.size),m.splice(v,1),o=!0)}v=0,m.forEach(function(j){var at=u+7;j.targets.forEach(function(){r[v].y=j.pos+at,at+=14,v++})});for(var L={},Z=0,z=n;Z<z.length;Z++){var G=z[Z];L[G.get("id")]=G}r.forEach(function(j){var at=j.r*j.r,Tt=Math.pow(Math.abs(j.y-i.y),2);if(at<Tt)j.x=i.x;else{var kt=Math.sqrt(at-Tt);j.x=a?i.x+kt:i.x-kt}var Yt=L[j.id];Yt.attr("x",j.x),Yt.attr("y",j.y);var Vt=(0,c.sE)(Yt.getChildren(),function(Kt){return"text"===Kt.get("type")});Vt&&(Vt.attr("y",j.y),Vt.attr("x",j.x))})}(r,d,0,v,s,m)})}(0,c.S6)(n,function(d){if(d&&d.labelLine){var m=d.offset,x=d.angle,P=Ae(s.x,s.y,o,x),L=Ae(s.x,s.y,o+m/2,x),Z=d.x+(0,c.U2)(d,"offsetX",0),z=d.y+(0,c.U2)(d,"offsetY",0),G={x:Z-4*Math.cos(x),y:z-4*Math.sin(x)};(0,c.Kn)(d.labelLine)||(d.labelLine={}),d.labelLine.path=["M "+P.x,P.y+" Q"+L.x,L.y+" "+G.x,G.y].join(",")}})}}),Xe("fixed-overlap",function(n,r,t,e){var i=new xf;(0,c.S6)(r,function(a){(function(n,r,t){void 0===t&&(t=100);var u,Z,i=n.attr(),a=i.x,o=i.y,s=n.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f=1,v=0,p=0;if(r.hasGap(s))return r.fillGap(s),!0;for(var m=!1,x=0,P={};Math.min(Math.abs(v),Math.abs(p))<l&&x<t;)if(void 0,p=~~(u=[(Z=.1*(f+=-1))*Math.cos(Z),Z*Math.sin(Z)])[1],((v=~~u[0])||p)&&!P[v+"-"+p]&&(n.attr({x:a+v,y:o+p}),v+p<0&&n.attr("textAlign","right"),x++,r.hasGap(n.getCanvasBBox()))){r.fillGap(n.getCanvasBBox()),m=!0,P[v+"-"+p]=!0;break}return m})(a.find(function(s){return"text"===s.get("type")}),i)||a.remove(!0)}),i.destroy()}),Xe("hide-overlap",function(n,r,t,e){for(var i=0;i<r.length;i++){var a=r[i];if(r[i].get("visible"))for(var o=i+1;o<r.length;o++){var s=r[o];a&&s&&a!==s&&s.get("visible")&&iC(ks(a,n[i],(0,c.U2)(n[i],"background.padding")),ks(s,n[o],(0,c.U2)(n[o],"background.padding")))&&r[o].set("visible",!1)}}}),Xe("limit-in-shape",function(n,r,t,e){(0,c.S6)(r,function(i,a){var o=i.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}),Xe("limit-in-canvas",function(n,r,t,e){(0,c.S6)(r,function(i){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=i.getCanvasBBox(),f=u.minX,v=u.minY,p=u.maxX,d=u.maxY,m=u.x,x=u.y,Z=m,z=x;(f<a||p<a)&&(Z=a),(v<o||d<o)&&(z=o),f>s?Z=s-u.width:p>s&&(Z-=p-s),v>l?z=l-u.height:d>l&&(z-=d-l),(Z!==m||z!==x)&&_i(i,Z-m,z-x)})}),Xe("limit-in-plot",function(n,r,t,e,i){if(!(r.length<=0)){var a=(null==i?void 0:i.direction)||["top","right","bottom","left"],o=(null==i?void 0:i.action)||"translate",s=(null==i?void 0:i.margin)||0,l=r[0].get("coordinate");if(l){var u=function(n,r){void 0===r&&(r=0);var t=n.start,e=n.end,i=n.getWidth(),a=n.getHeight(),o=Math.min(t.x,e.x),s=Math.min(t.y,e.y);return Re.fromRange(o-r,s-r,o+i+r,s+a+r)}(l,s),f=u.minX,v=u.minY,p=u.maxX,d=u.maxY;(0,c.S6)(r,function(m){var x=m.getCanvasBBox(),P=x.minX,L=x.minY,Z=x.maxX,z=x.maxY,G=x.x,j=x.y,at=x.width,Tt=x.height,kt=G,Yt=j;if(a.indexOf("left")>=0&&(P<f||Z<f)&&(kt=f),a.indexOf("top")>=0&&(L<v||z<v)&&(Yt=v),a.indexOf("right")>=0&&(P>p?kt=p-at:Z>p&&(kt-=Z-p)),a.indexOf("bottom")>=0&&(L>d?Yt=d-Tt:z>d&&(Yt-=z-d)),kt!==G||Yt!==j){var Vt=kt-G;"translate"===o?_i(m,Vt,Yt-j):"ellipsis"===o?m.findAll(function(te){return"text"===te.get("type")}).forEach(function(te){var ve=(0,c.ei)(te.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),we=te.getCanvasBBox(),ue=function(n,r,t){var a,i=Ja("...",t);a=(0,c.HD)(n)?n:(0,c.BB)(n);var l,u,o=r,s=[];if(Ja(n,t)<=r)return n;for(;l=a.substr(0,16),!((u=Ja(l,t))+i>o&&u>o);)if(s.push(l),o-=u,!(a=a.substr(16)))return s.join("");for(;l=a.substr(0,1),!((u=Ja(l,t))+i>o);)if(s.push(l),o-=u,!(a=a.substr(1)))return s.join("");return s.join("")+"..."}(te.attr("text"),we.width-Math.abs(Vt),ve);te.attr("text",ue)}):m.hide()}})}}}),Xe("pie-outer",function(n,r,t,e){var i=(0,c.hX)(n,function(at){return!(0,c.UM)(at)}),a=r[0]&&r[0].get("coordinate");if(a){for(var o=a.getCenter(),s=a.getRadius(),l={},u=0,f=r;u<f.length;u++){var v=f[u];l[v.get("id")]=v}var p=(0,c.U2)(i[0],"labelHeight",14),d=(0,c.U2)(i[0],"offset",0);if(!(d<=0)){var x="right",P=(0,c.vM)(i,function(at){return at.x<o.x?"left":x}),L=a.start,Z=a.end,z=Math.min(2*(s+d+p),a.getHeight()),G=z/2,j={minX:L.x,maxX:Z.x,minY:o.y-G,maxY:o.y+G};(0,c.S6)(P,function(at,Tt){var kt=Math.floor(z/p);at.length>kt&&(at.sort(function(Yt,Vt){return Vt.percent-Yt.percent}),(0,c.S6)(at,function(Yt,Vt){Vt+1>kt&&(l[Yt.id].set("visible",!1),Yt.invisible=!0)})),df(at,p,j)}),(0,c.S6)(P,function(at,Tt){(0,c.S6)(at,function(kt){var Yt=Tt===x,Kt=l[kt.id].getChildByIndex(0);if(Kt){var te=s+d,ve=kt.y-o.y,we=Math.pow(te,2),ue=Math.pow(ve,2),Ze=Math.sqrt(we-ue>0?we-ue:0),Me=Math.abs(Math.cos(kt.angle)*te);kt.x=Yt?o.x+Math.max(Ze,Me):o.x-Math.max(Ze,Me)}Kt&&(Kt.attr("y",kt.y),Kt.attr("x",kt.x)),function(n,r){var t=r.getCenter(),e=r.getRadius();if(n&&n.labelLine){var i=n.angle,a=n.offset,o=Ae(t.x,t.y,e,i),s=n.x+(0,c.U2)(n,"offsetX",0)*(Math.cos(i)>0?1:-1),l=n.y+(0,c.U2)(n,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:s-4*Math.cos(i),y:l-4*Math.sin(i)},f=n.labelLine.smooth,v=[],p=u.x-t.x,m=Math.atan((u.y-t.y)/p);if(p<0&&(m+=Math.PI),!1===f){(0,c.Kn)(n.labelLine)||(n.labelLine={});var x=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&u.y>o.y&&(x=1),i>=0&&i<Math.PI/2&&u.y>o.y&&(x=1),i>=Math.PI/2&&i<Math.PI&&o.y>u.y&&(x=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&o.y>u.y&&(x=1);var P=a/2>4?4:Math.max(a/2-1,0),L=Ae(t.x,t.y,e+P,i),Z=Ae(t.x,t.y,e+a/2,m);v.push("M "+o.x+" "+o.y),v.push("L "+L.x+" "+L.y),v.push("A "+t.x+" "+t.y+" 0 0 "+x+" "+Z.x+" "+Z.y),v.push("L "+u.x+" "+u.y)}else{L=Ae(t.x,t.y,e+(a/2>4?4:Math.max(a/2-1,0)),i);var G=o.x<t.x?1:-1;v.push("M "+u.x+" "+u.y),Math.abs((o.y-t.y)/(o.x-t.x)-(u.y-t.y)/(u.x-t.x))>Math.pow(Math.E,-16)&&v.push.apply(v,["C",u.x+4*G,u.y,2*L.x-o.x,2*L.y-o.y,o.x,o.y]),v.push("L "+o.x+" "+o.y)}n.labelLine.path=v.join(" ")}}(kt,a)})})}}}),Xe("adjust-color",function(n,r,t){if(0!==t.length){var i=t[0].get("element").geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(l,u){var v=r[u].find(function(L){return"text"===L.get("type")}),p=Re.fromObject(l.getBBox()),d=Re.fromObject(v.getCanvasBBox()),m=!p.contains(d),P=function(n){var r=ei.toRGB(n).toUpperCase();if(Sf[r])return Sf[r];var t=ei.rgb2arr(r);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(l.attr("fill"));m?v.attr(i.overflowLabels.style):P?o&&v.attr("fill",o):s&&v.attr("fill",s)})}}),Xe("interval-adjust-position",function(n,r,t){var e;if(0!==t.length){var i=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=null==i?void 0:i.geometry;a&&"interval"===a.type&&function(n,r,t){return!!n.getAdjust("stack")||r.every(function(i,a){return function(n,r,t){var e=n.coordinate,i=Xr(r),a=Re.fromObject(i.getCanvasBBox()),o=Re.fromObject(t.getBBox());return e.isTransposed?o.height>=a.height:o.width>=a.width}(n,i,t[a])})}(a,r,t)&&t.forEach(function(s,l){!function(n,r,t){var e=n.coordinate,i=Re.fromObject(t.getBBox());Xr(r).attr(e.isTransposed?{x:i.minX+i.width/2,textAlign:"center"}:{y:i.minY+i.height/2,textBaseline:"middle"})}(a,r[l],s)})}}),Xe("interval-hide-overlap",function(n,r,t){var e;if(0!==t.length){var i=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=null==i?void 0:i.geometry;if(a&&"interval"===a.type){var p,o=function(n){var t=[],e=Math.max(Math.floor(n.length/500),1);return(0,c.S6)(n,function(i,a){a%e==0?t.push(i):i.set("visible",!1)}),t}(r),s=a.getXYFields()[0],l=[],u=[],f=(0,c.vM)(o,function(x){return x.get("data")[s]}),v=(0,c.jj)((0,c.UI)(o,function(x){return x.get("data")[s]}));o.forEach(function(x){x.set("visible",!0)});var d=function(x){x&&(x.length&&u.push(x.pop()),u.push.apply(u,x))};for((0,c.dp)(v)>0&&(p=v.shift(),d(f[p])),(0,c.dp)(v)>0&&(p=v.pop(),d(f[p])),(0,c.S6)(v.reverse(),function(x){d(f[x])});u.length>0;){var m=u.shift();m.get("visible")&&(Dy(m,l)?m.set("visible",!1):l.push(m))}}}}),Xe("point-adjust-position",function(n,r,t,e,i){var a,o;if(0!==t.length){var s=null===(a=t[0])||void 0===a?void 0:a.get("element"),l=null==s?void 0:s.geometry;if(l&&"point"===l.type){var u=l.getXYFields(),f=u[0],v=u[1],p=(0,c.vM)(r,function(x){return x.get("data")[f]}),d=[],m=i&&i.offset||(null===(o=n[0])||void 0===o?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(p).reverse(),function(x){for(var P=function(n,r){var t=n.getXYFields()[1],e=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&e.push(i.shift()),i.length>0&&e.push(i.pop()),e.push.apply(e,i),e}(l,p[x]);P.length;){var L=P.shift(),Z=Xr(L);if(Tf(d,L,function(j,at){return j.get("data")[f]===at.get("data")[f]&&j.get("data")[v]===at.get("data")[v]}))Z.set("visible",!1);else{var G=!1;bf(d,L)&&(Z.attr("y",Z.attr("y")+2*m),G=bf(d,L)),G?Z.set("visible",!1):d.push(L)}}})}}}),Xe("pie-spider",function(n,r,t,e){var i=r[0]&&r[0].get("coordinate");if(i){for(var a=i.getCenter(),o=i.getRadius(),s={},l=0,u=r;l<u.length;l++){var f=u[l];s[f.get("id")]=f}var v=(0,c.U2)(n[0],"labelHeight",14),p=Math.max((0,c.U2)(n[0],"offset",0),4);(0,c.S6)(n,function(at){if((0,c.U2)(s,[at.id])){var kt=at.x>a.x||at.x===a.x&&at.y>a.y,Yt=(0,c.UM)(at.offsetX)?4:at.offsetX,Vt=Ae(a.x,a.y,o+4,at.angle);at.x=a.x+(kt?1:-1)*(o+(p+Yt)),at.y=Vt.y}});var d=i.start,m=i.end,P="right",L=(0,c.vM)(n,function(at){return at.x<a.x?"left":P}),Z=2*(o+p)+v;(0,c.S6)(L,function(at){var Tt=at.length*v;Tt>Z&&(Z=Math.min(Tt,Math.abs(d.y-m.y)))});var z={minX:d.x,maxX:m.x,minY:a.y-Z/2,maxY:a.y+Z/2};(0,c.S6)(L,function(at,Tt){var kt=Z/v;at.length>kt&&(at.sort(function(Yt,Vt){return Vt.percent-Yt.percent}),(0,c.S6)(at,function(Yt,Vt){Vt>kt&&(s[Yt.id].set("visible",!1),Yt.invisible=!0)})),df(at,v,z)});var G=z.minY,j=z.maxY;(0,c.S6)(L,function(at,Tt){var kt=Tt===P;(0,c.S6)(at,function(Yt){var Vt=(0,c.U2)(s,Yt&&[Yt.id]);if(Vt){if(Yt.y<G||Yt.y>j)return void Vt.set("visible",!1);var Kt=Vt.getChildByIndex(0),te=Kt.getCanvasBBox(),ve={x:kt?te.x:te.maxX,y:te.y+te.height/2};_i(Kt,Yt.x-ve.x,Yt.y-ve.y),Yt.labelLine&&function(n,r,t){var f,e=r.getCenter(),i=r.getRadius(),a={x:n.x-(t?4:-4),y:n.y},o=Ae(e.x,e.y,i+4,n.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=Ae(e.x,e.y,i,n.angle);if(a.y!==o.y){var v=t?4:-4;s.y=a.y,n.angle<0&&n.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-v),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-v))),n.angle>0&&n.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-v),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-v))),n.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-v),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-v))),n.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-v),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-v)))}f=["M "+a.x+","+a.y,"L "+s.x+","+s.y,"L "+l.x+","+l.y,"L "+o.x+","+o.y,"L "+u.x+","+u.y].join(" "),n.labelLine=(0,c.b$)({},n.labelLine,{path:f})}(Yt,i,kt)}})})}}),Xe("path-adjust-position",function(n,r,t,e,i){var a,o;if(0!==t.length){var s=null===(a=t[0])||void 0===a?void 0:a.get("element"),l=null==s?void 0:s.geometry;if(l&&!(["path","line","area"].indexOf(l.type)<0)){var u=l.getXYFields(),f=u[0],v=u[1],p=(0,c.vM)(r,function(x){return x.get("data")[f]}),d=[],m=i&&i.offset||(null===(o=n[0])||void 0===o?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(p).reverse(),function(x){for(var P=function(n,r){var t=n.getXYFields()[1],e=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&e.push(i.shift()),i.length>0&&e.push(i.pop()),e.push.apply(e,i),e}(l,p[x]);P.length;){var L=P.shift(),Z=Xr(L);if(Af(d,L,function(j,at){return j.get("data")[f]===at.get("data")[f]&&j.get("data")[v]===at.get("data")[v]}))Z.set("visible",!1);else{var G=!1;_f(d,L)&&(Z.attr("y",Z.attr("y")+2*m),G=_f(d,L)),G?Z.set("visible",!1):d.push(L)}}})}}}),qe("fade-in",function(n,r,t){var e={fillOpacity:(0,c.UM)(n.attr("fillOpacity"))?1:n.attr("fillOpacity"),strokeOpacity:(0,c.UM)(n.attr("strokeOpacity"))?1:n.attr("strokeOpacity"),opacity:(0,c.UM)(n.attr("opacity"))?1:n.attr("opacity")};n.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),n.animate(e,r)}),qe("fade-out",function(n,r,t){n.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r.duration,r.easing,function(){n.remove(!0)},r.delay)}),qe("grow-in-x",function(n,r,t){sl(n,r,t.coordinate,t.minYPoint,"x")}),qe("grow-in-xy",function(n,r,t){sl(n,r,t.coordinate,t.minYPoint,"xy")}),qe("grow-in-y",function(n,r,t){sl(n,r,t.coordinate,t.minYPoint,"y")}),qe("scale-in-x",function(n,r,t){var e=n.getBBox(),a=n.get("origin").mappingData.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;n.applyToMatrix([o,s,1]);var l=ge.vs(n.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);n.setMatrix(l),n.animate({matrix:ge.vs(n.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}),qe("scale-in-y",function(n,r,t){var e=n.getBBox(),i=n.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;n.applyToMatrix([a,s,1]);var l=ge.vs(n.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);n.setMatrix(l),n.animate({matrix:ge.vs(n.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}),qe("wave-in",function(n,r,t){var e=Dh(t.coordinate,20),o=e.endState,s=n.setClip({type:e.type,attrs:e.startState});s.animate(o,(0,g.pi)((0,g.pi)({},r),{callback:function(){n&&!n.get("destroyed")&&n.set("clipShape",null),s.remove(!0)}}))}),qe("zoom-in",function(n,r,t){ll(n,r,"zoomIn")}),qe("zoom-out",function(n,r,t){ll(n,r,"zoomOut")}),qe("position-update",function(n,r,t){var e=t.toAttrs,i=e.x,a=e.y;delete e.x,delete e.y,n.attr(e),n.animate({x:i,y:a},r)}),qe("sector-path-update",function(n,r,t){var e=t.toAttrs,i=t.coordinate,a=e.path||[],o=a.map(function(Z){return Z[0]});if(!(a.length<1)){var s=Pf(a),l=s.startAngle,u=s.endAngle,f=s.radius,v=s.innerRadius,p=Pf(n.attr("path")),d=p.startAngle,m=p.endAngle,x=i.getCenter(),P=l-d,L=u-m;if(0===P&&0===L)return void n.attr("path",a);n.animate(function(Z){var z=d+Z*P,G=m+Z*L;return(0,g.pi)((0,g.pi)({},e),{path:(0,c.Xy)(o,["M","A","A","Z"])?Ih(x.x,x.y,f,z,G):Yr(x.x,x.y,f,z,G,v)})},(0,g.pi)((0,g.pi)({},r),{callback:function(){n.attr("path",a)}}))}}),qe("path-in",function(n,r,t){var e=n.getTotalLength();n.attr("lineDash",[e]),n.animate(function(i){return{lineDashOffset:(1-i)*e}},r)}),On("rect",VC),On("mirror",UC),On("list",YC),On("matrix",HC),On("circle",zC),On("tree",qC),Rn("axis",KC),Rn("legend",iM),Rn("tooltip",Cy),Rn("annotation",jC),Rn("slider",oM),Rn("scrollbar",hM),ie("tooltip",Zf),ie("sibling-tooltip",mM),ie("ellipsis-text",xM),ie("element-active",SM),ie("element-single-active",LM),ie("element-range-active",EM),ie("element-highlight",dl),ie("element-highlight-by-x",FM),ie("element-highlight-by-color",OM),ie("element-single-highlight",ZM),ie("element-range-highlight",Hf),ie("element-sibling-highlight",Hf,{effectSiblings:!0,effectByRecord:!0}),ie("element-selected",NM),ie("element-single-selected",XM),ie("element-range-selected",GM),ie("element-link-by-color",bM),ie("active-region",pM),ie("list-active",qM),ie("list-selected",$M),ie("list-highlight",ml),ie("list-unchecked",tw),ie("list-checked",rw),ie("legend-item-highlight",ml,{componentNames:["legend"]}),ie("axis-label-highlight",ml,{componentNames:["axis"]}),ie("rect-mask",Xf),ie("x-rect-mask",Wf,{dim:"x"}),ie("y-rect-mask",Wf,{dim:"y"}),ie("circle-mask",aw),ie("path-mask",qf),ie("smooth-path-mask",hw),ie("cursor",fw),ie("data-filter",pw),ie("brush",ro),ie("brush-x",ro,{dims:["x"]}),ie("brush-y",ro,{dims:["y"]}),ie("sibling-filter",xl),ie("sibling-x-filter",xl),ie("sibling-y-filter",xl),ie("element-filter",yw),ie("element-sibling-filter",Qf),ie("element-sibling-filter-record",Qf,{byRecord:!0}),ie("view-drag",Aw),ie("view-move",Bw),ie("scale-translate",kw),ie("scale-zoom",Ow),ie("reset-button",Sw,{name:"reset-button",text:"reset"}),Se("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Se("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Se("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Se("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Se("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Se("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Se("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Se("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Se("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Se("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Se("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Se("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(n){return!n.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(n){return!n.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Se("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jr,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Jr,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Jr,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Se("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Se("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jr,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Jr,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Jr,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Se("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Jr,action:"path-mask:start"},{trigger:"mousedown",isEnable:Jr,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Se("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Se("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Se("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Se("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Se("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Se("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Se("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(n){return tv(n.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(n){return!tv(n.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Se("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var ev=K(9038),Dw=K(2157);const Fw=["pie"];function Rw(n,r){1&n&&(h._uU(0," \u8b66\u60c5\u8d8b\u52bf\u56fe "),h._UZ(1,"small",38))}function zw(n,r){1&n&&(h._uU(0," \u6545\u969c\u8d8b\u52bf\u56fe "),h._UZ(1,"small",38))}function Zw(n,r){1&n&&(h._uU(0," \u8054\u7f51\u8bbe\u5907\u5728\u7ebf\u60c5\u51b5 "),h._UZ(1,"small",38))}function Yw(n,r){1&n&&(h._uU(0," \u7535\u8bdd\u6761\u6570/\u77ed\u606f\u6761\u6570\u7edf\u8ba1 "),h._UZ(1,"small",38))}let rv=(()=>{class n{constructor(t,e,i){this.cdr=t,this.apiService=e,this.cdf=i,this.todoData=[{completed:!1,avatar:"6",name:"Forever",content:"Walking through green fields \uff0csunshine in my eyes."}],this.total=0,this.alamItem={count:0,count1:0},this.faultItem={count:0,count1:0},this.warnItem={count:0,count1:0},this.list=[],this.offlineList=[]}ngOnInit(){this.offlineChartData=[{time:1629819221485,y1:47,y2:31,_time:1629819220485}],this.faultList=[{time:1629819221485,y1:47,y2:31,_time:1629819220485}],this.webEventFaultCurveForHome(),this.webEventCurveForHome(),this.webCurrentNumForHome(),this.webEventOnlineCurveForHome(),this.webSmsAndPhoneCurveForHome(),this.salesData=[{x:"1\u6708",y:812},{x:"2\u6708",y:726},{x:"3\u6708",y:1122},{x:"4\u6708",y:1128},{x:"5\u6708",y:334},{x:"6\u6708",y:438},{x:"7\u6708",y:991},{x:"8\u6708",y:924},{x:"9\u6708",y:794},{x:"10\u6708",y:751},{x:"11\u6708",y:557},{x:"12\u6708",y:339}],this.cdr.detectChanges(),this.webSite=[{x:"2021-08-24",y:7},{x:"2021-08-25",y:5},{x:"2021-08-26",y:4},{x:"2021-08-27",y:2},{x:"2021-08-28",y:4},{x:"2021-08-29",y:7},{x:"2021-08-30",y:5},{x:"2021-08-31",y:6},{x:"2021-09-01",y:5},{x:"2021-09-02",y:9},{x:"2021-09-03",y:6},{x:"2021-09-04",y:3},{x:"2021-09-05",y:1},{x:"2021-09-06",y:5},{x:"2021-09-07",y:3},{x:"2021-09-08",y:6}].slice(0,10)}currentNumForHome(){this.apiService.currentNumForHome({}).then(t=>{t&&t.data&&console.log(t)})}eventCurveForHome(){this.apiService.eventCurveForHome({}).then(t=>{t&&t.data&&console.log(t)})}webCurrentNumForHome(){this.apiService.webCurrentNumForHome({}).then(t=>{t&&t.data&&(console.log(t),this.list=t.data,this.alamItem=t.data[0],this.warnItem=t.data[1],this.faultItem=t.data[2],this.deviceItem=t.data[3],this.cdf.markForCheck(),this.cdf.detectChanges())})}webEventOnlineCurveForHome(){this.apiService.webDeviceOnlineCurveForHome({}).then(t=>{if(t&&t.data&&t.data[0]&&t.data[1]){let e=Number(t.data[0].count+t.data[1].count),i=(t.data[0].count/e).toFixed(2),a=(t.data[1].count/e).toFixed(2);const o=[{item:"\u5728\u7ebf",count:t.data[0].count,percent:Number(i)},{item:"\u79bb\u7ebf",count:t.data[1].count,percent:Number(a)}],s=new fc({container:"offlineList",autoFit:!0,height:500});s.coordinate("theta",{radius:.75}),s.data(o),s.scale("percent",{formatter:l=>(100*l).toFixed(0)+"%"}),s.tooltip({showTitle:!1,showMarkers:!1}),s.interval().position("percent").color("item").label("percent",{content:l=>`${l.item}: ${(100*l.percent).toFixed(0)}%`}).adjust("stack"),s.interaction("element-active"),s.render()}else this.offlineList=[]})}webSmsAndPhoneCurveForHome(){const t=new Date;t.setHours(0,0,0,0);const e=new Date(t.getTime()-7776e6);this.apiService.webSmsAndPhoneCurveForHome({queryDateStart:e.getTime(),queryDateEnd:t.getTime()+864e5}).then(i=>{console.log(i);let a=[],s=i.data[1].list;i.data[0].list.forEach(u=>{a.push({name:"\u77ed\u606f",time:u.name,count:u.count})}),s.forEach(u=>{a.push({name:"\u7535\u8bdd",time:u.name,count:u.count})});const l=new fc({container:"smsPhone",autoFit:!0,height:500});l.data(a),l.tooltip({showMarkers:!1,shared:!0}),l.interval().position("time*count").color("name").adjust([{type:"dodge",marginRatio:0}]),l.interaction("active-region"),l.render()})}webEventCurveForHome(){const t=new Date;t.setHours(0,0,0,0);const e=new Date(t.getTime()-2592e6);this.apiService.webEventCurveForHome({firstReportTimeStart:e.getTime(),firstReportTimeEnd:t.getTime()+864e5}).then(i=>{if(i&&i.data&&2==i.data.length){this.alarmList=[],this.warnList=[];let l=[];i.data[0].list.forEach(u=>{this.alarmList.push(u.count),l.push(u.name)}),i.data[1].list.forEach(u=>{this.warnList.push(u.count)});var s,a=document.getElementById("offlineChartData"),o=ev.S1(a);(s={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["\u9884\u8b66","\u544a\u8b66"]},toolbox:{show:!1,feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:l}],yAxis:[{name:"\u6761",type:"value"}],series:[{smooth:!0,name:"\u9884\u8b66",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:this.alarmList,itemStyle:{color:"#FFC409"}},{smooth:!0,name:"\u544a\u8b66",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:this.warnList,itemStyle:{color:"#EB445A"}}]})&&o.setOption(s)}})}webEventFaultCurveForHome(){const t=new Date;t.setHours(0,0,0,0);const e=new Date(t.getTime()-2592e6);let i=[],a=[];this.apiService.webEventFaultCurveForHome({firstReportTimeStart:e.getTime(),firstReportTimeEnd:t.getTime()+864e5}).then(o=>{if(o&&o.data&&3==o.data.length){let p=[];o.data[0].list.forEach(d=>{i.push(d.count),p.push(d.name)}),o.data[1].list.forEach(d=>{a.push(d.count)});var u,s=document.getElementById("faultList"),l=ev.S1(s);(u={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["\u6b20\u538b","\u79bb\u7ebf"]},toolbox:{show:!1,feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:p}],yAxis:[{name:"\u6761",type:"value"}],series:[{name:"\u6b20\u538b",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},smooth:!0,data:i},{smooth:!0,name:"\u79bb\u7ebf",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:a}]})&&l.setOption(u)}})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO),h.Y36(Dw.s),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard-v1"]],viewQuery:function(t,e){if(1&t&&h.Gf(Fw,5),2&t){let i;h.iGM(i=h.CRH())&&(e.pie=i.first)}},decls:96,vars:20,consts:[[1,"alain-default__content-title"],["nz-row","","nzGutter","16"],["nz-col","","nzXs","24","nzSm","12","nzMd","6",1,"mb-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-red","rounded-md"],["nz-col","","nzSpan","8",1,"p-md","text-white",2,"text-align","center"],[1,"icon-box",2,"border","2px #fff solid","border-radius","50px","height","50px","width","50px"],["nz-icon","",1,"anticon","anticon-bell",2,"margin-top","8px"],["viewBox","64 64 896 896","width","2em","height","2em","data-icon","bell","aria-hidden","true"],["d","M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"],["nz-col","","nzSpan","8",1,"p-sm","text-white",2,"text-align","center","padding-left","20px"],[1,"text-nowrap","mb0"],[1,"h3","mt0"],["nz-col","","nzSpan","8",1,"p-sm","text-white",2,"text-align","center"],[1,"text-nowrap","mb0",2,"font-size","12px"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-orange","rounded-md"],[1,"anticon","anticon-warning",2,"margin-top","8px"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","2em","height","2em","data-icon","warning","aria-hidden","true"],["d","M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-success","rounded-md"],["_ngcontent-docs-c140","",1,"anticon","anticon-cloud-server",2,"margin-top","8px"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","2em","height","2em","data-icon","cloud-server","aria-hidden","true"],["d","M704 446H320c-4.4 0-8 3.6-8 8v402c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8V454c0-4.4-3.6-8-8-8zm-328 64h272v117H376V510zm272 290H376V683h272v117z"],["d","M424 748a32 32 0 1064 0 32 32 0 10-64 0zm0-178a32 32 0 1064 0 32 32 0 10-64 0z"],["d","M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-primary","rounded-md"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","2em","height","2em","data-icon","home","aria-hidden","true"],["d","M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"],["nz-col","","nzXs","24","nzMd","12"],[3,"nzTitle","nzBordered"],["growthTitle",""],["id","offlineChartData",2,"height","219px"],[3,"nzBordered","nzTitle"],["salesTitle",""],["id","faultList",2,"height","219px"],["tittle3",""],["id","offlineList",2,"height","219px","width","100%"],["tittle4",""],["id","smsPhone",2,"height","219px","width","100%"],[1,"text-sm","font-weight-normal"]],template:function(t,e){if(1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"h1"),h._uU(2," \u9996\u9875\u7edf\u8ba1 "),h.qZA(),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h.TgZ(5,"div",3),h.TgZ(6,"div",4),h.TgZ(7,"div",5),h.TgZ(8,"i",6),h.O4$(),h.TgZ(9,"svg",7),h._UZ(10,"path",8),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(11,"div",9),h.TgZ(12,"p",10),h._uU(13,"\u4eca\u65e5\u9884\u8b66"),h.qZA(),h.TgZ(14,"div",11),h._uU(15),h.qZA(),h.qZA(),h.TgZ(16,"div",12),h.TgZ(17,"p",13),h._uU(18),h.qZA(),h.TgZ(19,"p",13),h._uU(20),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(21,"div",2),h.TgZ(22,"div",14),h.TgZ(23,"div",4),h.TgZ(24,"div",5),h.TgZ(25,"i",15),h.O4$(),h.TgZ(26,"svg",16),h._UZ(27,"path",17),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(28,"div",9),h.TgZ(29,"p",10),h._uU(30,"\u4eca\u65e5\u6545\u969c"),h.qZA(),h.TgZ(31,"div",11),h._uU(32),h.qZA(),h.qZA(),h.TgZ(33,"div",12),h.TgZ(34,"p",13),h._uU(35),h.qZA(),h.TgZ(36,"p",13),h._uU(37),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(38,"div",2),h.TgZ(39,"div",18),h.TgZ(40,"div",4),h.TgZ(41,"div",5),h.TgZ(42,"i",19),h.O4$(),h.TgZ(43,"svg",20),h._UZ(44,"path",21),h._UZ(45,"path",22),h._UZ(46,"path",23),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(47,"div",9),h.TgZ(48,"p",10),h._uU(49,"\u63a5\u5165\u8bbe\u5907"),h.qZA(),h.TgZ(50,"div",11),h._uU(51),h.qZA(),h.qZA(),h.TgZ(52,"div",12),h.TgZ(53,"p",13),h._uU(54),h.qZA(),h.TgZ(55,"p",13),h._uU(56),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(57,"div",2),h.TgZ(58,"div",24),h.TgZ(59,"div",4),h.TgZ(60,"div",5),h.TgZ(61,"i",6),h.O4$(),h.TgZ(62,"svg",25),h._UZ(63,"path",26),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(64,"div",9),h.TgZ(65,"p",10),h._uU(66,"\u63a5\u5165\u5355\u4f4d"),h.qZA(),h.TgZ(67,"div",11),h._uU(68),h.qZA(),h.qZA(),h.TgZ(69,"div",12),h.TgZ(70,"p",13),h._uU(71),h.qZA(),h.TgZ(72,"p",13),h._uU(73),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(74,"div",1),h.TgZ(75,"div",27),h.TgZ(76,"nz-card",28),h.YNc(77,Rw,2,0,"ng-template",null,29,h.W1O),h._UZ(79,"div",30),h.qZA(),h.qZA(),h.TgZ(80,"div",27),h.TgZ(81,"nz-card",31),h.YNc(82,zw,2,0,"ng-template",null,32,h.W1O),h._UZ(84,"div",33),h.qZA(),h.qZA(),h.qZA(),h.TgZ(85,"div",1),h.TgZ(86,"div",27),h.TgZ(87,"nz-card",28),h.YNc(88,Zw,2,0,"ng-template",null,34,h.W1O),h._UZ(90,"div",35),h.qZA(),h.qZA(),h.TgZ(91,"div",27),h.TgZ(92,"nz-card",31),h.YNc(93,Yw,2,0,"ng-template",null,36,h.W1O),h._UZ(95,"div",37),h.qZA(),h.qZA(),h.qZA()),2&t){const i=h.MAs(78),a=h.MAs(83),o=h.MAs(89),s=h.MAs(94);h.xp6(15),h.hij("",e.alamItem.count+e.warnItem.count+e.alamItem.count1+e.warnItem.count1,"\u6761"),h.xp6(3),h.hij("\u5df2\u5904\u7406 ",e.alamItem.count+e.warnItem.count,"\u6761"),h.xp6(2),h.hij("\u672a\u5904\u7406 ",e.alamItem.count1+e.warnItem.count1,"\u6761"),h.xp6(12),h.hij("",e.faultItem.count+e.faultItem.count1,"\u6761"),h.xp6(3),h.hij("\u5df2\u5904\u7406 ",e.faultItem.count,"\u6761"),h.xp6(2),h.hij("\u5f85\u5904\u7406 ",e.faultItem.count1,"\u6761"),h.xp6(14),h.hij("",e.deviceItem?e.deviceItem.count:0,"\u53f0"),h.xp6(3),h.hij("\u5728\u7ebf:",e.list[5]?e.list[5].count:0,"\u53f0"),h.xp6(2),h.hij("\u5f85\u9886:",e.list[4]?e.list[4].count:0,"\u53f0"),h.xp6(12),h.hij("",e.list[6]?e.list[6].count:0,"\u5bb6"),h.xp6(3),h.hij("\u5efa\u7b51:",e.list[7]?e.list[7].count:0,"\u5e62"),h.xp6(2),h.hij("\u623f\u95f4:",e.list[8]?e.list[8].count:0,"\u95f4"),h.xp6(3),h.Q6J("nzTitle",i)("nzBordered",!1),h.xp6(5),h.Q6J("nzBordered",!1)("nzTitle",a),h.xp6(6),h.Q6J("nzTitle",o)("nzBordered",!1),h.xp6(5),h.Q6J("nzBordered",!1)("nzTitle",s)}},directives:[or.SK,or.t3,q.w,M.Ls,kr.bd],encapsulation:2,changeDetection:0}),n})();var nv=K(3109),Cl=K(3197),iv=K(9374),av=K(5392),Gw=K(5329);const ov=function(){return["/"]};function Hw(n,r){1&n&&(h.TgZ(0,"nz-breadcrumb"),h.TgZ(1,"nz-breadcrumb-item"),h.TgZ(2,"a",23),h._uU(3,"\u9996\u9875"),h.qZA(),h.qZA(),h.TgZ(4,"nz-breadcrumb-item"),h.TgZ(5,"a",23),h._uU(6,"Dashboard"),h.qZA(),h.qZA(),h.TgZ(7,"nz-breadcrumb-item"),h._uU(8,"\u5de5\u4f5c\u53f0"),h.qZA(),h.qZA()),2&n&&(h.xp6(2),h.Q6J("routerLink",h.DdM(2,ov)),h.xp6(3),h.Q6J("routerLink",h.DdM(3,ov)))}function Nw(n,r){1&n&&(h.TgZ(0,"div",24),h.TgZ(1,"div",25),h._UZ(2,"nz-avatar",26),h.qZA(),h.TgZ(3,"div",27),h.TgZ(4,"div",28),h._uU(5,"\u65e9\u5b89\uff0c\u5c71\u6cbb\uff0c\u6211\u8981\u5403\u8089\uff01"),h.qZA(),h.TgZ(6,"div"),h._uU(7,"\u5047\u7816\u5bb6 | \u5730\u7403\uff0d\u4f1f\u5927\u822a\u9053\uff0d\u9ec4\u91d1\u6885\u4e3d\u53f7\uff0d\u53a8\u623f\uff0d\u5c0f\u5f3a\u90e8\u95e8"),h.qZA(),h.qZA(),h.qZA())}function Uw(n,r){1&n&&(h.TgZ(0,"div",29),h.TgZ(1,"div"),h.TgZ(2,"p"),h._uU(3,"\u9879\u76ee\u6570"),h.qZA(),h.TgZ(4,"p"),h._uU(5,"56"),h.qZA(),h.qZA(),h.TgZ(6,"div"),h.TgZ(7,"p"),h._uU(8,"\u56e2\u961f\u5185\u6392\u540d"),h.qZA(),h.TgZ(9,"p"),h._uU(10," 8 "),h.TgZ(11,"span"),h._uU(12," / 24"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(13,"div"),h.TgZ(14,"p"),h._uU(15,"\u9879\u76ee\u8bbf\u95ee"),h.qZA(),h.TgZ(16,"p"),h._uU(17,"2,223"),h.qZA(),h.qZA(),h.qZA())}function Xw(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"a",30),h.NdJ("click",function(){return h.CHM(t),h.oxw().msg.success("to")}),h._uU(1,"\u5168\u90e8\u9879\u76ee"),h.qZA()}}function Vw(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"div",37),h._UZ(1,"nz-avatar",38),h.TgZ(2,"a",30),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw().msg.info("to"+i.href)}),h._uU(3),h.qZA(),h.qZA()}if(2&n){const t=h.oxw().$implicit;h.xp6(1),h.Q6J("nzSrc",t.logo)("nzSize","small"),h.xp6(2),h.Oqu(t.title)}}function Ww(n,r){if(1&n&&(h.TgZ(0,"span",39),h._uU(1),h.ALo(2,"_date"),h.qZA()),2&n){const t=h.oxw().$implicit;h.s9C("title",t.updatedAt),h.xp6(1),h.hij(" ",h.xi3(2,2,t.updatedAt,"fn")," ")}}function qw(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"div",31),h.TgZ(1,"nz-card",32),h.TgZ(2,"nz-card-meta",33),h.YNc(3,Vw,4,3,"ng-template",null,34,h.W1O),h.qZA(),h.TgZ(5,"div",35),h.TgZ(6,"a",30),h.NdJ("click",function(){const a=h.CHM(t).$implicit;return h.oxw().msg.info("show user: "+a.member)}),h._uU(7),h.qZA(),h.YNc(8,Ww,3,5,"span",36),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=r.$implicit,e=h.MAs(4);h.xp6(1),h.Q6J("nzBordered",!1),h.xp6(1),h.Q6J("nzTitle",e)("nzDescription",t.description),h.xp6(5),h.Oqu(t.member),h.xp6(1),h.Q6J("ngIf",t.updatedAt)}}function Jw(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"a",43),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw().msg.success(i.user.name)}),h._uU(1),h.qZA(),h._uU(2," \xa0 "),h._UZ(3,"span",44)}if(2&n){const t=h.oxw().$implicit;h.xp6(1),h.Oqu(t.user.name),h.xp6(2),h.Q6J("innerHTML",t.template,h.oJD)}}function Qw(n,r){if(1&n&&(h.TgZ(0,"span",39),h._uU(1),h.ALo(2,"_date"),h.qZA()),2&n){const t=h.oxw().$implicit;h.s9C("title",t.updatedAt),h.xp6(1),h.Oqu(h.xi3(2,2,t.updatedAt,"fn"))}}function jw(n,r){if(1&n&&(h.TgZ(0,"nz-list-item"),h.TgZ(1,"nz-list-item-meta",40),h.YNc(2,Jw,4,2,"ng-template",null,41,h.W1O),h.YNc(4,Qw,3,5,"ng-template",null,42,h.W1O),h.qZA(),h.qZA()),2&n){const t=r.$implicit,e=h.MAs(3),i=h.MAs(5);h.xp6(1),h.Q6J("nzAvatar",t.user.avatar)("nzTitle",e)("nzDescription",i)}}function $w(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"a",30),h.NdJ("click",function(){const a=h.CHM(t).$implicit;return h.oxw().msg.success(a.title)}),h._uU(1),h.qZA()}if(2&n){const t=r.$implicit;h.xp6(1),h.Oqu(t.title)}}function Kw(n,r){if(1&n&&h._UZ(0,"g2-radar",45),2&n){const t=h.oxw();h.Q6J("data",t.radarData)("height",343)("hasLegend",!0)}}function tS(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"div",46),h.TgZ(1,"a",30),h.NdJ("click",function(){const a=h.CHM(t).$implicit;return h.oxw().msg.success(a.title)}),h._UZ(2,"nz-avatar",38),h.TgZ(3,"span",47),h._uU(4),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=r.$implicit;h.Q6J("nzSpan",12),h.xp6(2),h.Q6J("nzSrc",t.logo)("nzSize","small"),h.xp6(2),h.Oqu(t.title)}}const eS=function(){return{"padding-top.px":12,"padding-bottom.px":12}};function rS(n,r){if(1&n){const t=h.EpF();h.TgZ(0,"button",2),h.NdJ("click",function(){return h.CHM(t),h.oxw().add()}),h._uU(1,"\u65b0\u5efa"),h.qZA()}}const nS=[{path:"",redirectTo:"v1",pathMatch:"full"},{path:"v1",component:rv},{path:"analysis",component:Xi},{path:"monitor",component:Do},{path:"workplace",component:(()=>{class n{constructor(t,e,i){this.http=t,this.msg=e,this.cdr=i,this.notice=[],this.activities=[],this.loading=!0,this.links=[{title:"\u64cd\u4f5c\u4e00",href:""},{title:"\u64cd\u4f5c\u4e8c",href:""},{title:"\u64cd\u4f5c\u4e09",href:""},{title:"\u64cd\u4f5c\u56db",href:""},{title:"\u64cd\u4f5c\u4e94",href:""},{title:"\u64cd\u4f5c\u516d",href:""}],this.members=[{id:"members-1",title:"\u79d1\u5b66\u642c\u7816\u7ec4",logo:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",link:""},{id:"members-2",title:"\u7a0b\u5e8f\u5458\u65e5\u5e38",logo:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",link:""},{id:"members-3",title:"\u8bbe\u8ba1\u5929\u56e2",logo:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",link:""},{id:"members-4",title:"\u4e2d\u4e8c\u5c11\u5973\u56e2",logo:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",link:""},{id:"members-5",title:"\u9a97\u4f60\u5b66\u8ba1\u7b97\u673a",logo:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",link:""}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ut.lP),h.Y36(Jn.dD),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard-workplace"]],decls:30,vars:23,consts:[[3,"breadcrumb","content","extra"],["breadcrumb",""],["content",""],["extra",""],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","16"],["nzTitle","\u8fdb\u884c\u4e2d\u7684\u9879\u76ee",1,"ant-card__body-nopadding","mb-lg","project-list",3,"nzExtra","nzBordered","nzLoading"],["ingExtra",""],["nz-card-grid","","class","project-grid",4,"ngFor","ngForOf"],["nzTitle","\u52a8\u6001",1,"ant-card__body-nopadding","mb-lg","active-card",3,"nzBordered","nzLoading"],["nzSize","large",1,"activities"],[4,"ngFor","ngForOf"],["nz-col","","nzXs","24","nzSm","24","nzMd","8"],["nzTitle","\u5feb\u901f\u5f00\u59cb / \u4fbf\u6377\u5bfc\u822a",1,"ant-card__body-nopadding","mb-lg",3,"nzBordered"],[1,"links"],[3,"click",4,"ngFor","ngForOf"],["nz-button","",3,"nzType","nzSize","click"],["nz-icon","","nzType","plus"],["nzTitle","XX \u6307\u6570",1,"mb-lg",3,"nzBordered","nzLoading"],[3,"data","height","hasLegend",4,"ngIf"],["nzTitle","\u56e2\u961f",1,"mb-lg",3,"nzBordered","nzBodyStyle"],[1,"members"],["nz-col","",3,"nzSpan",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"content"],[1,"avatar"],["nzSrc","https://gw.alipayobjects.com/zos/rmsportal/lctvVCLfRpYCkYxAsiVQ.png"],[1,"desc"],[1,"desc-title"],[1,"page-extra"],[3,"click"],["nz-card-grid","",1,"project-grid"],[1,"ant-card__body-nopadding","mb0",3,"nzBordered"],[3,"nzTitle","nzDescription"],["noticeTitle",""],[1,"project-item"],["class","datetime",3,"title",4,"ngIf"],[1,"card-title"],[3,"nzSrc","nzSize"],[1,"datetime",3,"title"],[3,"nzAvatar","nzTitle","nzDescription"],["activeTitle",""],["activeDescription",""],[1,"username",3,"click"],[1,"event",3,"innerHTML"],[3,"data","height","hasLegend"],["nz-col","",3,"nzSpan"],[1,"member"]],template:function(t,e){if(1&t&&(h.TgZ(0,"page-header",0),h.YNc(1,Hw,9,4,"ng-template",null,1,h.W1O),h.YNc(3,Nw,8,0,"ng-template",null,2,h.W1O),h.YNc(5,Uw,18,0,"ng-template",null,3,h.W1O),h.qZA(),h.TgZ(7,"div",4),h.TgZ(8,"div",5),h.TgZ(9,"nz-card",6),h.YNc(10,Xw,2,0,"ng-template",null,7,h.W1O),h.YNc(12,qw,9,5,"div",8),h.qZA(),h.TgZ(13,"nz-card",9),h.TgZ(14,"nz-list",10),h.YNc(15,jw,6,3,"nz-list-item",11),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"div",12),h.TgZ(17,"nz-card",13),h.TgZ(18,"div",14),h.YNc(19,$w,2,1,"a",15),h.TgZ(20,"button",16),h.NdJ("click",function(){return e.links.push({title:"new titel",href:"href"})}),h._UZ(21,"i",17),h.TgZ(22,"span"),h._uU(23,"\u6dfb\u52a0"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"nz-card",18),h.YNc(25,Kw,1,3,"g2-radar",19),h.qZA(),h.TgZ(26,"nz-card",20),h.TgZ(27,"div",21),h.TgZ(28,"div",4),h.YNc(29,tS,5,4,"div",22),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&t){const i=h.MAs(2),a=h.MAs(4),o=h.MAs(6),s=h.MAs(11);h.Q6J("breadcrumb",i)("content",a)("extra",o),h.xp6(7),h.Q6J("nzGutter",24),h.xp6(2),h.Q6J("nzExtra",s)("nzBordered",!1)("nzLoading",e.loading),h.xp6(3),h.Q6J("ngForOf",e.notice),h.xp6(1),h.Q6J("nzBordered",!1)("nzLoading",e.loading),h.xp6(2),h.Q6J("ngForOf",e.activities),h.xp6(2),h.Q6J("nzBordered",!1),h.xp6(2),h.Q6J("ngForOf",e.links),h.xp6(1),h.Q6J("nzType","dashed")("nzSize","small"),h.xp6(4),h.Q6J("nzBordered",!1)("nzLoading",e.loading),h.xp6(1),h.Q6J("ngIf",e.radarData),h.xp6(1),h.Q6J("nzBordered",!1)("nzBodyStyle",h.DdM(22,eS)),h.xp6(2),h.Q6J("nzGutter",48),h.xp6(1),h.Q6J("ngForOf",e.members)}},directives:[nv.q,or.SK,or.t3,kr.bd,et.sg,Cl.n_,ee.ix,iv.dQ,q.w,M.Ls,et.O5,av.Dg,av.MO,Qn.yS,Gw.Dz,kr.hC,kr.l7,Cl.AA,Cl.yi,Ni],pipes:[Ut.uU],styles:['[_nghost-%COMP%]     .content{display:flex}[_nghost-%COMP%]     .content .avatar{flex:0 1 72px;margin-bottom:8px}[_nghost-%COMP%]     .content .avatar .ant-avatar{display:block;width:72px;height:72px;border-radius:72px}[_nghost-%COMP%]     .content .desc{position:relative;top:4px;flex:1 1 auto;margin-left:24px;color:#00000073;line-height:22px}[_nghost-%COMP%]     .content .desc .desc-title{margin-bottom:12px;color:#000000d9;font-weight:500;font-size:20px;line-height:28px}[_nghost-%COMP%]     .page-extra{float:right;white-space:nowrap}[_nghost-%COMP%]     .page-extra:before{display:table;content:""}[_nghost-%COMP%]     .page-extra:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .page-extra>div{position:relative;display:inline-block;padding:0 32px}[_nghost-%COMP%]     .page-extra>div>p:first-child{margin-bottom:4px;color:#00000073;font-size:14px;line-height:22px}[_nghost-%COMP%]     .page-extra>div>p{margin:0;color:#000000d9;font-size:30px;line-height:38px}[_nghost-%COMP%]     .page-extra>div>p>span{color:#00000073;font-size:20px}[_nghost-%COMP%]     .page-extra>div:after{position:absolute;top:8px;right:0;width:1px;height:40px;background-color:#f0f0f0;content:""}[_nghost-%COMP%]     .page-extra>div:last-child{padding-right:0}[_nghost-%COMP%]     .page-extra>div:last-child:after{display:none}[_nghost-%COMP%]     .project-list .ant-card-meta-description{height:44px;overflow:hidden;color:#00000073;line-height:22px}[_nghost-%COMP%]     .project-list .card-title{font-size:0}[_nghost-%COMP%]     .project-list .card-title a{display:inline-block;height:24px;margin-left:12px;color:#000000d9;font-size:14px;line-height:24px;vertical-align:top}[_nghost-%COMP%]     .project-list .card-title a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-grid{width:33.33%}[_nghost-%COMP%]     .project-list .project-item{display:flex;height:20px;margin-top:8px;font-size:12px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a{display:inline-block;flex:1 1 0;color:#00000073;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-item .datetime{flex:0 0 auto;float:right;color:#00000040}[_nghost-%COMP%]     .activities{padding:0 24px 8px}[_nghost-%COMP%]     .activities .username{color:#000000d9}[_nghost-%COMP%]     .activities .event{font-weight:normal}[_nghost-%COMP%]     .members a{display:block;height:24px;margin:12px 0;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a .member{display:inline-block;max-width:100px;margin-left:12px;color:#000000d9;font-size:14px;line-height:24px;vertical-align:top;transition:all .3s;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a:hover span{color:#1890ff}[_nghost-%COMP%]     .datetime{color:#00000040}[_nghost-%COMP%]     .links{padding:20px 0 8px 24px;font-size:0}[_nghost-%COMP%]     .links>a{display:inline-block;width:25%;margin-bottom:13px;color:#000000d9;font-size:14px}[_nghost-%COMP%]     .links>a:hover{color:#1890ff}@media screen and (max-width: 1200px) and (min-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{margin-left:-44px}[_nghost-%COMP%]     .page-extra>div{padding:0 16px}}@media screen and (max-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{float:none;margin-right:0}[_nghost-%COMP%]     .page-extra>div{padding:0 16px;text-align:left}[_nghost-%COMP%]     .page-extra>div:after{display:none}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .page-extra{margin-left:-16px}[_nghost-%COMP%]     .project-list .project-grid{width:50%}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .content{display:block}[_nghost-%COMP%]     .content .desc{margin-left:0}[_nghost-%COMP%]     .page-extra>div{float:none}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .project-list .project-grid{width:100%}}'],changeDetection:0}),n})()},{path:"statistics",component:(()=>{class n{constructor(t,e){this.http=t,this.modal=e}ngOnInit(){}add(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ut.lP),h.Y36(Ut.Te))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard-statistics"]],decls:5,vars:1,consts:[[3,"action"],["phActionTpl",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(h.TgZ(0,"page-header",0),h.YNc(1,rS,2,0,"ng-template",null,1,h.W1O),h.qZA(),h.TgZ(3,"nz-card"),h._uU(4," \u5f85\u5f00\u53d1...\n"),h.qZA()),2&t){const i=h.MAs(2);h.Q6J("action",i)}},directives:[nv.q,kr.bd,ee.ix,iv.dQ,q.w],encapsulation:2}),n})()}];let iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Qn.Bz.forChild(nS)],Qn.Bz]}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Lo.m8,iS,ne,lt,Le,ke.T,Ie,Ke.y,vr.B,tn,fo,_l,Co,Bl,So.x,Ol,wl,Ll,mt,J]]}),n})()}}]);