"use strict";(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[399],{8492:(R,J,r)=>{r.d(J,{QM:()=>b});var h=r(1841),t=r(7716),z=r(7574),L=r(5730),q=r(6215),P=r(3342),B=r(8002),N=r(2100),D=r(727),v=r(521);const T=new t.OlP("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new A((0,t.f3M)(v.t4))});class A{constructor(E){this.platform=E}get(E){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(E)||"null")||null}set(E,l){return this.platform.isBrowser&&localStorage.setItem(E,JSON.stringify(l)),!0}remove(E){!this.platform.isBrowser||localStorage.removeItem(E)}}let b=(()=>{class x{constructor(l,d,C){this.store=d,this.http=C,this.memory=new Map,this.notifyBuffer=new Map,this.meta=new Set,this.freqTick=3e3,this.cog=l.merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"}),this.loadMeta(),this.startExpireNotify()}deepGet(l,d,C){if(!l)return C;if(d.length<=1){const M=d.length?l[d[0]]:l;return void 0===M?C:M}return d.reduce((M,S)=>M[S],l)||C}pushMeta(l){this.meta.has(l)||(this.meta.add(l),this.saveMeta())}removeMeta(l){!this.meta.has(l)||(this.meta.delete(l),this.saveMeta())}loadMeta(){const l=this.store.get(this.cog.meta_key);l&&l.v&&l.v.forEach(d=>this.meta.add(d))}saveMeta(){const l=[];this.meta.forEach(d=>l.push(d)),this.store.set(this.cog.meta_key,{v:l,e:0})}getMeta(){return this.meta}set(l,d,C={}){let M=0;const{type:S,expire:U}=this.cog;if((C=Object.assign({type:S,expire:U},C)).expire&&(M=(0,N.Z)(new Date,C.expire).valueOf()),d instanceof z.y)return d.pipe((0,P.b)(Q=>{this.save(C.type,l,{v:Q,e:M})}));this.save(C.type,l,{v:d,e:M})}save(l,d,C){"m"===l?this.memory.set(d,C):(this.store.set(this.cog.prefix+d,C),this.pushMeta(d)),this.runNotify(d,"set")}get(l,d={}){const C="none"!==d.mode&&"promise"===this.cog.mode,M=this.memory.has(l)?this.memory.get(l):this.store.get(this.cog.prefix+l);return!M||M.e&&M.e>0&&M.e<(new Date).valueOf()?C?(this.cog.request?this.cog.request(l):this.http.get(l)).pipe((0,B.U)(S=>this.deepGet(S,this.cog.reName,null)),(0,P.b)(S=>this.set(l,S,{type:d.type,expire:d.expire}))):null:C?(0,L.of)(M.v):M.v}getNone(l){return this.get(l,{mode:"none"})}tryGet(l,d,C={}){const M=this.getNone(l);return null===M?d instanceof z.y?this.set(l,d,C):(this.set(l,d,C),d):(0,L.of)(M)}has(l){return this.memory.has(l)||this.meta.has(l)}_remove(l,d){d&&this.runNotify(l,"remove"),this.memory.has(l)?this.memory.delete(l):(this.store.remove(this.cog.prefix+l),this.removeMeta(l))}remove(l){this._remove(l,!0)}clear(){this.notifyBuffer.forEach((l,d)=>this.runNotify(d,"remove")),this.memory.clear(),this.meta.forEach(l=>this.store.remove(this.cog.prefix+l))}set freq(l){this.freqTick=Math.max(20,l),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){const l=[];this.notifyBuffer.forEach((d,C)=>{this.has(C)&&null===this.getNone(C)&&l.push(C)}),l.forEach(d=>{this.runNotify(d,"expire"),this._remove(d,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(l,d){!this.notifyBuffer.has(l)||this.notifyBuffer.get(l).next({type:d,value:this.getNone(l)})}notify(l){if(!this.notifyBuffer.has(l)){const d=new q.X(this.getNone(l));this.notifyBuffer.set(l,d)}return this.notifyBuffer.get(l).asObservable()}cancelNotify(l){!this.notifyBuffer.has(l)||(this.notifyBuffer.get(l).unsubscribe(),this.notifyBuffer.delete(l))}hasNotify(l){return this.notifyBuffer.has(l)}clearNotify(){this.notifyBuffer.forEach(l=>l.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}}return x.\u0275fac=function(l){return new(l||x)(t.LFG(D.Ri),t.LFG(T),t.LFG(h.eN))},x.\u0275prov=t.Yz7({factory:function(){return new x(t.LFG(D.Ri),t.LFG(T),t.LFG(h.eN))},token:x,providedIn:"root"}),x})()},8644:(R,J,r)=>{r.d(J,{a:()=>W});var h=r(1636),t=r(7716),z=r(665),L=r(3630),q=r(2157),P=r(1147),B=r(8058),N=r(3423),D=r(3109),v=r(5392),T=r(7018),A=r(6704),b=r(5887),y=r(1244),x=r(7674),E=r(269),l=r(8583),d=r(4295),C=r(4514),M=r(324),S=r(4411),U=r(4453),Q=r(9374),k=r(3654);function H(f,F){if(1&f&&t._UZ(0,"nz-option",58),2&f){const s=F.$implicit;t.Q6J("nzLabel",s.name)("nzValue",s.id)}}function I(f,F){if(1&f){const s=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){return t.CHM(s),t.oxw().showMap()}),t.O4$(),t.TgZ(1,"svg",60),t._UZ(2,"path",61),t.qZA(),t.qZA()}}function w(f,F){if(1&f&&t._UZ(0,"nz-option",58),2&f){const s=F.$implicit;t.Q6J("nzLabel",s.name)("nzValue",s.id)}}function m(f,F){if(1&f&&t._UZ(0,"nz-option",58),2&f){const s=F.$implicit;t.Q6J("nzLabel",s.name)("nzValue",s.id)}}function c(f,F){if(1&f&&t._UZ(0,"nz-option",58),2&f){const s=F.$implicit;t.Q6J("nzLabel",s.name)("nzValue",s.id)}}function O(f,F){if(1&f&&t._UZ(0,"nz-option",58),2&f){const s=F.$implicit;t.Q6J("nzLabel",s.setName)("nzValue",s.id)}}const Z=function(f){return{display:f}};let W=(()=>{class f{constructor(s,_,p,u,K,Y,$,j){this.fb=s,this.modal=_,this.apiService=p,this.enumService=u,this.global=K,this.msg=Y,this.router=$,this.activatedRoute=j,this.tabs=[{name:"\u57fa\u672c\u4fe1\u606f",temp:1},{name:"\u5efa\u7b51\u4fe1\u606f",temp:2},{name:"\u5efa\u7b51\u56fe\u7eb8",temp:3},{name:"\u5546\u52a1\u5408\u540c",temp:4},{name:"\u7d27\u6025\u8054\u7cfb\u4eba",temp:5},{name:"\u6d88\u9632\u8bbe\u65bd",temp:6},{name:"\u5355\u4f4d\u8d26\u53f7",temp:7}],this.submitting=!1,this.isShowMap="none",this.inputAddress="",this.latEdit=0,this.lngEdit=0,this.containerId=`${(new Date).getTime()}`,this.scale=16,this.logoImg=[],this.certImage=[],this.doorwayImages=[],this.orgType=0,this.industry=0,this.name="",this.locationConfig=h.x.getCityConfig(),this.location={provinceId:-1},this.mapOptions={zoom:this.scale},this.lng=120.133718,this.lat=30.261314,this.map=void 0,this.placeInfo={},this.locationCache=[0,0],this.latEdit=0,this.lngEdit=0,this.orgAttributeFindAll(),this.industryTypeFindAll(),this.notifyRuleSearchSetList()}industryTypeFindAll(){this.apiService.industryTypeFindAll().then(s=>{s&&s.data&&(this.industryArr=s.data)})}orgAttributeFindAll(){this.apiService.orgAttributeFindAll().then(s=>{s&&s.data&&(this.industryCategoryArr=s.data)})}onLocationSelect(s){this.location=s}onChange(s){this.serveStartTime=new Date(new Date(new Date(s[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(s[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}orgTypeFindAll(){this.apiService.orgTypeFindAll().then(s=>{s&&s.data&&(this.orgTypeArr=s.data)})}getOperationList(){this.apiService.getOperationList().then(s=>{s&&s.data&&(this.operationList=s.data)})}notifyRuleSearchSetList(){this.apiService.notifyRuleSearchSetList({}).then(s=>{s&&s.data&&(s.data.forEach((_,p)=>{_.index=p}),this.notifyRuleList=s.data)})}ngOnInit(){this.orgTypeFindAll(),this.getOperationList(),console.log(this.enumService),this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0,businessStatus:1}}add(){this.data.orgName?this.data.operateId?this.data.notifyRuleSetId?this.lngEdit&&this.latEdit?(this.data.longitude=this.lngEdit,this.data.latitude=this.latEdit,console.log(this.data),this.data.provinceId=this.location.provinceId,this.data.cityId=this.location.cityId,this.data.districtId=this.location.districtId,this.data.serveStartTime=this.serveStartTime,this.data.serveEndTime=this.serveEndTime,this.data.notifyRuleSetId=1,this.data.certImage=this.certImage[0]?JSON.stringify(this.certImage):"",this.data.images=this.doorwayImages[0]?JSON.stringify(this.doorwayImages):"",this.data.logo=this.logoImg[0]?JSON.stringify(this.logoImg):"",this.apiService.addOrg(this.data).then(s=>{s&&s.success?(this.msg.success("\u521b\u5efa\u6210\u529f"),this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0},this.imagesList=[],this.logoImg=[],this.certImage=[]):this.msg.error(s&&s.message?s.message:"\u521b\u5efa\u5931\u8d25")})):this.msg.error("\u70b9\u51fb\u8be6\u7ec6\u5730\u5740\u53f3\u8fb9\u6309\u94ae,\u9009\u62e9\u8be6\u7ec6\u5b9a\u4f4d\u5730\u5740"):this.msg.error("\u9009\u62e9\u63a8\u9001\u89c4\u5219"):this.msg.error("\u8bf7\u9009\u62e9\u8054\u7f51\u5355\u4f4d\u5f52\u5c5e\u7684\u8fd0\u8425\u4e2d\u5fc3"):this.msg.error("\u8bf7\u586b\u5199\u8054\u7f51\u5355\u4f4d\u540d\u79f0")}back(){this.router.navigate([".."],{relativeTo:this.activatedRoute})}getDoorwayImages(s){this.doorwayImages=s}getLogoImg(s){this.logoImg=s}getCertImage(s){this.certImage=s}showMap(){this.isShowMap="block"}sureAddress(){!this.data.address&&this.inputAddress&&(this.data.address=this.inputAddress),this.isShowMap="none"}ngAfterViewInit(){this.initMap([this.lng,this.lat])}initMap(s){this.position=new window.AMap.LngLat(this.lng,this.lat),this.locationCache=s,this.mapOptions.center=this.lng&&this.lat?[this.lng,this.lat]:s,this.map=new AMap.Map(this.containerId,this.mapOptions);let p=new AMap.Autocomplete({input:"tipinput"});this.geocoder=new AMap.Geocoder({radius:1e3}),this.placeSearch=new AMap.PlaceSearch({map:this.map}),AMap.event.addListener(p,"select",u=>{console.log(u),this.lngEdit=u.poi.location.lng,this.latEdit=u.poi.location.lat,this.map.setCenter([this.lngEdit,this.latEdit]),this.setMarker(u.poi.location.lng,u.poi.location.lat)}),this.map.on("click",u=>{this.lngEdit=u.lnglat.getLng(),this.latEdit=u.lnglat.getLat(),this.regeoCode(this.lngEdit+","+this.latEdit),this.setMarker(u.lnglat.getLng(),u.lnglat.getLat())})}regeoCode(s){this.geocoder.getAddress(s,(_,p)=>{"complete"===_&&p.regeocode?this.data.address=p.regeocode.formattedAddress:console.log("\u6839\u636e\u7ecf\u7eac\u5ea6\u67e5\u8be2\u5730\u5740\u5931\u8d25")})}clearMarker(){this.marker&&this.map.remove(this.marker)}setMarker(s,_){this.clearMarker(),this.marker=new AMap.Marker({position:[s,_],content:"<div class='img-box'>\n      <img src='assets/marker.jpg' id='animat' style='width:60px ;position:relative;animation:mymove 5s infinite;-webkit-animation:mymove 5s infinite; animation-direction:alternate;animation-timing-function: ease-in-out;-webkit-animation:mymove 5s infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function: ease-in-out;'/> </div>",offset:new AMap.Pixel(-12,-12)}),this.map.add(this.marker)}}return f.\u0275fac=function(s){return new(s||f)(t.Y36(z.qu),t.Y36(L.Te),t.Y36(q.s),t.Y36(P.t),t.Y36(h.x),t.Y36(B.dD),t.Y36(N.F0),t.Y36(N.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-org-add"]],decls:102,vars:36,consts:[[3,"click"],["nz-form","","se-container","2"],["f","ngForm"],["label","\u5355\u4f4d\u5168\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0","name","orgName",3,"ngModel","ngModelChange"],["label","\u4fe1\u7528\u4ee3\u7801","error","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801","name","certSerial",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd","name","tel",3,"ngModel","ngModelChange"],["label","\u4f01\u4e1a\u79cd\u7c7b"],["nzPlaceHolder","\u9009\u62e9\u4f01\u4e1a\u79cd\u7c7b","name","ownershipType",2,"min-width","80px",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["label","\u6240\u5c5e\u8f96\u533a","col","1"],[3,"locationInfo","sizes","onLocationSelect"],["label","\u8be6\u7ec6\u5730\u5740","col","1","required",""],["nzSearch","",2,"width","50%",3,"nzAddOnAfter"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5730\u5740","name","address",3,"ngModel","ngModelChange"],["suffixIconButton",""],["label","\u5355\u4f4d\u6cd5\u4eba"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u6cd5\u4eba","name","legalPerson",3,"ngModel","ngModelChange"],["label","\u6240\u5c5e\u884c\u4e1a"],["nzPlaceHolder","\u9009\u62e9\u6240\u5c5e\u884c\u4e1a","name","industry",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u7269\u4e1a\u7c7b\u578b"],["nzPlaceHolder","\u9009\u62e9\u7269\u4e1a\u7c7b\u578b","name","industryCategory",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8425\u4e1a\u72b6\u6001"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u670d\u52a1\u72b6\u6001","name","businessStatus",3,"ngModel","ngModelChange"],["nzLabel","\u6b63\u5e38","nzValue","1"],["nzLabel","\u505c\u4e1a","nzValue","2"],["nzLabel","\u88c5\u4fee","nzValue","3"],["label","\u5355\u4f4d\u7b80\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0","name","orgShortName",3,"ngModel","ngModelChange"],["label","\u8fd0\u8425\u4e2d\u5fc3","required",""],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","operateId",3,"ngModel","ngModelChange"],["label","\u63a8\u9001\u89c4\u5219","required",""],["nzShowSearch","","nzPlaceHolder","\u9009\u62e9\u63a8\u9001\u89c4\u5219","name","operateId",3,"ngModel","ngModelChange"],["label","\u670d\u52a1\u65f6\u95f4"],["name","date",3,"ngModel","ngModelChange"],["label","\u8054\u7f51\u5355\u4f4dLogo"],[3,"fileList","imgSize","fileListOut"],["label","\u8425\u4e1a\u6267\u7167\u56fe\u7247"],["label","\u95e8\u5934\u56fe\u7247"],["col","1",2,"text-align","center"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-button","",3,"click"],[1,"map-bg",3,"ngStyle"],[1,"bgs"],[1,"map-container",3,"id"],[1,"input-card",2,"width","600px"],[2,"color","grey"],[1,"input-item"],[1,"input-item-prepend"],[1,"input-item-text"],[2,"padding-left","10px"],[2,"padding-left","10px","width","600p"],["id","myPageTop"],["id","tipinput",2,"width","500px","margin-bottom","10px",3,"ngModel","ngModelChange"],[1,"btn-box"],["nz-button","","nzType","primary",3,"click"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","nzSearch","",3,"click"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","environment","aria-hidden","true"],["d","M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"]],template:function(s,_){if(1&s&&(t.TgZ(0,"page-header"),t.TgZ(1,"nz-breadcrumb"),t.TgZ(2,"nz-breadcrumb-item"),t._uU(3," \u9996\u9875 "),t.qZA(),t.TgZ(4,"nz-breadcrumb-item",0),t.NdJ("click",function(){return _.back()}),t.TgZ(5,"a"),t._uU(6,"\u5355\u4f4d\u5217\u8868"),t.qZA(),t.qZA(),t.TgZ(7,"nz-breadcrumb-item"),t._uU(8," \u6dfb\u52a0\u5355\u4f4d "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"nz-card"),t.TgZ(10,"nz-row"),t.TgZ(11,"nz-row"),t.TgZ(12,"form",1,2),t.TgZ(14,"se-title"),t._uU(15,"\u5de5\u5546\u4fe1\u606f"),t.qZA(),t.TgZ(16,"se",3),t.TgZ(17,"input",4),t.NdJ("ngModelChange",function(u){return _.data.orgName=u}),t.qZA(),t.qZA(),t.TgZ(18,"se",5),t.TgZ(19,"input",6),t.NdJ("ngModelChange",function(u){return _.data.certSerial=u}),t.qZA(),t.qZA(),t.TgZ(20,"se",7),t.TgZ(21,"input",8),t.NdJ("ngModelChange",function(u){return _.data.tel=u}),t.qZA(),t.qZA(),t.TgZ(22,"se",9),t.TgZ(23,"nz-select",10),t.NdJ("ngModelChange",function(u){return _.data.ownershipType=u}),t.YNc(24,H,1,2,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(25,"se",12),t.TgZ(26,"location-select",13),t.NdJ("onLocationSelect",function(u){return _.onLocationSelect(u)}),t.qZA(),t.qZA(),t.TgZ(27,"se",14),t.TgZ(28,"nz-input-group",15),t.TgZ(29,"input",16),t.NdJ("ngModelChange",function(u){return _.data.address=u}),t.qZA(),t.qZA(),t.YNc(30,I,3,0,"ng-template",null,17,t.W1O),t.qZA(),t.TgZ(32,"se",18),t.TgZ(33,"input",19),t.NdJ("ngModelChange",function(u){return _.data.legalPerson=u}),t.qZA(),t.qZA(),t.TgZ(34,"se",20),t.TgZ(35,"nz-select",21),t.NdJ("ngModelChange",function(u){return _.data.industry=u}),t.YNc(36,w,1,2,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(37,"se",22),t.TgZ(38,"nz-select",23),t.NdJ("ngModelChange",function(u){return _.data.industryCategory=u}),t.YNc(39,m,1,2,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(40,"se",24),t.TgZ(41,"nz-select",25),t.NdJ("ngModelChange",function(u){return _.data.businessStatus=u}),t._UZ(42,"nz-option",26),t._UZ(43,"nz-option",27),t._UZ(44,"nz-option",28),t.qZA(),t.qZA(),t.TgZ(45,"se-title"),t._uU(46,"\u670d\u52a1\u4fe1\u606f"),t.qZA(),t.TgZ(47,"se",29),t.TgZ(48,"input",30),t.NdJ("ngModelChange",function(u){return _.data.orgShortName=u}),t.qZA(),t.qZA(),t.TgZ(49,"se",31),t.TgZ(50,"nz-select",32),t.NdJ("ngModelChange",function(u){return _.data.operateId=u}),t.YNc(51,c,1,2,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(52,"se",33),t.TgZ(53,"nz-select",34),t.NdJ("ngModelChange",function(u){return _.data.notifyRuleSetId=u}),t.YNc(54,O,1,2,"nz-option",11),t.qZA(),t.qZA(),t.TgZ(55,"se",35),t.TgZ(56,"nz-range-picker",36),t.NdJ("ngModelChange",function(u){return _.date=u})("ngModelChange",function(u){return _.onChange(u)}),t.qZA(),t.qZA(),t.TgZ(57,"se-title"),t._uU(58,"\u56fe\u7247\u4fe1\u606f"),t.qZA(),t.TgZ(59,"se",37),t.TgZ(60,"file-upload",38),t.NdJ("fileListOut",function(u){return _.getLogoImg(u)}),t.qZA(),t.qZA(),t.TgZ(61,"se",39),t.TgZ(62,"file-upload",38),t.NdJ("fileListOut",function(u){return _.getCertImage(u)}),t.qZA(),t.qZA(),t.TgZ(63,"se",40),t.TgZ(64,"file-upload",38),t.NdJ("fileListOut",function(u){return _.getDoorwayImages(u)}),t.qZA(),t.qZA(),t.TgZ(65,"se",41),t.TgZ(66,"button",42),t.NdJ("click",function(){return _.add()}),t._uU(67,"\u786e\u5b9a"),t.qZA(),t.TgZ(68,"button",43),t.NdJ("click",function(){return _.back()}),t._uU(69,"\u8fd4\u56de"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(70,"div",44),t.TgZ(71,"div",45),t._UZ(72,"div",46),t.TgZ(73,"div",47),t.TgZ(74,"label",48),t._uU(75,"\u70b9\u51fb\u5730\u56fe\u83b7\u53d6\u5730\u5740\u4fe1\u606f"),t.qZA(),t.TgZ(76,"div",49),t.TgZ(77,"div",50),t.TgZ(78,"span",51),t._uU(79,"\u7ecf\u7eac\u5ea6"),t.qZA(),t.qZA(),t.TgZ(80,"span",52),t._uU(81),t.qZA(),t.qZA(),t.TgZ(82,"div",49),t.TgZ(83,"div",50),t.TgZ(84,"span",51),t._uU(85,"\u5730\u5740"),t.qZA(),t.qZA(),t.TgZ(86,"span",53),t._uU(87),t.qZA(),t.qZA(),t.TgZ(88,"div",54),t.TgZ(89,"table"),t.TgZ(90,"tr"),t.TgZ(91,"td"),t.TgZ(92,"label"),t._uU(93,"\u6551\u63f4\u70b9(\u70b9\u51fb\u5730\u56fe,\u641c\u7d22\u5730\u5740)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"tr"),t.TgZ(95,"td"),t.TgZ(96,"input",55),t.NdJ("ngModelChange",function(u){return _.inputAddress=u}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(97,"div",56),t.TgZ(98,"button",43),t.NdJ("click",function(){return _.sureAddress()}),t._uU(99,"\u8fd4\u56de"),t.qZA(),t.TgZ(100,"button",57),t.NdJ("click",function(){return _.sureAddress()}),t._uU(101,"\u786e\u5b9a"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const p=t.MAs(13),u=t.MAs(31);t.xp6(17),t.Q6J("ngModel",_.data.orgName),t.xp6(2),t.Q6J("ngModel",_.data.certSerial),t.xp6(2),t.Q6J("ngModel",_.data.tel),t.xp6(2),t.Q6J("ngModel",_.data.ownershipType),t.xp6(1),t.Q6J("ngForOf",_.orgTypeArr),t.xp6(2),t.Q6J("locationInfo",_.location)("sizes",6),t.xp6(2),t.Q6J("nzAddOnAfter",u),t.xp6(1),t.Q6J("ngModel",_.data.address),t.xp6(4),t.Q6J("ngModel",_.data.legalPerson),t.xp6(2),t.Q6J("ngModel",_.data.industry),t.xp6(1),t.Q6J("ngForOf",_.industryArr),t.xp6(2),t.Q6J("ngModel",_.data.industryCategory),t.xp6(1),t.Q6J("ngForOf",_.industryCategoryArr),t.xp6(2),t.Q6J("ngModel",_.data.businessStatus),t.xp6(7),t.Q6J("ngModel",_.data.orgShortName),t.xp6(2),t.Q6J("ngModel",_.data.operateId),t.xp6(1),t.Q6J("ngForOf",_.operationList),t.xp6(2),t.Q6J("ngModel",_.data.notifyRuleSetId),t.xp6(1),t.Q6J("ngForOf",_.notifyRuleList),t.xp6(2),t.Q6J("ngModel",_.date),t.xp6(4),t.Q6J("fileList",_.logoImg)("imgSize","1"),t.xp6(2),t.Q6J("fileList",_.certImage)("imgSize","1"),t.xp6(2),t.Q6J("fileList",_.doorwayImages)("imgSize","5"),t.xp6(2),t.Q6J("disabled",p.invalid),t.xp6(4),t.Q6J("ngStyle",t.VKq(34,Z,_.isShowMap)),t.xp6(2),t.Q6J("id",_.containerId),t.xp6(9),t.AsE(" \u7eac\u5ea6:",_.latEdit?_.latEdit:"\u672a\u9009\u62e9",", \u7ecf\u5ea6:",_.lngEdit?_.latEdit:"\u672a\u9009\u62e9"," "),t.xp6(6),t.hij(" ",_.data.address," "),t.xp6(9),t.Q6J("ngModel",_.inputAddress)}},directives:[D.q,v.Dg,v.MO,T.bd,A.SK,z._Y,z.JL,z.F,b.Lr,y.nV,y.Ou,y.d_,x.Zp,z.Fj,z.JJ,z.On,E.Vq,l.sg,d._,C.w,x.gB,E.Ip,M.uw,M.wS,S.Y,U.ix,Q.dQ,l.PC,k.$Z,k.Uo],styles:[".map-bg[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#00000080;text-align:center;position:absolute;z-index:999;left:0;top:0;right:0}#myPageTop[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}.map-container[_ngcontent-%COMP%]{height:100%;width:100;position:absolute;top:0;left:0;bottom:0;right:0}h3[_ngcontent-%COMP%]{color:#fff;width:100%;height:100px;padding:0 16px;background-color:#1890ff;text-align:center;margin:0;position:absolute;z-index:999;left:0;top:0;right:0}h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:56px;font-size:30px;font-weight:bold;margin:0!important;padding-top:10px}.header-box[_ngcontent-%COMP%]{background:#f8f8f8;text-align:center;padding:25px 0}.header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:200}.header-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;color:#333}.back[_ngcontent-%COMP%]{display:inline-block;float:right;margin-right:20px;cursor:pointer;position:absolute;top:50px;right:50px}.map-box[_ngcontent-%COMP%]{position:absolute;z-index:999;top:100px;right:0;left:0;bottom:0;background:#eee}.table-head[_ngcontent-%COMP%]{border:1px solid #eee;display:inline-flex}.table-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 4px;font-size:14px;flex:1}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f8f8;padding:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px 0;line-height:30px}h5[_ngcontent-%COMP%]{height:50px;font-size:18px;font-weight:200px;line-height:50px;padding-left:20px;border-bottom:1px solid #eee;margin:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.check[_ngcontent-%COMP%]{display:none}.checkRemark[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:70px;display:block}.marker-img[_ngcontent-%COMP%]{width:60px!important}#animat[_ngcontent-%COMP%]{position:relative}.yellow[_ngcontent-%COMP%]{color:#d1d12c}.red[_ngcontent-%COMP%]{color:tomato}.orange[_ngcontent-%COMP%]{color:orange}#video-container-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:0;right:0;left:0;bottom:0;height:100%;background:rgba(0,0,0,.5);display:none}#video-container[_ngcontent-%COMP%]{position:absolute;left:50%;margin:100px auto auto -400px;top:50%}.icon-p[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;top:-3px}.orgInfo-box[_ngcontent-%COMP%]{background:#fff;padding:20px 20px 20px 45px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}.demo-map[_ngcontent-%COMP%]{width:500px;height:500px}.input-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;width:500px;border-width:0;border-radius:.4rem;flex:1 1 auto;padding:.75rem 1.25rem;position:absolute;top:20px;right:20px}.input-item[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:center;width:100%;height:3rem}.input-item-text[_ngcontent-%COMP%]{width:6rem;text-align:justify;padding:.1rem .7rem;display:inline-block;text-justify:distribute-all-lines;text-align-last:justify;-moz-text-align-last:justify;-webkit-text-align-last:justify;align-items:center;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem 0 0 .25rem}#address[_ngcontent-%COMP%]{width:300px}"]}),f})()},3662:(R,J,r)=>{r.d(J,{I:()=>Tt});var h=r(1636),t=r(7716),z=r(3423),L=r(2157),q=r(1147),P=r(8058),B=r(8583),N=r(7018),D=r(4828),v=r(8542),T=r(3654),A=r(665),b=r(4453),y=r(9374),x=r(4514),E=r(3109),l=r(5392),d=r(6704),C=r(5887),M=r(1244),S=r(7674),U=r(269),Q=r(4295),k=r(324),H=r(4411),I=r(1032),w=r(7850);function m(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"page-header"),t.TgZ(1,"nz-breadcrumb"),t.TgZ(2,"nz-breadcrumb-item"),t._uU(3," \u9996\u9875 "),t.qZA(),t.TgZ(4,"nz-breadcrumb-item",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().back()}),t.TgZ(5,"a"),t._uU(6,"\u5355\u4f4d\u5217\u8868"),t.qZA(),t.qZA(),t.TgZ(7,"nz-breadcrumb-item"),t._uU(8," \u5355\u4f4d\u8be6\u60c5 "),t.qZA(),t.qZA(),t.qZA()}}function c(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function O(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).showMap()}),t.O4$(),t.TgZ(1,"svg",65),t._UZ(2,"path",66),t.qZA(),t.qZA()}}function Z(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function W(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function f(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.val)}}function F(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function s(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.setName)("nzValue",e.id)}}function _(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"nz-row"),t.TgZ(2,"form",24,25),t.TgZ(4,"se-title"),t._uU(5,"\u5de5\u5546\u4fe1\u606f"),t.qZA(),t.TgZ(6,"se",26),t.TgZ(7,"input",27),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.orgName=n}),t.qZA(),t.qZA(),t.TgZ(8,"se",28),t.TgZ(9,"input",29),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.certSerial=n}),t.qZA(),t.qZA(),t.TgZ(10,"se",30),t.TgZ(11,"input",31),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.tel=n}),t.qZA(),t.qZA(),t.TgZ(12,"se",32),t.TgZ(13,"nz-select",33),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.ownershipType=n}),t.YNc(14,c,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(15,"se",35),t.TgZ(16,"location-select",36),t.NdJ("onLocationSelect",function(n){return t.CHM(e),t.oxw(2).onLocationSelect(n)}),t.qZA(),t.qZA(),t.TgZ(17,"se",37),t.TgZ(18,"nz-input-group",38),t.TgZ(19,"input",39),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.address=n}),t.qZA(),t.qZA(),t.YNc(20,O,3,0,"ng-template",null,40,t.W1O),t.qZA(),t.TgZ(22,"se",41),t.TgZ(23,"input",42),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.legalPerson=n}),t.qZA(),t.qZA(),t.TgZ(24,"se",43),t.TgZ(25,"nz-select",44),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.industry=n}),t.YNc(26,Z,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(27,"se",45),t.TgZ(28,"nz-select",46),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.industryCategory=n}),t.YNc(29,W,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(30,"se",47),t.TgZ(31,"nz-select",48),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.businessStatus=n}),t.YNc(32,f,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(33,"se-title"),t._uU(34,"\u670d\u52a1\u4fe1\u606f"),t.qZA(),t.TgZ(35,"se",49),t.TgZ(36,"input",50),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.orgShortName=n}),t.qZA(),t.qZA(),t.TgZ(37,"se",51),t.TgZ(38,"nz-select",52),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.operateId=n}),t.YNc(39,F,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(40,"se",53),t.TgZ(41,"nz-select",54),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).data.notifyRuleSetId=n}),t.YNc(42,s,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(43,"se",55),t.TgZ(44,"nz-range-picker",56),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(2).date=n})("ngModelChange",function(n){return t.CHM(e),t.oxw(2).onChange(n)}),t.qZA(),t.qZA(),t.TgZ(45,"se-title"),t._uU(46,"\u56fe\u7247\u4fe1\u606f"),t.qZA(),t.TgZ(47,"se",57),t.TgZ(48,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw(2).getLogoImg(n)}),t.qZA(),t.qZA(),t.TgZ(49,"se",59),t.TgZ(50,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw(2).getCertImage(n)}),t.qZA(),t.qZA(),t.TgZ(51,"se",60),t.TgZ(52,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw(2).getDoorwayImages(n)}),t.qZA(),t.qZA(),t.TgZ(53,"se",61),t.TgZ(54,"button",62),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).update()}),t._uU(55,"\u786e\u5b9a"),t.qZA(),t.TgZ(56,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).back()}),t._uU(57,"\u53d6\u6d88"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(3),i=t.MAs(21),n=t.oxw(2);t.xp6(7),t.Q6J("ngModel",n.data.orgName),t.xp6(2),t.Q6J("ngModel",n.data.certSerial),t.xp6(2),t.Q6J("ngModel",n.data.tel),t.xp6(2),t.Q6J("ngModel",n.data.ownershipType),t.xp6(1),t.Q6J("ngForOf",n.orgTypeArr),t.xp6(2),t.Q6J("locationInfo",n.location)("sizes",6),t.xp6(2),t.Q6J("nzAddOnAfter",i),t.xp6(1),t.Q6J("ngModel",n.data.address),t.xp6(4),t.Q6J("ngModel",n.data.legalPerson),t.xp6(2),t.Q6J("ngModel",n.data.industry),t.xp6(1),t.Q6J("ngForOf",n.industryArr),t.xp6(2),t.Q6J("ngModel",n.data.industryCategory),t.xp6(1),t.Q6J("ngForOf",n.industryCategoryArr),t.xp6(2),t.Q6J("ngModel",n.data.businessStatus),t.xp6(1),t.Q6J("ngForOf",n.businessArr),t.xp6(4),t.Q6J("ngModel",n.data.orgShortName),t.xp6(2),t.Q6J("ngModel",n.data.operateId),t.xp6(1),t.Q6J("ngForOf",n.operationList),t.xp6(2),t.Q6J("ngModel",n.data.notifyRuleSetId),t.xp6(1),t.Q6J("ngForOf",n.notifyRuleList),t.xp6(2),t.Q6J("ngModel",n.date),t.xp6(4),t.Q6J("fileList",n.logoImg)("imgSize","1"),t.xp6(2),t.Q6J("fileList",n.certImage)("imgSize","1"),t.xp6(2),t.Q6J("fileList",n.doorwayImages)("imgSize","5"),t.xp6(2),t.Q6J("disabled",e.invalid)}}function p(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function u(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function K(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.TgZ(3,"se",70),t.TgZ(4,"input",71),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.name=n}),t.qZA(),t.qZA(),t.TgZ(5,"se",72),t.TgZ(6,"input",73),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.floor=n}),t.qZA(),t.qZA(),t.TgZ(7,"se",74),t.TgZ(8,"input",75),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.roomsNumber=n}),t.qZA(),t.qZA(),t.TgZ(9,"se",76),t.TgZ(10,"input",77),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.square=n}),t.qZA(),t.qZA(),t.TgZ(11,"se",78),t.TgZ(12,"nz-select",79),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.material=n}),t.YNc(13,p,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(14,"se",80),t.TgZ(15,"nz-select",81),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).bulid.buildAttribute=n}),t.YNc(16,u,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(17,"se",82),t.TgZ(18,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw(3).getFileList(n)}),t.qZA(),t.qZA(),t.TgZ(19,"se",83),t.TgZ(20,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw(3).getEvacuationImages(n)}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("ngModel",e.bulid.name),t.xp6(2),t.Q6J("ngModel",e.bulid.floor),t.xp6(2),t.Q6J("ngModel",e.bulid.roomsNumber),t.xp6(2),t.Q6J("ngModel",e.bulid.square),t.xp6(2),t.Q6J("ngModel",e.bulid.material),t.xp6(1),t.Q6J("ngForOf",e.materialArr),t.xp6(2),t.Q6J("ngModel",e.bulid.buildAttribute),t.xp6(1),t.Q6J("ngForOf",e.buildAttributeArr),t.xp6(2),t.Q6J("fileList",e.fileList)("imgSize",e.imgSize),t.xp6(2),t.Q6J("fileList",e.evacuationImages)("imgSize",e.imgSize)}}function Y(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h5"),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addBuild()}),t._uU(3,"\u6dfb\u52a0\u5efa\u7b51\u4fe1\u606f"),t.qZA(),t.qZA(),t.TgZ(4,"table-template",67),t.NdJ("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun2(n)})("viewImgOut",function(n){return t.CHM(e),t.oxw(2).viewImg(n)}),t.qZA(),t.TgZ(5,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible2=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel2()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk2()}),t.YNc(6,K,21,12,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("dataList",e.dataSet2)("theadList",e.teadList2)("total",e.total2)("pageIndex",e.pageIndex2)("keyNameList",e.keyNameList2)("pageSize",e.pageSize2),t.xp6(1),t.Q6J("nzVisible",e.isVisible2)}}function $(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"table-template",67),t.NdJ("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun3(n)})("viewImgOut",function(n){return t.CHM(e),t.oxw(2).viewImg3(n)}),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("dataList",e.dataSet2)("theadList",e.teadList3)("total",e.total3)("pageIndex",e.pageIndex3)("keyNameList",e.keyNameList3)("pageSize",e.pageSize3)}}function j(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-row"),t.TgZ(2,"form",24,25),t.TgZ(4,"se-title"),t._uU(5,"\u5408\u540c\u4fe1\u606f"),t.qZA(),t.TgZ(6,"se",85),t.TgZ(7,"input",86),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfo.contractSerial=n}),t.qZA(),t.qZA(),t.TgZ(8,"se",87),t.TgZ(9,"input",88),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfo.businessUserName=n}),t.qZA(),t.qZA(),t.TgZ(10,"se",89),t.TgZ(11,"input",90),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfo.businessUserPhone=n}),t.qZA(),t.qZA(),t.TgZ(12,"se",91),t.TgZ(13,"input",92),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfo.insuranceSerial=n}),t.qZA(),t.qZA(),t.TgZ(14,"se",93),t.TgZ(15,"nz-range-picker",94),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfoTime=n})("ngModelChange",function(n){return t.CHM(e),t.oxw(3).onChangeContractInfoTime(n)}),t.qZA(),t.qZA(),t.TgZ(16,"se",55),t.TgZ(17,"nz-range-picker",95),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).contractInfoServeTime=n})("ngModelChange",function(n){return t.CHM(e),t.oxw(3).onChangeContractInfoServeTime(n)}),t.qZA(),t.qZA(),t._UZ(18,"se",96),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(7),t.Q6J("ngModel",e.contractInfo.contractSerial),t.xp6(2),t.Q6J("ngModel",e.contractInfo.businessUserName),t.xp6(2),t.Q6J("ngModel",e.contractInfo.businessUserPhone),t.xp6(2),t.Q6J("ngModel",e.contractInfo.insuranceSerial),t.xp6(2),t.Q6J("ngModel",e.contractInfoTime),t.xp6(2),t.Q6J("ngModel",e.contractInfoServeTime)}}function G(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"table-template",84),t.NdJ("pageIndexOut",function(n){return t.CHM(e),t.oxw(2).turnPage4(n)})("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun4(n)}),t.qZA(),t.TgZ(2,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible4=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel4()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk4()}),t.YNc(3,j,19,6,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("dataList",e.dataSet4)("theadList",e.teadList4)("total",e.total4)("pageIndex",e.pageIndex4)("keyNameList",e.keyNameList4)("pageSize",e.pageSize4),t.xp6(1),t.Q6J("nzVisible",e.isVisible4)}}function X(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function tt(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.TgZ(3,"se",97),t.TgZ(4,"nz-select",98),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).riskSource.riskSourceId=n}),t.YNc(5,X,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(6,"se",99),t.TgZ(7,"input",100),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).riskSource.position=n}),t.qZA(),t.qZA(),t.TgZ(8,"se",101),t.TgZ(9,"input",102),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).riskSource.count=n}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("ngModel",e.riskSource.riskSourceId),t.xp6(1),t.Q6J("ngForOf",e.riskSourceAll),t.xp6(2),t.Q6J("ngModel",e.riskSource.position),t.xp6(2),t.Q6J("ngModel",e.riskSource.count)}}function et(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h5"),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addRiskSource()}),t._uU(3,"\u6dfb\u52a0\u98ce\u9669\u6e90"),t.qZA(),t.qZA(),t.TgZ(4,"table-template",84),t.NdJ("pageIndexOut",function(n){return t.CHM(e),t.oxw(2).turnPage5(n)})("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun5(n)}),t.qZA(),t.TgZ(5,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible5=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel5()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk5()}),t.YNc(6,tt,10,4,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("dataList",e.dataSet5)("theadList",e.teadList5)("total",e.total5)("pageIndex",e.pageIndex5)("keyNameList",e.keyNameList5)("pageSize",e.pageSize5),t.xp6(1),t.Q6J("nzVisible",e.isVisible5)}}function nt(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function it(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.TgZ(3,"se",104),t.TgZ(4,"nz-select",105),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).equipment.equipmentInfoId=n}),t.YNc(5,nt,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(6,"se",106),t.TgZ(7,"input",107),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).equipment.count=n}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("ngModel",e.equipment.equipmentInfoId),t.xp6(1),t.Q6J("ngForOf",e.dictionariesList),t.xp6(2),t.Q6J("ngModel",e.equipment.count)}}function at(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h5"),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addEquipment()}),t._uU(3,"\u6dfb\u52a0\u8bbe\u5907\u8bbe\u65bd"),t.qZA(),t.qZA(),t.TgZ(4,"table-template",103),t.NdJ("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun6(n)}),t.qZA(),t.TgZ(5,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible6=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel6()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk6()}),t.YNc(6,it,8,3,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("dataList",e.dataSet6)("theadList",e.teadList6)("total",e.total6)("pageIndex",e.pageIndex6)("keyNameList",e.keyNameList6)("pageSize",e.pageSize6),t.xp6(1),t.Q6J("nzVisible",e.isVisible6)}}function ot(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e)}}function rt(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"se",115),t.TgZ(1,"nz-select",116),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(4).emergencyContact=n}),t.YNc(2,ot,1,2,"nz-option",34),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngModel",e.emergencyContact),t.xp6(1),t.Q6J("ngForOf",e.dataSet8)}}function lt(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.levelName)("nzValue",e.level)}}function st(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.YNc(3,rt,3,2,"se",108),t.TgZ(4,"se",109),t.TgZ(5,"input",110),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).emergencyContact.name=n}),t.qZA(),t.qZA(),t.TgZ(6,"se",111),t.TgZ(7,"input",112),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).emergencyContact.phone=n}),t.qZA(),t.qZA(),t.TgZ(8,"se",113),t.TgZ(9,"nz-select",114),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).emergencyContact.level=n})("ngModelChange",function(n){return t.CHM(e),t.oxw(3).levelChange(n)}),t.YNc(10,lt,1,2,"nz-option",34),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",!e.isEdit),t.xp6(2),t.Q6J("ngModel",e.emergencyContact.name),t.xp6(2),t.Q6J("ngModel",e.emergencyContact.phone),t.xp6(2),t.Q6J("ngModel",e.emergencyContact.level),t.xp6(1),t.Q6J("ngForOf",e.levelList)}}function _t(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h5"),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addContactInfo()}),t._uU(3,"\u6dfb\u52a0\u7d27\u6025\u8054\u7cfb\u4eba"),t.qZA(),t.qZA(),t.TgZ(4,"table-template",103),t.NdJ("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun7(n)}),t.qZA(),t.TgZ(5,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible7=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel7()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk7()}),t.YNc(6,st,11,5,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("dataList",e.dataSet7)("theadList",e.teadList7)("total",e.total7)("pageIndex",e.pageIndex7)("keyNameList",e.keyNameList7)("pageSize",e.pageSize7),t.xp6(1),t.Q6J("nzVisible",e.isVisible7)}}function ut(o,g){if(1&o&&t._UZ(0,"nz-option",63),2&o){const e=g.$implicit;t.Q6J("nzLabel",e.name)("nzValue",e.id)}}function gt(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.TgZ(3,"se",109),t.TgZ(4,"input",110),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).account.name=n}),t.qZA(),t.qZA(),t.TgZ(5,"se",111),t.TgZ(6,"input",112),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).account.phone=n}),t.qZA(),t.qZA(),t.TgZ(7,"se",117),t.TgZ(8,"nz-select",118),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).account.charactarId=n}),t.YNc(9,ut,1,2,"nz-option",34),t.qZA(),t.qZA(),t.TgZ(10,"se",119),t.TgZ(11,"input",120),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw(3).account.position=n}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("ngModel",e.account.name),t.xp6(2),t.Q6J("ngModel",e.account.phone),t.xp6(2),t.Q6J("ngModel",e.account.charactarId),t.xp6(1),t.Q6J("ngForOf",e.charactarList),t.xp6(2),t.Q6J("ngModel",e.account.position)}}function dt(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h5"),t.TgZ(2,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addAccount()}),t._uU(3,"\u6dfb\u52a0\u8d26\u53f7"),t.qZA(),t.qZA(),t.TgZ(4,"table-template",84),t.NdJ("pageIndexOut",function(n){return t.CHM(e),t.oxw(2).turnPage8(n)})("editFuncOut",function(n){return t.CHM(e),t.oxw(2).editFun8(n)}),t.qZA(),t.TgZ(5,"nz-modal",68),t.NdJ("nzVisibleChange",function(n){return t.CHM(e),t.oxw(2).isVisible8=n})("nzOnCancel",function(){return t.CHM(e),t.oxw(2).handleCancel8()})("nzOnOk",function(){return t.CHM(e),t.oxw(2).handleOk8()}),t.YNc(6,gt,12,5,"ng-container",4),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("dataList",e.dataSet8)("theadList",e.teadList8)("total",e.total8)("pageIndex",e.pageIndex8)("keyNameList",e.keyNameList8)("pageSize",e.pageSize8),t.xp6(1),t.Q6J("nzVisible",e.isVisible8)}}function ct(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"nz-tab",23),t.NdJ("nzSelect",function(){const a=t.CHM(e).$implicit;return t.oxw().tabChange(a)}),t.YNc(1,_,58,29,"div",0),t.YNc(2,Y,7,7,"div",0),t.YNc(3,$,2,6,"div",0),t.YNc(4,G,4,7,"div",0),t.YNc(5,et,7,7,"div",0),t.YNc(6,at,7,7,"div",0),t.YNc(7,_t,7,7,"div",0),t.YNc(8,dt,7,7,"div",0),t.qZA()}if(2&o){const e=g.$implicit;t.Q6J("nzTitle",e.name),t.xp6(1),t.Q6J("ngIf",1==e.temp),t.xp6(1),t.Q6J("ngIf",2==e.temp),t.xp6(1),t.Q6J("ngIf",3==e.temp),t.xp6(1),t.Q6J("ngIf",4==e.temp),t.xp6(1),t.Q6J("ngIf",5==e.temp),t.xp6(1),t.Q6J("ngIf",6==e.temp),t.xp6(1),t.Q6J("ngIf",7==e.temp),t.xp6(1),t.Q6J("ngIf",8==e.temp)}}function pt(o,g){if(1&o&&(t.ynx(0),t._uU(1," \u786e\u5b9a\u8981\u5220\u9664 "),t.TgZ(2,"span",121),t._uU(3),t.qZA(),t._uU(4," \u7d27\u6025\u8054\u7cfb\u4eba\u5417 "),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.emergencyContact.name," ")}}function ht(o,g){if(1&o&&(t.ynx(0),t._uU(1," \u786e\u5b9a\u8981\u5220\u9664 "),t.TgZ(2,"span",121),t._uU(3),t.qZA(),t._uU(4," \u8bbe\u5907\u5417 "),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.equipment.name," ")}}function mt(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"file-upload",122),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw().getImgList(n)}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("fileList",e.imgList)}}function Ct(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"tr",127),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.TgZ(4,"a",128),t._UZ(5,"img",129),t.qZA(),t.qZA(),t.TgZ(6,"td"),t.TgZ(7,"button",130),t.NdJ("nzOnConfirm",function(){const a=t.CHM(e).$implicit;return t.oxw(2).deleteRow(a.id)}),t._uU(8,"\u5220\u9664 "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=g.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.s9C("href",e.url,t.LSH),t.xp6(1),t.uIk("src",e.url,t.LSH)}}function ft(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().addRow()}),t._uU(2,"\u6dfb\u52a0"),t.qZA(),t._UZ(3,"br"),t._UZ(4,"br"),t.TgZ(5,"nz-table",123,124),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th",125),t._uU(10,"\u697c\u5c42"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u56fe\u7247\u6587\u4ef6"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u64cd\u4f5c"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,Ct,9,3,"tr",126),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.MAs(6),i=t.oxw();t.xp6(5),t.Q6J("nzData",i.listOfData),t.xp6(11),t.Q6J("ngForOf",e.data)}}function Mt(o,g){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",69,25),t.TgZ(3,"se",131),t.TgZ(4,"input",132),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().plane.name=n}),t.qZA(),t.qZA(),t.TgZ(5,"se",133),t.TgZ(6,"file-upload",58),t.NdJ("fileListOut",function(n){return t.CHM(e),t.oxw().getGlaneImgList(n)}),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.plane.name),t.xp6(2),t.Q6J("fileList",e.planeImgList)("imgSize","1")}}const Ot=function(o){return{display:o}};let Tt=(()=>{class o{constructor(e,i,n,a,V,xt){this.activeRoute=e,this.router=i,this.apiService=n,this.enumService=a,this.msg=V,this.global=xt,this.url="https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",this.tabs=[{name:"\u57fa\u672c\u4fe1\u606f",temp:1},{name:"\u5efa\u7b51\u4fe1\u606f",temp:2},{name:"\u5efa\u7b51\u56fe\u7eb8",temp:3},{name:"\u5546\u52a1\u5408\u540c",temp:4},{name:"\u98ce\u9669\u6e90",temp:5},{name:"\u6d88\u9632\u8bbe\u65bd",temp:6},{name:"\u7d27\u6025\u8054\u7cfb\u4eba",temp:7},{name:"\u5355\u4f4d\u8d26\u53f7",temp:8}],this.planeAddEditTittle="",this.submitting=!1,this.needHead=!0,this.total5=0,this.pageIndex5=0,this.pageSize5=10,this.dataSet5=[],this.keyNameList5=[{type:"index",name:"index"},{type:"text",name:"nameText"},{type:"text",name:"position"},{type:"text",name:"count"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList5=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u98ce\u9669\u6e90\u540d\u79f0"},{name:"\u98ce\u9669\u6e90\u4f4d\u7f6e"},{name:"\u98ce\u9669\u6e90\u6570\u91cf"},{name:"\u64cd\u4f5c"}],this.total6=0,this.pageIndex6=0,this.pageSize6=10,this.dataSet6=[],this.isVisible5=!1,this.keyNameList6=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"unit"},{type:"text",name:"count"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1},{text:"\u5220\u9664",index:2}]}],this.teadList6=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u540d\u79f0"},{name:"\u5355\u4f4d"},{name:"\u6570\u91cf"},{name:"\u64cd\u4f5c"}],this.total2=0,this.pageIndex2=0,this.pageSize2=10,this.keyNameList2=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"floor"},{type:"text",name:"roomsNumber"},{type:"text",name:"square"},{type:"text",name:"materialText"},{type:"text",name:"buildAttributeText"},{type:"imgList",name:"images"},{type:"imgList",name:"evacuationImages"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList2=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u5efa\u7b51\u540d\u79f0"},{name:"\u697c\u5c42\u6570"},{name:"\u623f\u95f4\u6570"},{name:"\u9762\u4ef7(\u5e73\u65b9\u7c73)"},{name:"\u7ed3\u6784\u7c7b\u578b"},{name:"\u5c5e\u6027"},{name:"\u5916\u89c2\u7167"},{name:"\u758f\u6563\u56fe"},{name:"\u64cd\u4f5c"}],this.total3=0,this.pageIndex3=1,this.pageSize3=10,this.keyNameList3=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"floor"},{type:"imgList",name:"blueprint"}],this.teadList3=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u5efa\u7b51\u540d\u79f0"},{name:"\u697c\u5c42\u6570"},{name:"\u5e73\u9762\u56fe"}],this.total8=0,this.pageIndex8=0,this.pageSize8=10,this.isVisible8=!1,this.keyNameList8=[{type:"index",name:"index"},{type:"text",name:"charactarText"},{type:"text",name:"name"},{type:"text",name:"phone"},{type:"time",name:"createTime"},{type:"text",name:"position"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList8=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u8d26\u53f7\u7c7b\u578b"},{name:"\u59d3\u540d"},{name:"\u624b\u673a\u53f7"},{name:"\u521b\u5efa\u65f6\u95f4"},{name:"\u804c\u52a1"},{name:"\u64cd\u4f5c"}],this.total7=0,this.pageIndex7=0,this.pageSize7=10,this.isVisible7=!1,this.dataSet7=[],this.keyNameList7=[{type:"index",name:"index"},{type:"text",name:"levelText"},{type:"text",name:"name"},{type:"text",name:"phone"},{type:"text",name:"position"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1},{text:"\u5220\u9664",index:2}]}],this.teadList7=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u901a\u77e5\u7b49\u7ea7"},{name:"\u59d3\u540d"},{name:"\u624b\u673a\u53f7"},{name:"\u804c\u52a1"},{name:"\u64cd\u4f5c"}],this.total4=0,this.pageIndex4=0,this.pageSize4=10,this.isVisible2=!1,this.i=0,this.planeImgListShow=!1,this.planeAddEdit=!1,this.containerId=`${(new Date).getTime()}`,this.scale=16,this.isShowMap="none",this.locationConfig=h.x.getCityConfig(),this.location={provinceId:-1},this.mapOptions={zoom:this.scale},this.lng=120.133718,this.lat=30.261314,this.map=void 0,this.placeInfo={},this.locationCache=[0,0],this.latEdit=0,this.lngEdit=0,this.planeImgList=[],this.plane={},this.listOfData=[],this.levelMap={},this.notifyRuleList=[],this.isVisible3=!1,this.dataSet3=[],this.doorwayImages=[],this.imgTitle="",this.imagesList=[],this.certImage=[],this.logoImg=[],this.isVisibleImgList=!1,this.isVisibleDelete6=!1,this.equipment={},this.isVisible6=!1,this.contractInfoServeTime=[],this.contractInfoTime=[],this.isVisible4=!1,this.isVisibleDelete=!1,this.isEditAccount=!1,this.isEdit=!1,this.orgLogo=[],this.bulid={},this.fileList=[],this.imgSize=6,this.blueprint=[],this.evacuationImages=[],this.orgType=0,this.industry=0,this.account={name:"",phone:"",charactarId:0},this.riskSourceMap={},this.charactarMap={},this.riskSource={riskSourceId:"1",position:"",count:1},this.locationConfig=h.x.getCityConfig(),this.location={provinceId:-1,districtId:0,cityId:0},this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0,businessStatus:"1"},this.emergencyContact={level:100,contactInfoId:0},this.contractInfo={},this.teadList4=[{name:"\u5408\u540c\u7f16\u53f7"},{name:"\u5408\u540c\u5957\u9910"},{name:"\u5408\u540c\u5f00\u59cb\u65f6\u95f4"},{name:"\u5408\u540c\u7ed3\u675f\u65f6\u95f4"},{name:"\u670d\u52a1\u5f00\u59cb\u65f6\u95f4"},{name:"\u670d\u52a1\u7ed3\u675f\u65f6\u95f4"},{name:"\u5546\u52a1\u4eba\u5458"},{name:"\u5546\u52a1\u4eba\u5458\u7535\u8bdd"},{name:"\u5173\u8054\u4fdd\u5355\u53f7"},{name:"\u5408\u540c\u7535\u5b50\u7248"}],this.keyNameList4=[{type:"text",name:"contractSerial"},{type:"text",name:"package"},{type:"time",name:"startDate"},{type:"time",name:"endDate"},{type:"time",name:"serviceStartTime"},{type:"time",name:"serviceEndTime"},{type:"text",name:"businessUserName"},{type:"text",name:"businessUserPhone"},{type:"text",name:"insuranceSerial"},{type:"url",name:"url",text:"\u67e5\u770b"}],this.dictionariesMap={},this.buildAttributeMap={},this.materialMap={},this.buildAttributeArr=[],this.materialMap=this.enumService.materialMap,this.businessArr=this.enumService.businessArr,this.orgBuildTypeFindAll(),this.orgAttributeFindAll(),this.industryTypeFindAll(),this.getOperationList(),this.charactarSearch(),this.getRiskSourceAll(),this.notifyRuleSearchSetList(),this.equipmentInfoFindAll(),this.orgTypeFindAll(),this.orgBuildMaterialFindAll()}notifyRuleSearchSetList(){this.apiService.notifyRuleSearchSetList({}).then(e=>{e&&e.data&&(e.data.forEach((i,n)=>{i.index=n}),this.notifyRuleList=e.data)})}getRiskSourceAll(){this.apiService.getRiskSourceAll().then(e=>{e&&e.data&&(this.riskSourceAll=e.data,this.riskSourceMap=this.enumService.getMap(e.data))})}charactarSearch(){this.apiService.charactarSearch().then(e=>{if(e&&e.data){let i=[];e.data.forEach(n=>{"ORG"==n.category&&i.push(n)}),this.charactarList=i,console.log(e.data),this.charactarMap=this.enumService.getMap(i)}})}getOperationList(){this.apiService.getOperationList().then(e=>{e&&e.data&&(this.operationList=e.data)})}industryTypeFindAll(){this.apiService.industryTypeFindAll().then(e=>{e&&e.data&&(this.industryArr=e.data)})}orgAttributeFindAll(){this.apiService.orgAttributeFindAll().then(e=>{e&&e.data&&(this.industryCategoryArr=e.data)})}orgBuildTypeFindAll(){this.apiService.orgBuildTypeFindAll().then(e=>{e&&e.data&&(console.log("\u5efa\u7b51\u7c7b\u578b"),console.log(e),this.buildAttributeArr=e.data,this.buildAttributeMap=this.enumService.getMap(e.data))})}onLocationSelect(e){this.location=e}onChange(e){this.serveStartTime=new Date(new Date(new Date(e[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(e[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}ngOnInit(){"ORG"===this.global.getUserInfo().category?(this.orgId=this.global.getUserInfo().orgId,this.needHead=!1):this.orgId=this.activeRoute.snapshot.params.id,this.getData()}orgBuildMaterialFindAll(){this.apiService.orgBuildMaterialFindAll().then(e=>{e&&e.data&&(this.materialArr=e.data,this.materialArr.forEach(i=>{this.materialMap[i.id]=i.name,i.val=i.id}))})}orgTypeFindAll(){this.apiService.orgTypeFindAll().then(e=>{e&&e.data&&(this.orgTypeArr=e.data,this.orgTypeMap=this.enumService.getMap(this.orgTypeArr))})}equipmentInfoFindAll(){this.apiService.equipmentInfoFindAll().then(e=>{console.log(e),e&&e.data&&(e.data.forEach((i,n)=>{this.dictionariesMap[i.id]=i}),this.dictionariesList=e.data,this.getOrgEquipmentInfo())})}searchSetList(){this.apiService.searchLevel({setId:this.data.notifyRuleSetId}).then(e=>{e&&e.data&&(console.log(e),this.levelList=e.data,e.data.forEach(i=>{this.levelMap[i.level]=i.levelName}),this.getAccountList(),this.orgContactInfo())})}getOrgEquipmentInfo(){this.apiService.getOrgEquipmentInfo(this.orgId).then(e=>{e&&e.data&&(e.data.forEach((i,n)=>{i.index=n,i.name=this.dictionariesMap[i.equipmentInfoId].name,i.unit=this.dictionariesMap[i.equipmentInfoId].unit}),this.dataSet6=e.data)})}orgBuildInfo(){this.apiService.orgBuildInfo(this.orgId).then(e=>{e&&e.data&&(e.data.forEach((i,n)=>{i.index=n,i.buildAttributeText=this.buildAttributeMap[i.buildAttribute],i.materialText=this.materialMap[i.material]}),this.dataSet2=e.data,this.dataSet3=e.data)})}getContractInfo(e={}){e=this.apiService.filterData(e),this.apiService.contractInfoSearch(e).then(i=>{i&&i.data?(i.data.content.forEach(n=>{n.package="\u9ed8\u8ba4\u5957\u9910"}),this.dataSet4=i.data.content,this.total4=i.data.totalElements):(this.dataSet4=[],this.total4=0)})}orgContactInfo(){this.apiService.orgContactInfo({orgId:this.data.id,page:0,size:1e3}).then(e=>{e&&e.data&&(e.data.forEach((i,n)=>{i.index=n,i.levelText=this.levelMap[i.level],i.charactarText=this.charactarMap[i.charactarId]}),this.dataSet7=e.data)})}tabChange(e){console.log(e)}getData(){this.apiService.findOrgById(this.orgId).then(e=>{e&&e.data&&(this.getOrgRiskSource(),this.orgBuildInfo(),this.data=e.data,console.log(this.data),this.getContractInfo({orgSerial:e.data.orgSerial}),this.location={provinceId:e.data.provinceId,cityId:e.data.cityId,districtId:e.data.districtId},this.latEdit=e.data.latitude,this.lngEdit=e.data.longitude,this.doorwayImages=this.data.images?JSON.parse(this.data.images):[],this.logoImg=this.data.logo?JSON.parse(this.data.logo):[],this.certImage=this.data.certImage?JSON.parse(this.data.certImage):[],this.searchSetList(),this.date=[this.data.serveStartTime,this.data.serveEndTime])})}turnPage(e){console.log(e)}turnPage4(e){console.log(e)}ngAfterViewInit(){this.initMap([this.lng,this.lat])}initMap(e){this.position=new window.AMap.LngLat(this.lng,this.lat),this.locationCache=e,this.mapOptions.center=this.lng&&this.lat?[this.lng,this.lat]:e,this.map=new AMap.Map(this.containerId,this.mapOptions);let n=new AMap.Autocomplete({input:"tipinput"});this.geocoder=new AMap.Geocoder({radius:1e3}),this.placeSearch=new AMap.PlaceSearch({map:this.map}),AMap.event.addListener(n,"select",a=>{console.log(a),this.lngEdit=a.poi.location.lng,this.latEdit=a.poi.location.lat,this.map.setCenter([this.lngEdit,this.latEdit]),this.setMarker(a.poi.location.lng,a.poi.location.lat)}),this.map.on("click",a=>{this.lngEdit=a.lnglat.getLng(),this.latEdit=a.lnglat.getLat(),this.regeoCode(this.lngEdit+","+this.latEdit),this.setMarker(a.lnglat.getLng(),a.lnglat.getLat())})}regeoCode(e){this.geocoder.getAddress(e,(i,n)=>{"complete"===i&&n.regeocode?this.data.address=n.regeocode.formattedAddress:console.log("\u6839\u636e\u7ecf\u7eac\u5ea6\u67e5\u8be2\u5730\u5740\u5931\u8d25")})}clearMarker(){this.marker&&this.map.remove(this.marker)}setMarker(e,i){this.clearMarker(),this.marker=new AMap.Marker({position:[e,i],content:"<div class='img-box'>\n      <img src='assets/marker.jpg' id='animat' style='width:60px ;position:relative;animation:mymove 5s infinite;-webkit-animation:mymove 5s infinite; animation-direction:alternate;animation-timing-function: ease-in-out;-webkit-animation:mymove 5s infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function: ease-in-out;'/> </div>",offset:new AMap.Pixel(-12,-12)}),this.map.add(this.marker)}update(){console.log(this.data),this.data.orgName?this.data.operateId?this.data.notifyRuleSetId?this.lngEdit&&this.latEdit?(this.data.longitude=this.lngEdit,this.data.latitude=this.latEdit,this.data.provinceId=this.location.provinceId,this.data.cityId=this.location.cityId,this.data.districtId=this.location.districtId,this.data.serveStartTime=this.serveStartTime,this.data.serveEndTime=this.serveEndTime,this.data.certImage=this.certImage[0]?JSON.stringify(this.certImage):"",this.data.images=this.doorwayImages[0]?JSON.stringify(this.doorwayImages):"",this.data.logo=this.logoImg[0]?JSON.stringify(this.logoImg):"",this.apiService.updateOrg(this.data).then(e=>{e&&e.success?this.msg.success("\u7f16\u8f91\u6210\u529f"):this.msg.error(e.message)})):this.msg.error("\u70b9\u51fb\u8be6\u7ec6\u5730\u5740\u53f3\u8fb9\u6309\u94ae,\u9009\u62e9\u8be6\u7ec6\u5b9a\u4f4d\u5730\u5740"):this.msg.error("\u9009\u62e9\u63a8\u9001\u89c4\u5219"):this.msg.error("\u8bf7\u9009\u62e9\u8054\u7f51\u5355\u4f4d\u5f52\u5c5e\u7684\u8fd0\u8425\u4e2d\u5fc3"):this.msg.error("\u8bf7\u586b\u5199\u8054\u7f51\u5355\u4f4d\u540d\u79f0")}back(){this.router.navigate(["../.."],{relativeTo:this.activeRoute})}getOrgRiskSource(){this.apiService.getOrgRiskSource(this.orgId).then(e=>{e&&e.data&&(e.data.forEach((i,n)=>{i.index=n,i.nameText=this.riskSourceMap[i.riskSourceId].name}),this.dataSet5=e.data)})}turnPage5(e){}editFun5(e){this.riskSource=JSON.parse(JSON.stringify(e)),1==e.btnIndex&&(this.isVisible5=!0)}editFun6(e){this.equipment=JSON.parse(JSON.stringify(e)),1==e.btnIndex?this.isVisible6=!0:this.isVisibleDelete6=!0}editFun4(e){}editFun2(e){this.bulid=JSON.parse(JSON.stringify(e)),this.fileList=this.bulid.images?JSON.parse(e.images):[],this.blueprint=this.bulid.blueprint?JSON.parse(e.blueprint):[],this.evacuationImages=this.bulid.evacuationImages?JSON.parse(e.evacuationImages):[],this.isVisible2=!0}editFun3(e){this.bulid=JSON.parse(JSON.stringify(e)),this.blueprint=this.bulid.blueprint?JSON.parse(e.blueprint):[],this.isVisible3=!0}addRiskSource(){this.isVisible5=!0}addBuild(){this.isVisible2=!0}handleCancel5(){this.riskSource={},this.isVisible5=!1}addEquipment(){this.isVisible6=!0}handleCancel6(){this.equipment={},this.isVisible6=!1}handleOk6(){this.equipment&&this.equipment.id?this.apiService.updateEquipment(this.equipment).then(e=>{e&&e.data?(this.isVisible6=!1,this.equipment={},this.getOrgEquipmentInfo(),this.msg.success("\u7f16\u8f91\u6210\u529f")):(this.isVisible5=!1,this.equipment={},this.msg.error("\u7f16\u8f91\u5931\u8d25"))}):(this.equipment.orgId=this.orgId,this.apiService.createEquipment(this.equipment).then(e=>{e&&e.data?(this.isVisible6=!1,this.getOrgEquipmentInfo(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible6=!1,this.equipment={},this.msg.error("\u6dfb\u52a0\u5931\u8d25"))}))}handleCancel2(){this.isVisible2=!1}handleOk2(){this.bulid.id?(this.bulid.images=this.fileList[0]?JSON.stringify(this.fileList):"",this.bulid.blueprint=this.blueprint[0]?JSON.stringify(this.blueprint):"",this.bulid.evacuationImages=this.evacuationImages[0]?JSON.stringify(this.evacuationImages):"",this.apiService.updateOrgBuild(this.bulid).then(e=>{e&&e.data?(this.isVisible2=!1,this.orgBuildInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible2=!1,this.msg.error(e.message))})):(this.bulid.orgId=this.orgId,this.bulid.images=this.fileList[0]?JSON.stringify(this.fileList):"",this.bulid.blueprint=this.blueprint[0]?JSON.stringify(this.blueprint):"",this.bulid.evacuationImages=this.evacuationImages[0]?JSON.stringify(this.evacuationImages):"",this.apiService.addOrgBuild(this.bulid).then(e=>{e&&e.data?(this.isVisible2=!1,this.orgBuildInfo(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible2=!1,this.msg.error(e.message))})),this.isVisible2=!1}handleCancel4(){this.isVisible4=!1}onChangeContractInfoServeTime(e){this.serveStartTime=new Date(new Date(new Date(e[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(e[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}onChangeContractInfoTime(e){this.startDate=new Date(new Date(new Date(e[0]).toLocaleDateString()).getTime()).getTime(),this.endDate=new Date(new Date(new Date(e[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}handleOk4(){this.apiService.contractInfoCreate({orgId:this.orgId,startDate:this.startDate,endDate:this.endDate,serviceStartTime:this.serveStartTime,serviceEndTime:this.serveEndTime,contractSerial:this.contractInfo.contractSerial,url:this.fileList[0]?this.fileList[0].url:"\u5408\u540c\u6587\u672c\u672a\u4e0a\u4f20",insuranceSerial:this.contractInfo.insuranceSerial,businessUserName:this.contractInfo.businessUserName,businessUserPhone:this.contractInfo.businessUserPhone}).then(i=>{i&&i.success?(this.isVisible4=!1,this.msg.success("\u6dfb\u52a0\u6210\u529f"),this.data={contractSerial:"",insuranceSerial:"",url:""}):(this.msg.error(i.message),this.isVisible4=!1)})}handleOk5(){this.riskSource&&this.riskSource.id?this.apiService.updateRiskSource(this.riskSource).then(e=>{e&&e.data?(this.isVisible5=!1,this.riskSource={},this.getOrgRiskSource(),this.msg.success("\u7f16\u8f91\u6210\u529f")):(this.isVisible5=!1,this.riskSource={},this.msg.error("\u7f16\u8f91\u5931\u8d25"))}):(this.riskSource.orgId=this.orgId,this.apiService.createRiskSource(this.riskSource).then(e=>{e&&e.data?(this.isVisible5=!1,this.getOrgRiskSource(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible5=!1,this.riskSource={},this.msg.error("\u6dfb\u52a0\u5931\u8d25"))}))}getAccountList(){this.apiService.getAccountList2({orgId:this.data.id,page:0,size:1e3}).then(e=>{e&&e.data&&(e.data.content.forEach((i,n)=>{i.index=n,i.charactarText=i.charactarName}),this.dataSet8=e.data.content)})}turnPage8(e){}editFun8(e){this.account=JSON.parse(JSON.stringify(e)),1==e.btnIndex&&(this.isEditAccount=!0,this.isVisible8=!0)}deleteCancel(){this.isVisibleDelete=!1}deleteCancel6(){this.isVisibleDelete6=!1}deleteOk6(){this.apiService.deleteEquipment(this.equipment.id).then(e=>{e&&e.data?(this.isVisibleDelete6=!1,this.getOrgEquipmentInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleDelete6=!1,this.msg.error(e.message))})}deleteOk(){this.apiService.orgContactInfoDelete({id:this.emergencyContact.id}).then(e=>{e&&e.data?(this.isVisibleDelete=!1,this.orgContactInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleDelete=!1,this.msg.error(e.message))})}addContractInfo(){this.isVisible4=!0}addAccount(){this.isEditAccount=!1,this.isVisible8=!0}handleCancel8(){this.isVisible8=!1}handleOk8(){this.isEditAccount?this.apiService.accountUpdate(this.account).then(e=>{e&&e.data?(this.getAccountList(),this.isVisible8=!1,this.account={name:"",phone:"",charactarId:""},this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible8=!1,this.msg.error(e.message))}):(this.account.orgId=this.orgId,this.apiService.createAccount(this.account).then(e=>{e&&e.data?(this.getAccountList(),this.isVisible8=!1,this.account={name:"",phone:"",charactarId:""},this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible8=!1,this.msg.error(e.message))}))}addContactInfo(){this.searchSetList(),this.isVisible7=!0,this.emergencyContact={},this.isEdit=!1}handleCancel7(){this.isVisible7=!1}editFun7(e){this.emergencyContact=JSON.parse(JSON.stringify(e)),1==e.btnIndex?(console.log(e),this.emergencyContact.contactInfoId=e.contactInfoId,this.emergencyContact.level=e.level,this.isVisible7=!0,this.isEdit=!0):this.isVisibleDelete=!0}levelChange(e){this.emergencyContact.level=e}handleOk7(){this.isEdit?(console.log(this.emergencyContact),this.apiService.orgContactInfoUpdate({id:this.emergencyContact.accountId,level:this.emergencyContact.level}).then(e=>{e&&e.success?(this.isVisible7=!1,this.emergencyContact={},this.orgContactInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible7=!1,this.msg.error(e.message))})):(this.emergencyContact.orgId=this.orgId,this.apiService.orgContactInfoCreate(this.emergencyContact).then(e=>{e&&e.data?(this.isVisible7=!1,this.emergencyContact={level:100,contactInfoId:0},this.orgContactInfo(),this.msg.success("\u6dfb\u52a0\u7d27\u6025\u8054\u7cfb\u4eba\u6210\u529f")):(this.isVisible7=!1,this.msg.error(e.message))}))}getFileList(e){console.log(e),this.fileList=e}getFileListTest(e){console.log(e)}getBlueprint(e){this.blueprint=e,console.log(e)}getEvacuationImages(e){this.evacuationImages=e,console.log(e)}getOrgLogo(e){this.orgLogo=e,console.log(e)}viewImg(e){console.log(e),this.editItemImg=e,this.imgTitle="images"==e.imgType?"\u5916\u89c2\u56fe":"blueprint"==e.imgType?"\u5e73\u9762\u56fe":"evacuationImages"==e.imgType?"\u758f\u6563\u56fe":"\u56fe\u7247",this.imgList=e[e.imgType]&&0!=e[e.imgType].length?JSON.parse(e[e.imgType]):[],this.isVisibleImgList=!0}viewImg3(e){if(console.log(e),this.imgTitle="\u5e73\u9762\u56fe",this.editItemImg=e,this.planeImgListShow=!0,"blueprint"==e.imgType){let i=JSON.parse(e.blueprint),n=[];console.log(i),i.forEach((a,V)=>{n.push({name:a.name,id:V+1,url:a.url})}),this.listOfData=[...n]}}imgListCancel(){this.isVisibleImgList=!1}imgListOk(){"images"==this.editItemImg.imgType?this.editItemImg.images=this.imgList[0]||this.fileList[0]?JSON.stringify(this.imgList):"":"blueprint"==this.editItemImg.imgType?this.editItemImg.blueprint=this.imgList[0]||this.blueprint[0]?JSON.stringify(this.imgList):"":"evacuationImages"==this.editItemImg.imgType&&(this.editItemImg.evacuationImages=this.imgList[0]||this.evacuationImages[0]?JSON.stringify(this.imgList):""),this.apiService.updateOrgBuild(this.editItemImg).then(e=>{e&&e.data?(this.isVisibleImgList=!1,this.orgBuildInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleImgList=!1,this.msg.error(e.message))})}getImgList(e){this.imgList=e}getLogoImg(e){this.logoImg=e}getCertImage(e){this.certImage=e}getDoorwayImages(e){this.doorwayImages=e}startEdit(e){this.editId=e}stopEdit(){this.editId=null}addRow(){this.plane={},this.planeImgList=[],this.planeAddEditTittle="\u6dfb\u52a0\u697c\u5c42\u56fe\u7247",this.planeAddEdit=!0}deleteRow(e){this.listOfData=this.listOfData.filter(i=>i.id!==e)}planeAddEditCancel(){this.planeAddEdit=!1}editPlane(e){this.planeAddEdit=!0,this.planeAddEditTittle="\u6dfb\u52a0\u697c\u5c42\u56fe\u7247",this.editPlaneItem=e,console.log(e)}planeAddEditOk(){console.log(this.planeImgList),this.listOfData=[...this.listOfData,{name:this.plane.name,url:this.planeImgList[0].url}],this.planeAddEdit=!1}planeImgCancel(){let e=[];this.listOfData.forEach(i=>{e.push({name:i.name,url:i.url})}),this.editItemImg.blueprint=JSON.stringify(e),this.apiService.updateOrgBuild(this.editItemImg).then(i=>{i&&i.data?(this.planeImgListShow=!1,this.orgBuildInfo()):(this.planeImgListShow=!1,this.msg.error(i.message))})}getGlaneImgList(e){this.planeImgList=e}showMap(){this.isShowMap="block"}sureAddress(){!this.data.address&&this.inputAddress&&(this.data.address=this.inputAddress),this.isShowMap="none"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(z.gz),t.Y36(z.F0),t.Y36(L.s),t.Y36(q.t),t.Y36(P.dD),t.Y36(h.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-org-detail"]],decls:46,vars:20,consts:[[4,"ngIf"],[3,"nzTabPosition"],[3,"nzTitle","nzSelect",4,"ngFor","ngForOf"],["nzTitle","\u64cd\u4f5c\u63d0\u793a",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzWidth","500px",3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],["nzWidth","600px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel"],[1,"map-bg",3,"ngStyle"],[1,"bgs"],[1,"map-container",3,"id"],[1,"input-card",2,"width","600px"],[2,"color","grey"],[1,"input-item"],[1,"input-item-prepend"],[1,"input-item-text"],[2,"padding-left","10px"],[2,"padding-left","10px","width","600p"],["id","myPageTop"],["id","tipinput",2,"width","500px","margin-bottom","10px",3,"ngModel","ngModelChange"],[1,"btn-box"],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"click"],[3,"click"],[3,"nzTitle","nzSelect"],["nz-form","","se-container","2"],["f","ngForm"],["label","\u5355\u4f4d\u5168\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0","name","orgName",3,"ngModel","ngModelChange"],["label","\u4fe1\u7528\u4ee3\u7801","error","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801","name","certSerial",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd","name","tel",3,"ngModel","ngModelChange"],["label","\u4f01\u4e1a\u79cd\u7c7b"],["nzPlaceHolder","\u9009\u62e9\u4f01\u4e1a\u79cd\u7c7b","name","ownershipType",2,"min-width","80px",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["label","\u6240\u5c5e\u8f96\u533a","col","1"],[3,"locationInfo","sizes","onLocationSelect"],["label","\u8be6\u7ec6\u5730\u5740","col","1","required",""],["nzSearch","",2,"width","50%",3,"nzAddOnAfter"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5730\u5740","name","address",3,"ngModel","ngModelChange"],["suffixIconButton",""],["label","\u5355\u4f4d\u6cd5\u4eba"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u6cd5\u4eba","name","legalPerson",3,"ngModel","ngModelChange"],["label","\u6240\u5c5e\u884c\u4e1a"],["nzPlaceHolder","\u9009\u62e9\u6240\u5c5e\u884c\u4e1a","name","industry",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u7269\u4e1a\u7c7b\u578b"],["nzPlaceHolder","\u9009\u62e9\u7269\u4e1a\u7c7b\u578b","name","industryCategory",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8425\u4e1a\u72b6\u6001"],["nzPlaceHolder","\u9009\u62e9\u8425\u4e1a\u72b6\u6001","name","businessStatus",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7b80\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0","name","orgShortName",3,"ngModel","ngModelChange"],["label","\u8fd0\u8425\u4e2d\u5fc3","required",""],["nzShowSearch","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","operateId",3,"ngModel","ngModelChange"],["label","\u63a8\u9001\u89c4\u5219","required",""],["nzShowSearch","","nzPlaceHolder","\u9009\u62e9\u63a8\u9001\u89c4\u5219","name","notifyRuleSetId",3,"ngModel","ngModelChange"],["label","\u670d\u52a1\u65f6\u95f4"],["name","date",3,"ngModel","ngModelChange"],["label","\u8054\u7f51\u5355\u4f4dLogo"],[3,"fileList","imgSize","fileListOut"],["label","\u8425\u4e1a\u6267\u7167\u56fe\u7247"],["label","\u95e8\u5934\u56fe\u7247"],["col","1",2,"text-align","center"],["nz-button","","nzType","primary",3,"disabled","click"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","nzSearch","",3,"click"],["viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","environment","aria-hidden","true"],["d","M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","editFuncOut","viewImgOut"],["nzWidth","800px","nzTitle","\u64cd\u4f5c",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","","se-container","1"],["label","\u5efa\u7b51\u540d\u79f0","error","\u8bf7\u8f93\u5165\u5efa\u7b51\u540d\u79f0!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5efa\u7b51\u540d\u79f0","name","name",3,"ngModel","ngModelChange"],["label","\u697c\u5c42\u6570\u91cf","error","\u8bf7\u8f93\u5165\u697c\u5c42\u6570\u91cf!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u697c\u5c42\u6570\u91cf","name","floor",3,"ngModel","ngModelChange"],["label","\u623f\u95f4\u6570\u91cf","error","\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf","name","roomsNumber",3,"ngModel","ngModelChange"],["label","\u9762\u79ef(\u5e73\u65b9\u7c73)","error","\u8bf7\u8f93\u5165\u9762\u79ef(\u5e73\u65b9\u7c73)!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u9762\u79ef(\u5e73\u65b9\u7c73)","name","square",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u6750\u6599","error","\u9009\u62e9\u5efa\u7b51\u6750\u6599!"],["nzPlaceHolder","\u9009\u62e9\u5efa\u7b51\u6750\u6599","name","material",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u5c5e\u6027","error","\u8bf7\u8f93\u5165\u5efa\u7b51\u5c5e\u6027!"],["nzPlaceHolder","\u9009\u62e9\u5efa\u7b51\u5c5e\u6027","name","buildAttribute",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u7167\u7247"],["label","\u5efa\u7b51\u758f\u6563\u6307\u793a\u56fe"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","pageIndexOut","editFuncOut"],["label","\u5408\u540c\u7f16\u53f7","error","\u8bf7\u8f93\u5165\u5408\u540c\u7f16\u53f7!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5408\u540c\u7f16\u53f7","name","contractSerial",3,"ngModel","ngModelChange"],["label","\u5546\u52a1\u4eba\u5458","error","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458","name","businessUserName",3,"ngModel","ngModelChange"],["label","\u5546\u52a1\u4eba\u5458\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458\u7535\u8bdd!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458\u7535\u8bdd","name","businessUserPhone",3,"ngModel","ngModelChange"],["label","\u5173\u8054\u4fdd\u5355\u53f7","error","\u8bf7\u8f93\u5165\u5173\u8054\u4fdd\u5355\u53f7!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5173\u8054\u4fdd\u5355\u53f7","name","insuranceSerial",3,"ngModel","ngModelChange"],["label","\u5408\u540c\u5f00\u59cb\u65f6\u95f4"],["name","time",3,"ngModel","ngModelChange"],["name","serveTime",3,"ngModel","ngModelChange"],["label","\u4e0a\u4f20\u5408\u540c\u6587\u672c"],["label","\u9009\u62e9\u98ce\u9669\u6e90"],["nzPlaceHolder","\u9009\u62e9\u98ce\u9669\u6e90","name","riskSourceId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u98ce\u9669\u6e90\u4f4d\u7f6e","error","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u4f4d\u7f6e!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u4f4d\u7f6e","name","position",3,"ngModel","ngModelChange"],["label","\u98ce\u9669\u6e90\u6570\u91cf","error","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u540d\u79f0!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u6570\u91cf","name","count",3,"ngModel","ngModelChange"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","editFuncOut"],["label","\u9009\u62e9\u8bbe\u5907\u8bbe\u65bd"],["nzPlaceHolder","\u9009\u62e9\u8bbe\u5907\u8bbe\u65bd","name","equipmentInfoId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8bbe\u5907\u6570\u91cf","error","\u8bf7\u8f93\u5165\u8bbe\u5907\u6570\u91cf!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u8bbe\u5907\u6570\u91cf","name","count",3,"ngModel","ngModelChange"],["label","\u9009\u62e9\u7d27\u6025\u8054\u7cfb\u4eba",4,"ngIf"],["label","\u59d3\u540d","error","\u8bf7\u8f93\u5165\u59d3\u540d!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u59d3\u540d","name","name",3,"ngModel","ngModelChange"],["label","\u624b\u673a\u53f7","error","\u8bf7\u8f93\u5165\u624b\u673a\u53f7!","required",""],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u624b\u673a\u53f7","name","phone",3,"ngModel","ngModelChange"],["label","\u901a\u77e5\u7b49\u7ea7","error","\u901a\u77e5\u7b49\u7ea7!","required",""],["nzPlaceHolder","\u9009\u62e9\u901a\u77e5\u7b49\u7ea7","name","level",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u9009\u62e9\u7d27\u6025\u8054\u7cfb\u4eba"],["nzPlaceHolder","\u9009\u62e9\u7d27\u6025\u8054\u7cfb\u4eba","name","contactInfoId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u9009\u62e9\u89d2\u8272"],["nzPlaceHolder","\u9009\u62e9\u89d2\u8272","name","charactarId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u804c\u52a1","error","\u8bf7\u8f93\u5165\u804c\u52a1!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u804c\u52a1","name","position",3,"ngModel","ngModelChange"],[2,"font-size","18px","font-weight","bold"],["uploadType","img","imgSize","3",3,"fileList","fileListOut"],[3,"nzData"],["basicTable",""],["nzWidth","30%"],["class","editable-row",4,"ngFor","ngForOf"],[1,"editable-row"],["target","_blank",3,"href"],["nz-image","","width","80px","height","80px"],["nzType","primary","nzDanger","","nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u786e\u5b9a\u5220\u9664\u5417?","nzPopconfirmPlacement","bottom",3,"nzOnConfirm"],["label","\u697c\u5c42\u540d\u79f0","error","\u8bf7\u8f93\u5165\u697c\u5c42\u540d\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u697c\u5c42\u540d\u79f0","name","name",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u56fe\u7eb8"]],template:function(e,i){1&e&&(t.YNc(0,m,9,0,"page-header",0),t.TgZ(1,"nz-card"),t.TgZ(2,"nz-tabset",1),t.YNc(3,ct,9,9,"nz-tab",2),t.qZA(),t.qZA(),t.TgZ(4,"nz-modal",3),t.NdJ("nzVisibleChange",function(a){return i.isVisibleDelete=a})("nzOnCancel",function(){return i.deleteCancel()})("nzOnOk",function(){return i.deleteOk()}),t.YNc(5,pt,5,1,"ng-container",4),t.qZA(),t.TgZ(6,"nz-modal",3),t.NdJ("nzVisibleChange",function(a){return i.isVisibleDelete6=a})("nzOnCancel",function(){return i.deleteCancel6()})("nzOnOk",function(){return i.deleteOk6()}),t.YNc(7,ht,5,1,"ng-container",4),t.qZA(),t.TgZ(8,"nz-modal",5),t.NdJ("nzVisibleChange",function(a){return i.isVisibleImgList=a})("nzOnCancel",function(){return i.imgListCancel()})("nzOnOk",function(){return i.imgListOk()}),t.YNc(9,mt,2,1,"ng-container",4),t.qZA(),t.TgZ(10,"nz-modal",6),t.NdJ("nzVisibleChange",function(a){return i.planeImgListShow=a})("nzOnCancel",function(){return i.planeImgCancel()}),t.YNc(11,ft,17,2,"ng-container",4),t.qZA(),t.TgZ(12,"nz-modal",5),t.NdJ("nzVisibleChange",function(a){return i.planeAddEdit=a})("nzOnCancel",function(){return i.planeAddEditCancel()})("nzOnOk",function(){return i.planeAddEditOk()}),t.YNc(13,Mt,7,3,"ng-container",4),t.qZA(),t.TgZ(14,"div",7),t.TgZ(15,"div",8),t._UZ(16,"div",9),t.TgZ(17,"div",10),t.TgZ(18,"label",11),t._uU(19,"\u70b9\u51fb\u5730\u56fe\u83b7\u53d6\u5730\u5740\u4fe1\u606f"),t.qZA(),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"span",14),t._uU(23,"\u7ecf\u7eac\u5ea6"),t.qZA(),t.qZA(),t.TgZ(24,"span",15),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"div",13),t.TgZ(28,"span",14),t._uU(29,"\u5730\u5740"),t.qZA(),t.qZA(),t.TgZ(30,"span",16),t._uU(31),t.qZA(),t.qZA(),t.TgZ(32,"div",17),t.TgZ(33,"table"),t.TgZ(34,"tr"),t.TgZ(35,"td"),t.TgZ(36,"label"),t._uU(37,"\u6551\u63f4\u70b9(\u70b9\u51fb\u5730\u56fe,\u641c\u7d22\u5730\u5740)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"tr"),t.TgZ(39,"td"),t.TgZ(40,"input",18),t.NdJ("ngModelChange",function(a){return i.inputAddress=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",19),t.TgZ(42,"button",20),t.NdJ("click",function(){return i.sureAddress()}),t._uU(43,"\u8fd4\u56de"),t.qZA(),t.TgZ(44,"button",21),t.NdJ("click",function(){return i.sureAddress()}),t._uU(45,"\u786e\u5b9a"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",i.needHead),t.xp6(2),t.Q6J("nzTabPosition","left"),t.xp6(1),t.Q6J("ngForOf",i.tabs),t.xp6(1),t.Q6J("nzVisible",i.isVisibleDelete),t.xp6(2),t.Q6J("nzVisible",i.isVisibleDelete6),t.xp6(2),t.Q6J("nzVisible",i.isVisibleImgList)("nzTitle",i.imgTitle),t.xp6(2),t.Q6J("nzVisible",i.planeImgListShow)("nzTitle",i.imgTitle)("nzFooter",null),t.xp6(2),t.Q6J("nzVisible",i.planeAddEdit)("nzTitle",i.planeAddEditTittle),t.xp6(2),t.Q6J("ngStyle",t.VKq(18,Ot,i.isShowMap)),t.xp6(2),t.Q6J("id",i.containerId),t.xp6(9),t.AsE(" \u7eac\u5ea6:",i.latEdit?i.latEdit:"\u672a\u9009\u62e9",", \u7ecf\u5ea6:",i.lngEdit?i.latEdit:"\u672a\u9009\u62e9"," "),t.xp6(6),t.hij(" ",i.data.address," "),t.xp6(9),t.Q6J("ngModel",i.inputAddress))},directives:[B.O5,N.bd,D.xH,B.sg,v.du,v.Hf,B.PC,T.$Z,T.Uo,A.Fj,A.JJ,A.On,b.ix,y.dQ,x.w,E.q,l.Dg,l.MO,D.xw,d.SK,A._Y,A.JL,A.F,C.Lr,M.nV,M.Ou,M.d_,S.Zp,U.Vq,Q._,S.gB,k.uw,k.wS,H.Y,U.Ip,I.S,A.wV,T.N8,T.Om,T._C,T.p0,w.JW],styles:[".map-bg[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#00000080;text-align:center;position:absolute;z-index:999;left:0;top:0;right:0}#myPageTop[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}.map-container[_ngcontent-%COMP%]{height:100%;width:100;position:absolute;top:0;left:0;bottom:0;right:0}h3[_ngcontent-%COMP%]{color:#fff;width:100%;height:100px;padding:0 16px;background-color:#1890ff;text-align:center;margin:0;position:absolute;z-index:999;left:0;top:0;right:0}h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:56px;font-size:30px;font-weight:bold;margin:0!important;padding-top:10px}.header-box[_ngcontent-%COMP%]{background:#f8f8f8;text-align:center;padding:25px 0}.header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:200}.header-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;color:#333}.back[_ngcontent-%COMP%]{display:inline-block;float:right;margin-right:20px;cursor:pointer;position:absolute;top:50px;right:50px}.map-box[_ngcontent-%COMP%]{position:absolute;z-index:999;top:100px;right:0;left:0;bottom:0;background:#eee}.table-head[_ngcontent-%COMP%]{border:1px solid #eee;display:inline-flex}.table-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 4px;font-size:14px;flex:1}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f8f8;padding:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px 0;line-height:30px}h5[_ngcontent-%COMP%]{height:50px;font-size:18px;font-weight:200px;line-height:50px;padding-left:20px;border-bottom:1px solid #eee;margin:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.check[_ngcontent-%COMP%]{display:none}.checkRemark[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:70px;display:block}.marker-img[_ngcontent-%COMP%]{width:60px!important}#animat[_ngcontent-%COMP%]{position:relative}.yellow[_ngcontent-%COMP%]{color:#d1d12c}.red[_ngcontent-%COMP%]{color:tomato}.orange[_ngcontent-%COMP%]{color:orange}#video-container-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:0;right:0;left:0;bottom:0;height:100%;background:rgba(0,0,0,.5);display:none}#video-container[_ngcontent-%COMP%]{position:absolute;left:50%;margin:100px auto auto -400px;top:50%}.icon-p[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;top:-3px}.orgInfo-box[_ngcontent-%COMP%]{background:#fff;padding:20px 20px 20px 45px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}.demo-map[_ngcontent-%COMP%]{width:500px;height:500px}.input-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;width:500px;border-width:0;border-radius:.4rem;flex:1 1 auto;padding:.75rem 1.25rem;position:absolute;top:20px;right:20px}.input-item[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:center;width:100%;height:3rem}.input-item-text[_ngcontent-%COMP%]{width:6rem;text-align:justify;padding:.1rem .7rem;display:inline-block;text-justify:distribute-all-lines;text-align-last:justify;-moz-text-align-last:justify;-webkit-text-align-last:justify;align-items:center;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem 0 0 .25rem}#address[_ngcontent-%COMP%]{width:300px}"]}),o})()},7117:(R,J,r)=>{r.d(J,{P:()=>v});var h=r(7716),t=r(3630),z=r(3109),L=r(7018),q=r(4453),P=r(9374),B=r(4514);const N=["st"];function D(T,A){if(1&T){const b=h.EpF();h.TgZ(0,"button",2),h.NdJ("click",function(){return h.CHM(b),h.oxw().add()}),h._uU(1,"\u65b0\u5efa"),h.qZA()}}let v=(()=>{class T{constructor(b,y){this.http=b,this.modal=y,this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7f16\u53f7"}}},this.columns=[{title:"\u7f16\u53f7",index:"no"},{title:"\u8c03\u7528\u6b21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50cf",type:"img",width:"50px",index:"avatar"},{title:"\u65f6\u95f4",type:"date",index:"updatedAt"},{title:"",buttons:[]}]}ngOnInit(){}add(){}}return T.\u0275fac=function(b){return new(b||T)(h.Y36(t.lP),h.Y36(t.Te))},T.\u0275cmp=h.Xpm({type:T,selectors:[["app-org-edit"]],viewQuery:function(b,y){if(1&b&&h.Gf(N,5),2&b){let x;h.iGM(x=h.CRH())&&(y.st=x.first)}},decls:5,vars:1,consts:[[3,"action"],["phActionTpl",""],["nz-button","","nzType","primary",3,"click"]],template:function(b,y){if(1&b&&(h.TgZ(0,"page-header",0),h.YNc(1,D,2,0,"ng-template",null,1,h.W1O),h.qZA(),h.TgZ(3,"nz-card"),h._uU(4," \u5355\u4f4d\u7f16\u8f91\n"),h.qZA()),2&b){const x=h.MAs(2);h.Q6J("action",x)}},directives:[z.q,L.bd,q.ix,P.dQ,B.w],encapsulation:2}),T})()},147:(R,J,r)=>{r.d(J,{Z:()=>H});var h=r(1636),t=r(7716),z=r(1147),L=r(3423),q=r(3630),P=r(2157),B=r(8492),N=r(3109),D=r(7018),v=r(665),T=r(5887),A=r(6704),b=r(7674),y=r(269),x=r(8583),E=r(4295),l=r(4453),d=r(9374),C=r(4514),M=r(1032);function S(I,w){if(1&I){const m=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(m),t.oxw().add()}),t._uU(1,"\u65b0\u5efa"),t.qZA()}}function U(I,w){if(1&I&&t._UZ(0,"nz-option",25),2&I){const m=w.$implicit;t.Q6J("nzLabel",m.name)("nzValue",m.id)}}function Q(I,w){if(1&I){const m=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"nz-form-item"),t.TgZ(2,"nz-form-label",7),t._uU(3,"\u8fd0\u8425\u4e2d\u5fc3"),t.qZA(),t.TgZ(4,"nz-form-control"),t.TgZ(5,"nz-select",23),t.NdJ("ngModelChange",function(O){return t.CHM(m),t.oxw().operateId=O}),t._UZ(6,"nz-option",9),t.YNc(7,U,1,2,"nz-option",24),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&I){const m=t.oxw();t.xp6(5),t.Q6J("ngModel",m.operateId),t.xp6(2),t.Q6J("ngForOf",m.operationList)}}const k=function(){return{xs:8,sm:8,md:8,lg:24,xl:48,xxl:48}};let H=(()=>{class I{constructor(m,c,O,Z,W,f,F){this.enumService=m,this.global=c,this.router=O,this.activatedRoute=Z,this.modal=W,this.apiService=f,this.cache=F,this.total=0,this.isPlatForm=!1,this.pageSize=10,this.pageIndex=1,this.isVisible=!1,this.status="-1",this.operationMap={},this.locationConfig=h.x.getCityConfig(),this.location={provinceId:-1},this.teadList=[{name:"\u8054\u7f51\u5355\u4f4d\u7f16\u53f7"},{name:"\u8054\u7f51\u5355\u4f4d\u540d\u79f0"},{name:"\u8054\u7cfb\u4eba"},{name:"\u8054\u7cfb\u4eba\u7535\u8bdd"},{name:"\u8fd0\u8425\u4e2d\u5fc3"},{name:"\u670d\u52a1\u72b6\u6001"},{name:"\u64cd\u4f5c"}],this.keyNameList=[{type:"text",name:"orgSerial"},{type:"text",name:"orgName"},{type:"text",name:"legalPerson"},{type:"text",name:"tel"},{type:"text",name:"centerName"},{type:"text",name:"serveStatus"},{type:"buttonList",buttons:[{text:"\u8be6\u60c5",index:1}]}],this.dataSet=[],this.isPlatForm=this.enumService.isPlatForm()}getOperationList(){this.apiService.getOperationList().then(m=>{if(m&&m.data){this.operationList=m.data,this.operationMap=this.enumService.getMap(m.data);let c=this.cache.getNone("searchData");c?(this.pageIndex=c.page,this.pageSize=c.size,this.orgSerial=c.orgSerial,this.operateId=c.operateId,this.orgName=c.orgName,this.status=c.orgServeStatus,this.location={provinceId:c.provinceId,cityId:c.cityId,districtId:c.districtId},this.searchData={page:this.pageIndex,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId},this.cache.remove("searchData"),this.getData(this.searchData)):(this.searchData={page:this.pageIndex-1,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId},this.getData(this.searchData))}})}ngOnInit(){this.getOperationList()}onLocationSelect(m){this.location=m}add(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}rest(){this.operateId="",this.orgName="",this.orgSerial="",this.location={provinceId:"-1",cityId:"-1",districtId:"-1"},this.status="-1",this.searchData={page:this.pageIndex-1,size:this.pageSize},this.getData(this.searchData)}getData(m){m=this.apiService.filterData(m),this.apiService.getOrgList(m).then(c=>{c&&c.data?(c.data.content.forEach(O=>{O.operateId&&(O.centerName=this.operationMap[O.operateId]?this.operationMap[O.operateId].name:"-"),O.serveStatus=O.serveEndTime>(new Date).getTime()?"\u670d\u52a1\u4e2d":"\u5df2\u8fc7\u671f"}),this.dataSet=c.data.content,this.total=c.data.totalElements):(this.dataSet=[],this.total=0)})}export(){}search(){this.searchData={page:this.pageIndex-1,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId},this.getData(this.searchData)}editFun(m){this.cache.set("searchData",this.searchData),this.router.navigate(["detail",m.id],{relativeTo:this.activatedRoute})}handleCancel(){this.isVisible=!1}turnPage(m){this.searchData={page:m-1,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId},this.getData(this.searchData)}}return I.\u0275fac=function(m){return new(m||I)(t.Y36(z.t),t.Y36(h.x),t.Y36(L.F0),t.Y36(L.gz),t.Y36(q.Te),t.Y36(P.s),t.Y36(B.QM))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-org-list"]],decls:47,vars:17,consts:[[3,"action"],["phActionTpl",""],["nz-form","",1,"search__form"],["nz-row","",3,"nzGutter"],["nz-col","","nzMd","6","nzSm","24"],["nzFor","no"],["nz-input","","name","orgName","placeholder","\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0",1,"search-input",3,"ngModel","ngModelChange"],["nzFor","type"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u670d\u52a1\u72b6\u6001","name","status",3,"ngModel","ngModelChange"],["nzLabel","\u5168\u90e8","nzValue","-1"],["nzLabel","\u670d\u52a1\u4e2d","nzValue","SERVING"],["nzLabel","\u672a\u542f\u52a8","nzValue","NOT_START"],["nzLabel","\u5df2\u8fc7\u671f","nzValue","SERVE_END"],["nz-col","","nzMd","6","nzSm","24",4,"ngIf"],["nzFor","orgSerial"],["nz-input","","name","orgSerial","placeholder","\u8bf7\u8f93\u5165\u8054\u7f51\u5355\u4f4d\u7f16\u53f7",3,"ngModel","ngModelChange"],["nz-col","","nzMd","16","nzSm","16"],[3,"locationInfo","sizes","onLocationSelect"],["nz-col","","nzMd","8","nzSm","24"],["nz-button","","nzType","primary",3,"click"],[1,"anticon","anticon-search"],[1,"anticon","anticon-export"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","pageIndexOut","editFuncOut"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","status",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(m,c){if(1&m&&(t.TgZ(0,"page-header",0),t.YNc(1,S,2,0,"ng-template",null,1,t.W1O),t.qZA(),t.TgZ(3,"nz-card"),t.TgZ(4,"form",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"nz-form-item"),t.TgZ(8,"nz-form-label",5),t._uU(9,"\u8054\u7f51\u5355\u4f4d\u540d\u79f0"),t.qZA(),t.TgZ(10,"nz-form-control"),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(Z){return c.orgName=Z}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",4),t.TgZ(13,"nz-form-item"),t.TgZ(14,"nz-form-label",7),t._uU(15,"\u670d\u52a1\u72b6\u6001"),t.qZA(),t.TgZ(16,"nz-form-control"),t.TgZ(17,"nz-select",8),t.NdJ("ngModelChange",function(Z){return c.status=Z}),t._UZ(18,"nz-option",9),t._UZ(19,"nz-option",10),t._UZ(20,"nz-option",11),t._UZ(21,"nz-option",12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,Q,8,2,"div",13),t.TgZ(23,"div",4),t.TgZ(24,"nz-form-item"),t.TgZ(25,"nz-form-label",14),t._uU(26,"\u8054\u7f51\u5355\u4f4d\u7f16\u53f7"),t.qZA(),t.TgZ(27,"nz-form-control"),t.TgZ(28,"input",15),t.NdJ("ngModelChange",function(Z){return c.orgNum=Z}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",3),t.TgZ(30,"div",16),t.TgZ(31,"nz-form-item"),t.TgZ(32,"nz-form-label",7),t._uU(33,"\u884c\u653f\u533a\u57df"),t.qZA(),t.TgZ(34,"nz-form-control"),t.TgZ(35,"location-select",17),t.NdJ("onLocationSelect",function(Z){return c.onLocationSelect(Z)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",18),t.TgZ(37,"button",19),t.NdJ("click",function(){return c.search()}),t._UZ(38,"i",20),t._uU(39,"\u67e5\u8be2 "),t.qZA(),t.TgZ(40,"button",19),t.NdJ("click",function(){return c.rest()}),t._UZ(41,"i",21),t._uU(42,"\u91cd\u7f6e "),t.qZA(),t.TgZ(43,"button",19),t.NdJ("click",function(){return c.export()}),t._UZ(44,"i",21),t._uU(45," \u5bfc\u5165 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"table-template",22),t.NdJ("pageIndexOut",function(Z){return c.turnPage(Z)})("editFuncOut",function(Z){return c.editFun(Z)}),t.qZA(),t.qZA()),2&m){const O=t.MAs(2);t.Q6J("action",O),t.xp6(5),t.Q6J("nzGutter",t.DdM(15,k)),t.xp6(6),t.Q6J("ngModel",c.orgName),t.xp6(6),t.Q6J("ngModel",c.status),t.xp6(5),t.Q6J("ngIf",c.isPlatForm),t.xp6(6),t.Q6J("ngModel",c.orgNum),t.xp6(1),t.Q6J("nzGutter",t.DdM(16,k)),t.xp6(6),t.Q6J("locationInfo",c.location)("sizes",8),t.xp6(11),t.Q6J("dataList",c.dataSet)("theadList",c.teadList)("total",c.total)("pageIndex",c.pageIndex)("keyNameList",c.keyNameList)("pageSize",c.pageSize)}},directives:[N.q,D.bd,v._Y,v.JL,v.F,T.Lr,A.SK,A.t3,T.Nx,T.iK,T.Fd,b.Zp,v.Fj,v.JJ,v.On,y.Vq,y.Ip,x.O5,E._,l.ix,d.dQ,C.w,M.S,x.sg],encapsulation:2}),I})()},1399:(R,J,r)=>{r.d(J,{Z:()=>N});var h=r(2080),P=(r(8644),r(3662),r(7117),r(147),r(7716));let N=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=P.oAB({type:D}),D.\u0275inj=P.cJS({imports:[[h.m8]]}),D})()}}]);