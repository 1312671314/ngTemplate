"use strict";(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[276],{7276:(he,Z,c)=>{c.r(Z),c.d(Z,{RealTimeMapModule:()=>ce});var z=c(1547),_=c(3423),b=c(7973);function M(){return(M=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}return o}).apply(this,arguments)}var B={isDecoded:!1,hasStarted:!1,source:null,gainNode:null},k=function(n,t){return"suspended"===n.state?n.resume().then(function(){return t.start(0)}):t.start(0)};const A=function(n){var t=n.file,i=n.volume,a=void 0===i?1:i,s=n.autoPlay,h=void 0!==s&&s,m=n.loop,g=void 0!==m&&m,d=function(){var n=window.AudioContext||window.webkitAudioContext;return n||function(n){throw new Error("`ts-audio`: Your browser doesn't support AudioContext - https://bit.ly/2YWmpnX")}(),new n}(),r=M({},B),f=function(){var n={};return{listener:function(i,a){n[i]=a},emit:function(i,a){var s;null==(s=n[i])||s.call(n,a)}}}(),x=function(n,t){return{ready:function(a){n.listener("decoded",a)},start:function(a){n.listener("start",a)},end:function(a){n.listener("end",a)},state:function(a){t&&(t.onstatechange=function(){return a({data:t.state})})}}}(f,d);return{play:function(){if(r.hasStarted)d.resume();else{!function(n,t,i,a){var s=a.source=n.createBufferSource(),h=a.gainNode=n.createGain();h.gain.value=t,h.connect(n.destination),s.connect(h),s.onended=function(){a.hasStarted=!1,i.emit("end",{data:null})}}(d,a,f,r);var u=r.source;u&&(function(u){r.isDecoded=!1,function(n){return fetch(n).then(function(t){if(!t.ok)throw new Error("HTTP error, status = "+t.status);return t.arrayBuffer()})}(t).then(function(I){return function(n,t,i,a,s,h,m){n.decodeAudioData(i,function(r){t.buffer=r,t.loop=s,h.isDecoded=!0,m.emit("decoded",{data:r}),a&&t.start(0)},console.error)}(d,u,I,h,g,r,f)}).catch(console.error)}(u),r.isDecoded?k(d,u):f.listener("decoded",function(){return k(d,u)}),r.hasStarted=!0,f.emit("start",{data:null}))}},pause:function(){d.suspend()},stop:function(){var u;r.hasStarted&&(null==(u=r.source)||u.stop(0))},on:function(u,I){var E;null==(E=x[u])||E.call(x,I)},get volume(){var l,u;return null!=(l=null==(u=r.gainNode)?void 0:u.gain.value)?l:0},set volume(l){r.gainNode&&(r.gainNode.gain.value=l)},get loop(){var l,u;return null!=(l=null==(u=r.source)?void 0:u.loop)&&l},set loop(l){r.source&&(r.source.loop=l)},get state(){return d.state}}};var e=c(7716),J=c(5830),W=c(7305),Y=c(106),F=c(6704),v=c(8583),T=c(3654),Q=c(7018),w=c(3327),G=c(4453),V=c(9374),K=c(4514);function X(o,n){1&o&&(e.TgZ(0,"div",36),e._uU(1,"item.checkRemark"),e.qZA())}function ee(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr",32),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td",33),e.NdJ("mouseenter",function(a){return e.CHM(t),e.oxw().mouseEnter(a)})("mouseleave",function(a){return e.CHM(t),e.oxw().mouseLeave(a)}),e._uU(11),e.YNc(12,X,2,0,"div",34),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().showVideo()}),e._uU(15,"\u89c6\u9891"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(2),e.hij(" ",t.orgName," "),e.xp6(2),e.hij(" ",t.place," "),e.xp6(2),e.hij(" ",e.xi3(7,6,t.lastReportTime,"HH:mm:ss")," "),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.checkRemark," "),e.xp6(1),e.Q6J("ngIf",t.check)}}function te(o,n){1&o&&(e.TgZ(0,"h6",37),e._uU(1," \u6682\u65e0\u6d88\u606f "),e.qZA())}function ie(o,n){if(1&o&&(e.TgZ(0,"sv",38),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.operationMap[t.orgInfo.operateId].name)}}function ae(o,n){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.person1.name," ",t.person1.phone,"")}}function ne(o,n){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",t.person2.name," ",t.person2.phone,"")}}function oe(o,n){if(1&o&&(e.TgZ(0,"b",39),e._UZ(1,"img",40),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.s9C("src",t.url,e.LSH)}}const se=function(o,n,t){return{yellow:o,red:n,orange:t}},re=function(o){return{display:o}};let S=(()=>{class o{constructor(t,i,a){this.apiService=t,this.enumService=i,this.events=a,this.total=0,this.pageIndex=1,this.pageSize=0,this.dateText="",this.accusativeType="",this.pageIndexHistory=1,this.time=Date.now(),this.interval=void 0,this.rooms=0,this.isVisible=!1,this.teadListHistory=[{name:"\u5904\u7406\u65f6\u95f4"},{name:"\u7c7b\u578b"},{name:"\u5904\u7406\u4eba"},{name:"\u5904\u7406\u65b9\u5f0f"},{name:"\u5904\u7406\u5907\u6ce8"}],this.keyNameListHistory=[{type:"time",name:"createTime"},{type:"text",name:"userTypeText"},{type:"text",name:"subjectName"},{type:"text",name:"processTypeText"},{type:"tooltip",name:"content"}],this.pageSizeHistory=10,this.containerId=`${(new Date).getTime()}`,this.scale=16,this.address="",this.searchText="",this.moveBySelect=!1,this.searchItems=[],this.messageText="\u544a\u8b66",this.boxShow="none",this.industryCategoryMap={},this.message={},this.idListAll=[],this.idList=[],this.idListWarn=[],this.idListFault=[],this.orgId=7,this.checkResultMap={0:"\u672a\u786e\u8ba4",1:"\u706b\u8b66",2:"\u8bef\u62a5"},this.classFlag=!1,this.dataSet=[],this.scroll={y:"350px"},this.teadList=[{name:"\u8054\u7f51\u5355\u4f4d"},{name:"\u5b89\u88c5\u4f4d\u7f6e"},{name:"\u4e0a\u62a5\u65f6\u95f4"},{name:"\u6d88\u606f\u7c7b\u578b"},{name:"\u5904\u7406\u72b6\u6001"},{name:"\u6d88\u9632\u89c6\u9891"}],this.keyNameList=[{type:"text",name:"orgName"},{type:"text",name:"place"},{type:"time",name:"lastReportTime"},{type:"text",name:"name"},{type:"text",name:"checkRemark"},{type:"buttonList",buttons:[{text:"\u89c6\u9891",index:1}]}],this.messageStatusMap={},this.operationMap={},this.orgInfo={},this.hanlder=(...s)=>{this.onContentChange(s[0])},this.events.on(b.l.MESSAGE_TYPE.Message,this.hanlder),this.alarmMusic=A({file:"../../../../assets/alarm.mp3",loop:!0,volume:.2}),this.warnMusic=A({file:"../../../../assets/warn.mp3",loop:!0,volume:.2}),this.faultMusic=A({file:"../../../../assets/fault.mp3",loop:!0,volume:.2}),this.mapOptions={zoom:this.scale},this.lng=116.577358,this.lat=40.064112,this.map=void 0,this.placeInfo={},this.locationCache=[0,0]}ngOnDestroy(){this.interval&&clearInterval(this.interval),this.refreshFaultInterval&&clearInterval(this.refreshFaultInterval),this.refreshWarnInterval&&clearInterval(this.refreshWarnInterval),this.refreshInterval&&clearInterval(this.refreshInterval),this.getMessage&&clearInterval(this.getMessage),this.events.destroyListener(b.l.MESSAGE_TYPE.Message,this.hanlder)}ngAfterViewInit(){this.initGps()}initGps(){this.position=new window.AMap.LngLat(116.397428,39.90923),this.initMap([this.lng,this.lat])}initMap(t){this.locationCache=t,this.lng&&this.lat?(this.mapOptions.center=[this.lng,this.lat],this.locationChange(this.lng,this.lat)):(this.mapOptions.center=t,this.locationChange(t[0],t[1])),this.map=new AMap.Map(this.containerId,this.mapOptions);const i=new AMap.Icon({size:new AMap.Size(24,24),image:"../../../assets/marker.jpg",imageSize:new AMap.Size(24,24)});this.marker=new AMap.Marker({position:t,offset:new AMap.Pixel(-12,-12),icon:i}),this.map.add(this.marker),this.marker.on("touchend",()=>{this.marker.getPosition(),console.log("touchend")}),this.marker.on("click",()=>{console.log("click")}),this.map.on("moveend",()=>{const a=this.map.getCenter();this.moveBySelect?this.moveBySelect=!1:this.locationChange(a.getLng(),a.getLat())})}clearMarker(){this.map.remove(this.marker)}locationChange(t,i){}onContentChange(t){if(console.log(t),this.orgId=t.data.orgId,this.messageId=t.data.id,this.idListAll.push(t),console.log(this.idListAll),this.message=this.idListAll[this.idListAll.length-1],this.message&&30==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,closed:!1};this.messageTypeId=0,this.messageText="\u544a\u8b66",this.alarmMusic.play(),this.setmarker(),this.searchFireAlarm(i)}else if(this.message&&40==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,closed:!1};this.messageTypeId=1,this.messageText="\u9884\u8b66",this.searchFireWarn(i),this.warnMusic.play(),this.setmarkerWarn(),this.searchFireWarn(i)}else if(this.message&&50==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,closed:!1};this.messageTypeId=2,this.messageText="\u6545\u969c",this.faultMusic.play(),this.setmarkerWarn(),this.searchDeviceFault(i)}this.refreshInterval=setInterval(()=>{if(this.idListAll.length>0){if(this.message)if(30==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,id:this.message.data.id};i=this.apiService.filterData(i),this.apiService.searchFireAlarm(i).then(a=>{console.log(a),a&&a.data&&a.data.content[0]&&1==a.data.content[0].closed&&(this.idListAll.pop(),this.closeMusic(),this.alarmMusic.stop())})}else if(40==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,id:this.message.data.id};i=this.apiService.filterData(i),this.apiService.searchFireWarn(i).then(a=>{console.log(a),a&&a.data&&a.data.content[0]&&1==a.data.content[0].closed&&(this.idListAll.pop(),this.closeMusic(),this.warnMusic.stop())})}else if(50==this.message.id){let i={page:this.pageIndex-1,size:this.pageSize,id:this.message.data.id};i=this.apiService.filterData(i),this.apiService.searchDeviceFault(i).then(a=>{console.log(a),a&&a.data&&a.data.content[0]&&1==a.data.content[0].closed&&(this.idListAll.pop(),this.closeMusic(),this.faultMusic.stop())})}}else this.refreshInterval&&clearInterval(this.refreshInterval)},2e3),this.orgId&&this.getOrgInfo()}setBlueMarker(){this.clearMarker();const t=new AMap.Icon({size:new AMap.Size(24,24),image:"../../../assets/marker.jpg",imageSize:new AMap.Size(24,24)});this.marker=new AMap.Marker({position:this.locationCache,offset:new AMap.Pixel(-12,-12),icon:t}),this.map.add(this.marker)}setmarker(){this.clearMarker(),this.marker=new AMap.Marker({position:this.locationCache,content:"<div class='img-box'><img src='../../../assets/red.png' id='animat' style='width:60px ;position:relative;animation:mymove 5s infinite;-webkit-animation:mymove 5s infinite; animation-direction:alternate;animation-timing-function: ease-in-out;-webkit-animation:mymove 5s infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function: ease-in-out;'/> </div>",offset:new AMap.Pixel(-12,-12)}),this.map.add(this.marker)}setmarkerFault(){this.clearMarker(),this.marker=new AMap.Marker({position:this.locationCache,content:"<div class='img-box'><img src='../../../assets/orange.png' id='animat' style='width:60px ;position:relative;animation:mymove 5s infinite;-webkit-animation:mymove 5s infinite; animation-direction:alternate;animation-timing-function: ease-in-out;-webkit-animation:mymove 5s infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function: ease-in-out;'/> </div>",offset:new AMap.Pixel(-12,-12)}),this.map.add(this.marker)}setmarkerWarn(){this.clearMarker(),this.marker=new AMap.Marker({position:this.locationCache,content:"<div class='img-box'><img src='../../../assets/yellow.png' id='animat' style='width:60px ;position:relative;animation:mymove 5s infinite;-webkit-animation:mymove 5s infinite; animation-direction:alternate;animation-timing-function: ease-in-out;-webkit-animation:mymove 5s infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function: ease-in-out;'/> </div>",offset:new AMap.Pixel(-12,-12)}),this.map.add(this.marker)}closeMusic(){this.setBlueMarker()}yinshiyunGetToken(){this.apiService.yinshiyunGetToken().then(t=>{t&&t.data&&(console.log(t),this.token=t.data,this.playr||this.createPlayer())})}ngOnInit(){this.yinshiyunGetToken(),this.industryCategoryMap=this.enumService.industryCategoryMap,this.businessMap=this.enumService.businessMap,this.levelMap=this.enumService.levelMap,this.charactarMap=this.enumService.charactarMap,this.materialMap=this.enumService.materialMap,this.buildAttributeMap=this.enumService.buildAttributeMap,this.interval=setInterval(()=>{this.time=Date.now()},1e3);let t={page:this.pageIndex-1,size:this.pageSize,closed:!1};this.getMessage=setInterval(()=>{this.searchFireAlarm(t),this.searchDeviceFault(t),this.searchFireWarn(t)},5e3),this.userTypeMap=this.enumService.userTypeMap,this.messageStatusMap=this.enumService.messageStatausMap,this.orgTypeMap=this.enumService.orgTypeMap,this.operationMap=this.enumService.operationMap,this.messageTypeId=0}fullChange(t){this.scroll=t?{y:"350px"}:{y:"230px"}}searchDeviceFault(t){2==this.messageTypeId&&(t=this.apiService.filterData(t),this.apiService.searchDeviceFault(t).then(i=>{i&&i.data?(i.data.content.forEach((a,s)=>{a.index=s,a.messageType="\u6545\u969c",a.parameter="\u67e5\u770b\u6570\u636e",a.statusText=this.messageStatusMap[a.processType],"SYSTEM"==a.subjectType&&(a.subjectName="\u7cfb\u7edf",a.checkRemark=a.content)}),this.dataSet=i.data.content,this.total=i.totalElements):(this.dataSet=[],this.total=0)}))}searchFireWarn(t){1==this.messageTypeId&&(t=this.apiService.filterData(t),this.apiService.searchFireWarn(t).then(i=>{this.dataSet=[],i&&i.data?(i.data.content.forEach((a,s)=>{a.index=s,a.messageType="\u9884\u8b66",a.parameter="\u67e5\u770b\u6570\u636e",a.abbreviation=this.enumService.getSerialNumAbbreviation(a.serialNum),"SYSTEM"==a.subjectType&&(a.subjectName="\u7cfb\u7edf",a.checkRemark=a.content)}),this.dataSet=i.data.content,this.total=i.totalElements):(this.dataSet=[],this.total=0)}))}searchFireAlarm(t){0==this.messageTypeId&&(t=this.apiService.filterData(t),this.apiService.searchFireAlarm(t).then(i=>{i&&i.data?(i.data.content.forEach((a,s)=>{a.index=s,a.messageType="\u544a\u8b66",a.checkResultText=this.checkResultMap[a.checkResult],a.parameter="\u67e5\u770b\u6570\u636e",a.abbreviation=this.enumService.getSerialNumAbbreviation(a.serialNum),"SYSTEM"==a.subjectType&&(a.subjectName="\u7cfb\u7edf",a.checkRemark=a.content)}),this.dataSet=i.data.content,this.total=i.data.totalElements):(this.dataSet=[],this.total=0)}))}getOrgInfo(){this.apiService.findOrgById(this.orgId).then(t=>{if(console.log(t),t&&t.data){this.orgInfo=t.data,this.orgInfo.SSQ=this.orgInfo.provinceId?this.enumService.getSSQ(this.orgInfo.provinceId,this.orgInfo.cityId,this.orgInfo.districtId):"-";let i=(new Date).getTime();this.orgInfo.serveEndTime&&i<this.orgInfo.serveEndTime?this.orgInfo.contractStatus="\u6709\u6548":this.orgInfo.serveEndTime&&i>this.orgInfo.serveEndTime?this.orgInfo.contractStatus="\u8fc7\u671f":this.orgInfo.serveStartTime&&i>this.orgInfo.serveStartTime&&(this.orgInfo.contractStatus="\u672a\u5f00\u59cb\u670d\u52a1"),this.orgInfo.businessStatus=this.businessMap[this.orgInfo.businessStatus],this.orgInfo.images=this.orgInfo.images?JSON.parse(this.orgInfo.images):[],this.orgInfo.logo=this.orgInfo.logo?JSON.parse(this.orgInfo.logo):[],this.orgInfo.certImage=this.orgInfo.certImage?JSON.parse(this.orgInfo.certImage):[],this.orgContactInfo(),this.orgBuildInfo()}})}orgContactInfo(){this.apiService.orgContactInfo({orgId:this.orgId}).then(t=>{t&&t.data&&(t.data.forEach((i,a)=>{i.index=a,i.levelText=this.levelMap[i.level],i.charactarText=this.charactarMap[i.charactarId]}),this.dataSet7=t.data,this.person1=this.dataSet7[0],this.person2=this.dataSet7[1])})}refreshFireAlarm(){let t=[];this.idList.forEach(i=>{if(i){const a=this.apiService.searchFireAlarm({page:0,size:10,id:i}).then(s=>Promise.resolve(s));t.push(a)}}),Promise.all(t).then(()=>{console.log(t);let i=!0;t.forEach(a=>{0==a.__zone_symbol__value.data.content[0].closed&&(i=!1)}),i&&(this.idList=[],clearTimeout(this.refreshInterval),this.closeMusic())})}refreshWarn(){let t=[];this.idListWarn.forEach(i=>{if(i){const a=this.apiService.searchFireWarn({page:0,size:10,id:i}).then(s=>Promise.resolve(s));t.push(a)}}),Promise.all(t).then(()=>{console.log(t);let i=!0;t.forEach(a=>{0==a.__zone_symbol__value.data.content[0].closed&&(i=!1)}),i&&(this.idListWarn=[],clearTimeout(this.refreshWarnInterval),this.closeMusic())})}refreshFault(){let t=[];this.idListFault.forEach(i=>{if(i){const a=this.apiService.searchDeviceFault({page:0,size:10,id:i}).then(s=>Promise.resolve(s));t.push(a)}}),Promise.all(t).then(()=>{console.log(t);let i=!0;t.forEach(a=>{0==a.__zone_symbol__value.data.content[0].closed&&(i=!1)}),i&&(this.idListFault=[],clearTimeout(this.refreshFaultInterval),this.closeMusic())})}orgBuildInfo(){this.apiService.orgBuildInfo(this.orgId).then(t=>{if(t&&t.data){let i=0;t.data.forEach((a,s)=>{a.index=s,a.buildAttributeText=this.buildAttributeMap[a.buildAttribute],a.materialText=this.materialMap[a.material],i+=a.roomsNumber}),this.rooms=i,this.dataSet2=t.data,this.buildNumber=t.data?t.data.length:0}})}processLogSearch(){this.accusativeType=1==this.messageTypeId?"FIRE_WARN":0==this.messageTypeId?"FIRE_ALARM":"FIRE_FAULT",this.apiService.processLogSearch({accusativeId:this.editItem.id,accusativeType:this.accusativeType,page:this.pageIndexHistory-1,size:10}).then(t=>{console.log(t),t&&t.data?(t.data.content.forEach((i,a)=>{i.index=a,i.userTypeText=this.userTypeMap[i.accusativeType],i.processTypeText=this.messageStatusMap[i.processType],"SYSTEM"==i.subjectType&&(i.subjectName="\u7cfb\u7edf",i.checkRemark=i.content)}),this.dataSetHistory=t.data.content,this.totalHistory=t.data.totalElements):(this.dataSetHistory=[],this.totalHistory=0)})}back(){history.back()}editFun(t){}turnPageHistory(t){this.pageIndexHistory=t,this.processLogSearch()}mouseEnter(t){}mouseLeave(t){}Cancel(){this.isVisible=!1}showVideo(){this.boxShow="block"}closeVideo(){this.boxShow="none"}createPlayer(){this.playr=new EZUIKit.EZUIKitPlayer({id:"video-container",accessToken:this.token,url:"ezopen://open.ys7.com/C50669725/1.hd.live",template:"simple",autoplay:!0,header:["capturePicture","save","zoom"],footer:["talk","broadcast","hd","fullScreen"],audio:0,openSoundCallBack:t=>console.log("\u5f00\u542f\u58f0\u97f3\u56de\u8c03",t),closeSoundCallBack:t=>console.log("\u5173\u95ed\u58f0\u97f3\u56de\u8c03",t),startSaveCallBack:t=>console.log("\u5f00\u59cb\u5f55\u50cf\u56de\u8c03",t),stopSaveCallBack:t=>console.log("\u5f55\u50cf\u56de\u8c03",t),capturePictureCallBack:t=>console.log("\u622a\u56fe\u6210\u529f\u56de\u8c03",t),fullScreenCallBack:t=>console.log("\u5168\u5c4f\u56de\u8c03",t),fullScreenChangeCallBack:t=>console.log("\u5168\u5c4f\u53d8\u5316\u56de\u8c03",t),getOSDTimeCallBack:t=>console.log("\u83b7\u53d6OSDTime\u56de\u8c03",t),handleSuccess:t=>{console.log("\u64ad\u653e\u6210\u529f\u56de\u8c03",t)},handleError:t=>console.log("\u64ad\u653e\u5931\u8d25\u56de\u8c031",t),handleTalkSuccess:()=>console.log("\u5bf9\u8bb2\u6210\u529f\u56de\u6389"),handleTalkError:t=>{console.log("\u5bf9\u8bb2\u5931\u8d25",t)},decoderVersion:"v3.4",width:800,height:600})}Ok(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.s),e.Y36(W.t),e.Y36(Y.n))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-real-time-map-map"]],decls:89,vars:32,consts:[[1,"map-box"],[1,"back",3,"click"],[2,"width","100%"],["nzSpan","8"],[3,"ngClass"],["class","table-body",4,"ngFor","ngForOf"],["style","text-align: center; padding:20px 0; color: #313131;",4,"ngIf"],["nzSpan","9"],[1,"header-box",2,"height","80"],["nzSpan","6"],[1,"map-container",3,"id"],["nzSpan","7"],["nzTitle","\u5355\u4f4d\u4fe1\u606f"],["nzSpan","20"],["size","small","col","2"],["label","\u8054\u7f51\u5355\u4f4d"],["label","\u5efa\u7b51\u6570\u91cf"],["label","\u623f\u95f4\u6570\u76ee"],["label","\u5355\u4f4d\u5730\u5740","col","1"],["label","\u5b89\u88c5\u4f4d\u7f6e"],["label","\u4e0a\u62a5\u65f6\u95f4"],["label","\u7269\u4e1a\u7c7b\u578b"],["label","\u8fd0\u8425\u4e2d\u5fc3","col","1",4,"ngIf"],["label","\u5408\u540c\u72b6\u6001"],["label","\u8425\u4e1a\u72b6\u6001"],["label","\u7d27\u6025\u8054\u7cfb\u4eba1","col","1"],[4,"ngIf"],["label","\u7d27\u6025\u8054\u7cfb\u4eba2","col","1"],["label","","col","1"],["style","display: inline-block;margin-right: 10px;",4,"ngFor","ngForOf"],["id","video-container-box",3,"ngStyle","click"],["id","video-container",2,"width","800px"],[1,"table-body"],[1,"checkRemark",3,"mouseenter","mouseleave"],["class","check",4,"ngIf"],["nz-button","",3,"click"],[1,"check"],[2,"text-align","center","padding","20px 0","color","#313131"],["label","\u8fd0\u8425\u4e2d\u5fc3","col","1"],[2,"display","inline-block","margin-right","10px"],["width","120px","height","80px;",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3"),e.TgZ(2,"p"),e._uU(3,"\u6d88\u6613\u4e91\u6d88\u9632\u6570\u5b57\u5316\u8fd0\u8425\u4e2d\u5fc3"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"span",1),e.NdJ("click",function(){return i.back()}),e._uU(8,"\u8fd4\u56de"),e.qZA(),e.qZA(),e.TgZ(9,"nz-row",2),e.TgZ(10,"nz-col",3),e.TgZ(11,"h5"),e._uU(12," \u5b9e\u65f6\u8b66\u60c5- "),e.TgZ(13,"span",4),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"table"),e.TgZ(16,"thead"),e.TgZ(17,"th"),e._uU(18,"\u8054\u7f51\u5355\u4f4d"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"\u5b89\u88c5\u4f4d\u7f6e"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"\u4e0a\u62a5\u65f6\u95f4"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"\u6d88\u606f\u7c7b\u578b"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"\u5904\u7406\u72b6\u6001"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"\u6d88\u9632\u89c6\u9891"),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,ee,16,9,"tr",5),e.qZA(),e.qZA(),e.YNc(31,te,2,0,"h6",6),e.qZA(),e.TgZ(32,"nz-col",7),e.TgZ(33,"nz-row",8),e.TgZ(34,"nz-col",9),e.TgZ(35,"p"),e._uU(36," \u8054\u7f51\u5355\u4f4d"),e.qZA(),e.TgZ(37,"span"),e._uU(38," 350\u5bb6 "),e.qZA(),e.qZA(),e.TgZ(39,"nz-col",9),e.TgZ(40,"p"),e._uU(41," \u4fdd\u62a4\u623f\u95f4"),e.qZA(),e.TgZ(42,"span"),e._uU(43," 343\u95f4 "),e.qZA(),e.qZA(),e.TgZ(44,"nz-col",9),e.TgZ(45,"p"),e._uU(46," \u62a5\u53d7\u5904\u7406"),e.qZA(),e.TgZ(47,"span"),e._uU(48," 231\u6b21 "),e.qZA(),e.qZA(),e.TgZ(49,"nz-col",9),e.TgZ(50,"p"),e._uU(51," \u6251\u65e9\u706d\u5c0f"),e.qZA(),e.TgZ(52,"span"),e._uU(53," 14\u8d77 "),e.qZA(),e.qZA(),e.qZA(),e._UZ(54,"div",10),e.qZA(),e.TgZ(55,"nz-col",11),e.TgZ(56,"nz-card",12),e.TgZ(57,"nz-row"),e.TgZ(58,"nz-col",13),e.TgZ(59,"sv-container",14),e.TgZ(60,"sv",15),e._uU(61),e.qZA(),e.TgZ(62,"sv",16),e._uU(63),e.qZA(),e.TgZ(64,"sv",17),e._uU(65),e.qZA(),e.TgZ(66,"sv",18),e._uU(67),e.qZA(),e.TgZ(68,"sv",19),e._uU(69),e.qZA(),e.TgZ(70,"sv",20),e._uU(71),e.ALo(72,"date"),e.qZA(),e.TgZ(73,"sv",21),e._uU(74),e.qZA(),e.YNc(75,ie,2,1,"sv",22),e.TgZ(76,"sv",23),e._uU(77),e.qZA(),e.TgZ(78,"sv",24),e._uU(79),e.qZA(),e.TgZ(80,"sv",25),e.YNc(81,ae,2,2,"span",26),e.qZA(),e.TgZ(82,"sv",27),e.YNc(83,ne,2,2,"span",26),e.qZA(),e.TgZ(84,"sv",28),e.YNc(85,oe,2,1,"b",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",30),e.NdJ("click",function(){return i.closeVideo()}),e.TgZ(87,"div"),e._UZ(88,"div",31),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij("\u65f6\u95f4: ",e.xi3(6,20,i.time,"yyyy-MM-dd HH:mm:ss")," "),e.xp6(8),e.Q6J("ngClass",e.kEZ(26,se,1==i.messageTypeId,0==i.messageTypeId,2==i.messageTypeId)),e.xp6(1),e.Oqu(i.messageText),e.xp6(16),e.Q6J("ngForOf",i.dataSet),e.xp6(1),e.Q6J("ngIf",i.dataSet&&0==i.dataSet.length),e.xp6(23),e.Q6J("id",i.containerId),e.xp6(7),e.Oqu(i.orgInfo.orgName),e.xp6(2),e.hij("",i.buildNumber,"\u5e62"),e.xp6(2),e.hij("",i.rooms,"\u95f4"),e.xp6(2),e.Oqu(i.orgInfo.address),e.xp6(2),e.Oqu(i.message.place),e.xp6(2),e.Oqu(e.xi3(72,23,i.message.lastReportTime,"HH:mm:ss")),e.xp6(3),e.hij(" ",i.industryCategoryMap[i.orgInfo.industryCategory]," "),e.xp6(1),e.Q6J("ngIf",i.operationMap[i.orgInfo.operateId]),e.xp6(2),e.Oqu(i.orgInfo.contractStatus),e.xp6(2),e.Oqu(i.orgInfo.businessStatus),e.xp6(2),e.Q6J("ngIf",i.person1),e.xp6(2),e.Q6J("ngIf",i.person2),e.xp6(2),e.Q6J("ngForOf",i.orgInfo.images),e.xp6(1),e.Q6J("ngStyle",e.VKq(30,re,i.boxShow)))},directives:[F.SK,F.t3,v.mk,T.Om,T.Uo,T._C,T.p0,v.sg,v.O5,Q.bd,w.vb,w.sE,v.PC,T.$Z,G.ix,V.dQ,K.w],pipes:[v.uU],styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:100%;min-width:600px;min-height:400px}h3[_ngcontent-%COMP%]{color:#fff;width:100%;height:106px;padding:0 16px;background-color:#1890ff;text-align:center;margin:0}h3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:56px;font-size:30px;font-weight:bold;margin:0!important;padding-top:10px}.header-box[_ngcontent-%COMP%]{background:#f8f8f8;text-align:center;padding:25px 0}.header-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:200}.header-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;color:#333}.back[_ngcontent-%COMP%]{display:inline-block;float:right;margin-right:20px;cursor:pointer;position:absolute;top:50px;right:50px}.map-box[_ngcontent-%COMP%]{position:absolute;z-index:999;top:0;right:0;left:0;bottom:0;height:100%;background:#fff}.table-head[_ngcontent-%COMP%]{border:1px solid #eee;display:inline-flex}.table-head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:6px 4px;font-size:14px;flex:1}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f8f8;padding:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px 0;line-height:30px}h5[_ngcontent-%COMP%]{height:50px;font-size:18px;font-weight:200px;line-height:50px;padding-left:20px;border-bottom:1px solid #eee;margin:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.check[_ngcontent-%COMP%]{display:none}.checkRemark[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:70px;display:block}.marker-img[_ngcontent-%COMP%]{width:60px!important}#animat[_ngcontent-%COMP%]{position:relative;animation:mymove 5s infinite;animation-direction:alternate;animation-timing-function:ease-in-out}@keyframes mymove{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1.6)}75%{transform:scale(1.8)}}.yellow[_ngcontent-%COMP%]{color:#d1d12c}.red[_ngcontent-%COMP%]{color:tomato}.orange[_ngcontent-%COMP%]{color:orange}#video-container-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:0;right:0;left:0;bottom:0;height:100%;background:rgba(0,0,0,.5);display:none}#video-container[_ngcontent-%COMP%]{position:absolute;left:50%;margin:100px auto auto -400px;top:50%}"]}),o})();const le=[{path:"",component:S},{path:"map",component:S}];let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.Bz.forChild(le)],_.Bz]}),o})(),ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[z.m8,ue]]}),o})()}}]);