"use strict";(self.webpackChunkng_alain=self.webpackChunkng_alain||[]).push([[622],{1622:(ye,S,l)=>{l.r(S),l.d(S,{OrgModule:()=>ve});var Q=l(1547),u=l(3423),m=l(7465),e=l(7716),A=l(7305),p=l(3630),F=l(5830),h=l(3109),C=l(7018),s=l(665),_=l(5887),z=l(6704),M=l(7674),d=l(269),O=l(8583),I=l(9025),f=l(4453),T=l(9374),b=l(4514),D=l(3267);function k(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(1,"\u65b0\u5efa"),e.qZA()}}function H(o,r){if(1&o&&e._UZ(0,"nz-option",24),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}const y=function(){return{xs:8,sm:8,md:8,lg:24,xl:48,xxl:48}};let J=(()=>{class o{constructor(t,n,i,a,g,v){this.enumService=t,this.global=n,this.router=i,this.activatedRoute=a,this.modal=g,this.apiService=v,this.total=0,this.pageSize=10,this.pageIndex=1,this.isVisible=!1,this.status="-1",this.operationMap={},this.locationConfig=m.x.getCityConfig(),this.location={provinceId:-1},this.teadList=[{name:"\u8054\u7f51\u5355\u4f4d\u7f16\u53f7"},{name:"\u8054\u7f51\u5355\u4f4d\u540d\u79f0"},{name:"\u8054\u7cfb\u4eba"},{name:"\u8054\u7cfb\u4eba\u7535\u8bdd"},{name:"\u8fd0\u8425\u4e2d\u5fc3"},{name:"\u670d\u52a1\u72b6\u6001"},{name:"\u64cd\u4f5c"}],this.keyNameList=[{type:"text",name:"orgSerial"},{type:"text",name:"orgName"},{type:"text",name:"legalPerson"},{type:"text",name:"tel"},{type:"text",name:"centerName"},{type:"text",name:"serveStatus"},{type:"buttonList",buttons:[{text:"\u8be6\u60c5",index:1}]}],this.dataSet=[]}ngOnInit(){this.operationList=this.enumService.operationList,this.operationMap=this.enumService.operationMap,this.getData({page:this.pageIndex-1,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId})}onLocationSelect(t){this.location=t}add(){this.router.navigate(["add"],{relativeTo:this.activatedRoute})}rest(){this.operateId="",this.orgName="",this.orgSerial="",this.location={provinceId:"-1",cityId:"-1",districtId:"-1"},this.status="-1",this.getData({page:this.pageIndex-1,size:this.pageSize})}getData(t){t=this.apiService.filterData(t),this.apiService.getOrgList(t).then(n=>{n&&n.data?(n.data.content.forEach(i=>{i.operateId&&(i.centerName=this.operationMap[i.operateId].name),i.serveStatus=i.serveEndTime>(new Date).getTime()?"\u670d\u52a1\u4e2d":"\u5df2\u8fc7\u671f"}),this.dataSet=n.data.content,this.total=n.data.totalElements):(this.dataSet=[],this.total=0)})}export(){}search(){let t={page:this.pageIndex-1,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId};t=this.apiService.filterData(t),this.getData(t)}editFun(t){this.router.navigate(["detail",t.id],{relativeTo:this.activatedRoute})}handleCancel(){this.isVisible=!1}turnPage(t){this.getData({page:t,size:this.pageSize,orgSerial:this.orgSerial,orgName:this.orgName,orgServeStatus:this.status,provinceId:this.location.provinceId,cityId:this.location.cityId,districtId:this.location.districtId,operateId:this.operateId})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.t),e.Y36(m.x),e.Y36(u.F0),e.Y36(u.gz),e.Y36(p.Te),e.Y36(F.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-org-org-list"]],decls:54,vars:18,consts:[[3,"action"],["phActionTpl",""],["nz-form","",1,"search__form"],["nz-row","",3,"nzGutter"],["nz-col","","nzMd","6","nzSm","24"],["nzFor","no"],["nz-input","","name","orgName","placeholder","\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0",1,"search-input",3,"ngModel","ngModelChange"],["nzFor","type"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u670d\u52a1\u72b6\u6001","name","status",3,"ngModel","ngModelChange"],["nzLabel","\u5168\u90e8","nzValue","-1"],["nzLabel","\u670d\u52a1\u4e2d","nzValue","SERVING"],["nzLabel","\u672a\u542f\u52a8","nzValue","NOT_START"],["nzLabel","\u5df2\u8fc7\u671f","nzValue","SERVE_END"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","status",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzFor","orgSerial"],["nz-input","","name","orgSerial","placeholder","\u8bf7\u8f93\u5165\u8054\u7f51\u5355\u4f4d\u7f16\u53f7",3,"ngModel","ngModelChange"],["nz-col","","nzMd","16","nzSm","16"],[3,"locationInfo","sizes","onLocationSelect"],["nz-col","","nzMd","8","nzSm","24"],["nz-button","","nzType","primary",3,"click"],[1,"anticon","anticon-search"],[1,"anticon","anticon-export"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","pageIndexOut","editFuncOut"],[3,"nzLabel","nzValue"]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-header",0),e.YNc(1,k,2,0,"ng-template",null,1,e.W1O),e.qZA(),e.TgZ(3,"nz-card"),e.TgZ(4,"form",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"nz-form-item"),e.TgZ(8,"nz-form-label",5),e._uU(9,"\u8054\u7f51\u5355\u4f4d\u540d\u79f0"),e.qZA(),e.TgZ(10,"nz-form-control"),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(a){return n.orgName=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",4),e.TgZ(13,"nz-form-item"),e.TgZ(14,"nz-form-label",7),e._uU(15,"\u670d\u52a1\u72b6\u6001"),e.qZA(),e.TgZ(16,"nz-form-control"),e.TgZ(17,"nz-select",8),e.NdJ("ngModelChange",function(a){return n.status=a}),e._UZ(18,"nz-option",9),e._UZ(19,"nz-option",10),e._UZ(20,"nz-option",11),e._UZ(21,"nz-option",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",4),e.TgZ(23,"nz-form-item"),e.TgZ(24,"nz-form-label",7),e._uU(25,"\u8fd0\u8425\u4e2d\u5fc3"),e.qZA(),e.TgZ(26,"nz-form-control"),e.TgZ(27,"nz-select",13),e.NdJ("ngModelChange",function(a){return n.operateId=a}),e._UZ(28,"nz-option",9),e.YNc(29,H,1,2,"nz-option",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",4),e.TgZ(31,"nz-form-item"),e.TgZ(32,"nz-form-label",15),e._uU(33,"\u8054\u7f51\u5355\u4f4d\u7f16\u53f7"),e.qZA(),e.TgZ(34,"nz-form-control"),e.TgZ(35,"input",16),e.NdJ("ngModelChange",function(a){return n.orgNum=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",3),e.TgZ(37,"div",17),e.TgZ(38,"nz-form-item"),e.TgZ(39,"nz-form-label",7),e._uU(40,"\u884c\u653f\u533a\u57df"),e.qZA(),e.TgZ(41,"nz-form-control"),e.TgZ(42,"location-select",18),e.NdJ("onLocationSelect",function(a){return n.onLocationSelect(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",19),e.TgZ(44,"button",20),e.NdJ("click",function(){return n.search()}),e._UZ(45,"i",21),e._uU(46,"\u67e5\u8be2 "),e.qZA(),e.TgZ(47,"button",20),e.NdJ("click",function(){return n.rest()}),e._UZ(48,"i",22),e._uU(49,"\u91cd\u7f6e "),e.qZA(),e.TgZ(50,"button",20),e.NdJ("click",function(){return n.export()}),e._UZ(51,"i",22),e._uU(52," \u5bfc\u5165 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"table-template",23),e.NdJ("pageIndexOut",function(a){return n.turnPage(a)})("editFuncOut",function(a){return n.editFun(a)}),e.qZA(),e.qZA()),2&t){const i=e.MAs(2);e.Q6J("action",i),e.xp6(5),e.Q6J("nzGutter",e.DdM(16,y)),e.xp6(6),e.Q6J("ngModel",n.orgName),e.xp6(6),e.Q6J("ngModel",n.status),e.xp6(10),e.Q6J("ngModel",n.operateId),e.xp6(2),e.Q6J("ngForOf",n.operationList),e.xp6(6),e.Q6J("ngModel",n.orgNum),e.xp6(1),e.Q6J("nzGutter",e.DdM(17,y)),e.xp6(6),e.Q6J("locationInfo",n.location)("sizes",8),e.xp6(11),e.Q6J("dataList",n.dataSet)("theadList",n.teadList)("total",n.total)("pageIndex",n.pageIndex)("keyNameList",n.keyNameList)("pageSize",n.pageSize)}},directives:[h.q,C.bd,s._Y,s.JL,s.F,_.Lr,z.SK,z.t3,_.Nx,_.iK,_.Fd,M.Zp,s.Fj,s.JJ,s.On,d.Vq,d.Ip,O.sg,I._,f.ix,T.dQ,b.w,D.S],encapsulation:2}),o})();var q=l(8058),x=l(5392),L=l(4828),E=l(8542),c=l(1244),Z=l(324),N=l(8481);function U(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function Y(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function P(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function R(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function $(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function j(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"nz-row"),e.TgZ(2,"form",8,9),e.NdJ("submit",function(){return e.CHM(t),e.oxw(2).update()}),e.TgZ(4,"se-title"),e._uU(5,"\u5de5\u5546\u4fe1\u606f"),e.qZA(),e.TgZ(6,"se",10),e.TgZ(7,"input",11),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.orgName=i}),e.qZA(),e.qZA(),e.TgZ(8,"se",12),e.TgZ(9,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.certSerial=i}),e.qZA(),e.qZA(),e.TgZ(10,"se",14),e.TgZ(11,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.tel=i}),e.qZA(),e.qZA(),e.TgZ(12,"se",16),e.TgZ(13,"nz-select",17),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.ownershipType=i}),e.YNc(14,U,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(15,"se",19),e.TgZ(16,"location-select",20),e.NdJ("onLocationSelect",function(i){return e.CHM(t),e.oxw(2).onLocationSelect(i)}),e.qZA(),e.qZA(),e.TgZ(17,"se",21),e.TgZ(18,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.address=i}),e.qZA(),e.qZA(),e.TgZ(19,"se",23),e.TgZ(20,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.legalPerson=i}),e.qZA(),e.qZA(),e.TgZ(21,"se",25),e.TgZ(22,"nz-select",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.industry=i}),e.YNc(23,Y,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(24,"se",27),e.TgZ(25,"nz-select",28),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.industryCategory=i}),e.YNc(26,P,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(27,"se",29),e.TgZ(28,"nz-select",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.businessStatus=i}),e.YNc(29,R,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(30,"se-title"),e._uU(31,"\u670d\u52a1\u4fe1\u606f"),e.qZA(),e.TgZ(32,"se",31),e.TgZ(33,"input",32),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.orgShortName=i}),e.qZA(),e.qZA(),e.TgZ(34,"se",33),e.TgZ(35,"nz-select",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).data.operateId=i}),e.YNc(36,$,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(37,"se",35),e.TgZ(38,"nz-range-picker",36),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(2).date=i})("ngModelChange",function(i){return e.CHM(t),e.oxw(2).onChange(i)}),e.qZA(),e.qZA(),e.TgZ(39,"se-title"),e._uU(40,"\u56fe\u7247\u4fe1\u606f"),e.qZA(),e.TgZ(41,"se",37),e.TgZ(42,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(2).getLogoImg(i)}),e.qZA(),e.qZA(),e.TgZ(43,"se",39),e.TgZ(44,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(2).getCertImage(i)}),e.qZA(),e.qZA(),e.TgZ(45,"se",40),e.TgZ(46,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(2).getDoorwayImages(i)}),e.qZA(),e.qZA(),e.TgZ(47,"se",41),e.TgZ(48,"button",42),e._uU(49,"\u4fdd\u5b58"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.MAs(3),n=e.oxw(2);e.xp6(7),e.Q6J("ngModel",n.data.orgName),e.xp6(2),e.Q6J("ngModel",n.data.certSerial),e.xp6(2),e.Q6J("ngModel",n.data.tel),e.xp6(2),e.Q6J("ngModel",n.data.ownershipType),e.xp6(1),e.Q6J("ngForOf",n.orgTypeArr),e.xp6(2),e.Q6J("locationInfo",n.location)("sizes",6),e.xp6(2),e.Q6J("ngModel",n.data.address),e.xp6(2),e.Q6J("ngModel",n.data.legalPerson),e.xp6(2),e.Q6J("ngModel",n.data.industry),e.xp6(1),e.Q6J("ngForOf",n.industryArr),e.xp6(2),e.Q6J("ngModel",n.data.industryCategory),e.xp6(1),e.Q6J("ngForOf",n.industryCategoryArr),e.xp6(2),e.Q6J("ngModel",n.data.businessStatus),e.xp6(1),e.Q6J("ngForOf",n.businessArr),e.xp6(4),e.Q6J("ngModel",n.data.orgShortName),e.xp6(2),e.Q6J("ngModel",n.data.operateId),e.xp6(1),e.Q6J("ngForOf",n.operationList),e.xp6(2),e.Q6J("ngModel",n.date),e.xp6(4),e.Q6J("fileList",n.logoImg)("imgSize","1"),e.xp6(2),e.Q6J("fileList",n.certImage)("imgSize","1"),e.xp6(2),e.Q6J("fileList",n.doorwayImages)("imgSize","5"),e.xp6(2),e.Q6J("disabled",t.invalid)}}function G(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function K(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function W(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",47,9),e.TgZ(3,"se",48),e.TgZ(4,"input",49),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.name=i}),e.qZA(),e.qZA(),e.TgZ(5,"se",50),e.TgZ(6,"input",51),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.floor=i}),e.qZA(),e.qZA(),e.TgZ(7,"se",52),e.TgZ(8,"input",53),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.roomsNumber=i}),e.qZA(),e.qZA(),e.TgZ(9,"se",54),e.TgZ(10,"input",55),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.square=i}),e.qZA(),e.qZA(),e.TgZ(11,"se",56),e.TgZ(12,"nz-select",57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.material=i}),e.YNc(13,G,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(14,"se",58),e.TgZ(15,"nz-select",59),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).bulid.buildAttribute=i}),e.YNc(16,K,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(17,"se",60),e.TgZ(18,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(3).getFileList(i)}),e.qZA(),e.qZA(),e.TgZ(19,"se",61),e.TgZ(20,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(3).getBlueprint(i)}),e.qZA(),e.qZA(),e.TgZ(21,"se",62),e.TgZ(22,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw(3).getEvacuationImages(i)}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.bulid.name),e.xp6(2),e.Q6J("ngModel",t.bulid.floor),e.xp6(2),e.Q6J("ngModel",t.bulid.roomsNumber),e.xp6(2),e.Q6J("ngModel",t.bulid.square),e.xp6(2),e.Q6J("ngModel",t.bulid.material),e.xp6(1),e.Q6J("ngForOf",t.materialArr),e.xp6(2),e.Q6J("ngModel",t.bulid.buildAttribute),e.xp6(1),e.Q6J("ngForOf",t.buildAttributeArr),e.xp6(2),e.Q6J("fileList",t.fileList)("imgSize",t.imgSize),e.xp6(2),e.Q6J("fileList",t.blueprint)("imgSize",t.imgSize),e.xp6(2),e.Q6J("fileList",t.evacuationImages)("imgSize",t.imgSize)}}function X(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addBuild()}),e._uU(3,"\u6dfb\u52a0\u5efa\u7b51\u4fe1\u606f"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",45),e.NdJ("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun2(i)})("viewImgOut",function(i){return e.CHM(t),e.oxw(2).viewImg(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible2=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel2()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk2()}),e.YNc(6,W,23,14,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet2)("theadList",t.teadList2)("total",t.total2)("pageIndex",t.pageIndex2)("keyNameList",t.keyNameList2)("pageSize",t.pageSize2),e.xp6(1),e.Q6J("nzVisible",t.isVisible2)}}function ee(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"table-template",45),e.NdJ("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun3(i)})("viewImgOut",function(i){return e.CHM(t),e.oxw(2).viewImg3(i)}),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("dataList",t.dataSet2)("theadList",t.teadList3)("total",t.total3)("pageIndex",t.pageIndex3)("keyNameList",t.keyNameList3)("pageSize",t.pageSize3)}}function te(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"nz-row"),e.TgZ(2,"form",64,9),e.TgZ(4,"se-title"),e._uU(5,"\u5408\u540c\u4fe1\u606f"),e.qZA(),e.TgZ(6,"se",65),e.TgZ(7,"input",66),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfo.contractSerial=i}),e.qZA(),e.qZA(),e.TgZ(8,"se",67),e.TgZ(9,"input",68),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfo.businessUserName=i}),e.qZA(),e.qZA(),e.TgZ(10,"se",69),e.TgZ(11,"input",70),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfo.businessUserPhone=i}),e.qZA(),e.qZA(),e.TgZ(12,"se",71),e.TgZ(13,"input",72),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfo.insuranceSerial=i}),e.qZA(),e.qZA(),e.TgZ(14,"se",73),e.TgZ(15,"nz-range-picker",74),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfoTime=i})("ngModelChange",function(i){return e.CHM(t),e.oxw(3).onChangeContractInfoTime(i)}),e.qZA(),e.qZA(),e.TgZ(16,"se",35),e.TgZ(17,"nz-range-picker",75),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).contractInfoServeTime=i})("ngModelChange",function(i){return e.CHM(t),e.oxw(3).onChangeContractInfoServeTime(i)}),e.qZA(),e.qZA(),e._UZ(18,"se",76),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(7),e.Q6J("ngModel",t.contractInfo.contractSerial),e.xp6(2),e.Q6J("ngModel",t.contractInfo.businessUserName),e.xp6(2),e.Q6J("ngModel",t.contractInfo.businessUserPhone),e.xp6(2),e.Q6J("ngModel",t.contractInfo.insuranceSerial),e.xp6(2),e.Q6J("ngModel",t.contractInfoTime),e.xp6(2),e.Q6J("ngModel",t.contractInfoServeTime)}}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addContractInfo()}),e._uU(3,"\u6dfb\u52a0\u5408\u540c"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",63),e.NdJ("pageIndexOut",function(i){return e.CHM(t),e.oxw(2).turnPage4(i)})("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun4(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible4=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel4()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk4()}),e.YNc(6,te,19,6,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet4)("theadList",t.teadList4)("total",t.total4)("pageIndex",t.pageIndex4)("keyNameList",t.keyNameList4)("pageSize",t.pageSize4),e.xp6(1),e.Q6J("nzVisible",t.isVisible4)}}function ie(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function ae(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",47,9),e.TgZ(3,"se",77),e.TgZ(4,"nz-select",78),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).riskSource.riskSourceId=i}),e.YNc(5,ie,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(6,"se",79),e.TgZ(7,"input",80),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).riskSource.position=i}),e.qZA(),e.qZA(),e.TgZ(8,"se",81),e.TgZ(9,"input",82),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).riskSource.count=i}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.riskSource.riskSourceId),e.xp6(1),e.Q6J("ngForOf",t.riskSourceAll),e.xp6(2),e.Q6J("ngModel",t.riskSource.position),e.xp6(2),e.Q6J("ngModel",t.riskSource.count)}}function oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addRiskSource()}),e._uU(3,"\u6dfb\u52a0\u98ce\u9669\u6e90"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",63),e.NdJ("pageIndexOut",function(i){return e.CHM(t),e.oxw(2).turnPage5(i)})("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun5(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible5=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel5()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk5()}),e.YNc(6,ae,10,4,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet5)("theadList",t.teadList5)("total",t.total5)("pageIndex",t.pageIndex5)("keyNameList",t.keyNameList5)("pageSize",t.pageSize5),e.xp6(1),e.Q6J("nzVisible",t.isVisible5)}}function re(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function le(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",47,9),e.TgZ(3,"se",84),e.TgZ(4,"nz-select",85),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).equipment.equipmentInfoId=i}),e.YNc(5,re,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(6,"se",86),e.TgZ(7,"input",87),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).equipment.count=i}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.equipment.equipmentInfoId),e.xp6(1),e.Q6J("ngForOf",t.dictionariesList),e.xp6(2),e.Q6J("ngModel",t.equipment.count)}}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addEquipment()}),e._uU(3,"\u6dfb\u52a0\u8bbe\u5907\u8bbe\u65bd"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",83),e.NdJ("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun6(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible6=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel6()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk6()}),e.YNc(6,le,8,3,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet6)("theadList",t.teadList6)("total",t.total6)("pageIndex",t.pageIndex6)("keyNameList",t.keyNameList6)("pageSize",t.pageSize6),e.xp6(1),e.Q6J("nzVisible",t.isVisible6)}}function ue(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function ge(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.levelName)("nzValue",t.level)}}function _e(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",47,9),e.TgZ(3,"se",88),e.TgZ(4,"nz-select",89),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).emergencyContact.contactInfoId=i}),e.YNc(5,ue,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(6,"se",90),e.TgZ(7,"nz-select",91),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).emergencyContact.level=i})("ngModelChange",function(i){return e.CHM(t),e.oxw(3).levelChange(i)}),e.YNc(8,ge,1,2,"nz-option",18),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.emergencyContact.contactInfoId),e.xp6(1),e.Q6J("ngForOf",t.dataSet8),e.xp6(2),e.Q6J("ngModel",t.emergencyContact.level),e.xp6(1),e.Q6J("ngForOf",t.levelList)}}function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addContactInfo()}),e._uU(3,"\u6dfb\u52a0\u7d27\u6025\u8054\u7cfb\u4eba"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",83),e.NdJ("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun7(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible7=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel7()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk7()}),e.YNc(6,_e,9,4,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet7)("theadList",t.teadList7)("total",t.total7)("pageIndex",t.pageIndex7)("keyNameList",t.keyNameList7)("pageSize",t.pageSize7),e.xp6(1),e.Q6J("nzVisible",t.isVisible7)}}function ce(o,r){if(1&o&&e._UZ(0,"nz-option",43),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}function me(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",47,9),e.TgZ(3,"se",92),e.TgZ(4,"input",93),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).account.name=i}),e.qZA(),e.qZA(),e.TgZ(5,"se",94),e.TgZ(6,"nz-select",95),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).account.charactarId=i}),e.YNc(7,ce,1,2,"nz-option",18),e.qZA(),e.qZA(),e.TgZ(8,"se",96),e.TgZ(9,"input",97),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).account.phone=i}),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(3);e.xp6(4),e.Q6J("ngModel",t.account.name),e.xp6(2),e.Q6J("ngModel",t.account.charactarId),e.xp6(1),e.Q6J("ngForOf",t.charactarList),e.xp6(2),e.Q6J("ngModel",t.account.phone)}}function pe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5"),e.TgZ(2,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addAccount()}),e._uU(3,"\u6dfb\u52a0\u8d26\u53f7"),e.qZA(),e.qZA(),e.TgZ(4,"table-template",63),e.NdJ("pageIndexOut",function(i){return e.CHM(t),e.oxw(2).turnPage8(i)})("editFuncOut",function(i){return e.CHM(t),e.oxw(2).editFun8(i)}),e.qZA(),e.TgZ(5,"nz-modal",46),e.NdJ("nzVisibleChange",function(i){return e.CHM(t),e.oxw(2).isVisible8=i})("nzOnCancel",function(){return e.CHM(t),e.oxw(2).handleCancel8()})("nzOnOk",function(){return e.CHM(t),e.oxw(2).handleOk8()}),e.YNc(6,me,10,4,"ng-container",4),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("dataList",t.dataSet8)("theadList",t.teadList8)("total",t.total8)("pageIndex",t.pageIndex8)("keyNameList",t.keyNameList8)("pageSize",t.pageSize8),e.xp6(1),e.Q6J("nzVisible",t.isVisible8)}}function he(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"nz-tab",6),e.NdJ("nzSelect",function(){const a=e.CHM(t).$implicit;return e.oxw().tabChange(a)}),e.YNc(1,j,50,26,"div",7),e.YNc(2,X,7,7,"div",7),e.YNc(3,ee,2,6,"div",7),e.YNc(4,ne,7,7,"div",7),e.YNc(5,oe,7,7,"div",7),e.YNc(6,se,7,7,"div",7),e.YNc(7,de,7,7,"div",7),e.YNc(8,pe,7,7,"div",7),e.qZA()}if(2&o){const t=r.$implicit;e.Q6J("nzTitle",t.name),e.xp6(1),e.Q6J("ngIf",1==t.temp),e.xp6(1),e.Q6J("ngIf",2==t.temp),e.xp6(1),e.Q6J("ngIf",3==t.temp),e.xp6(1),e.Q6J("ngIf",4==t.temp),e.xp6(1),e.Q6J("ngIf",5==t.temp),e.xp6(1),e.Q6J("ngIf",6==t.temp),e.xp6(1),e.Q6J("ngIf",7==t.temp),e.xp6(1),e.Q6J("ngIf",8==t.temp)}}function Ce(o,r){if(1&o&&(e.ynx(0),e._uU(1," \u786e\u5b9a\u8981\u5220\u9664 "),e.TgZ(2,"span",98),e._uU(3),e.qZA(),e._uU(4," \u7d27\u6025\u8054\u7cfb\u4eba\u5417 "),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.hij(" ",t.emergencyContact.name," ")}}function ze(o,r){if(1&o&&(e.ynx(0),e._uU(1," \u786e\u5b9a\u8981\u5220\u9664 "),e.TgZ(2,"span",98),e._uU(3),e.qZA(),e._uU(4," \u8bbe\u5907\u5417 "),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.hij(" ",t.equipment.name," ")}}function Oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"label"),e.TgZ(1,"input",100),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.name=i}),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.name)}}function fe(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"file-upload",38),e.NdJ("fileListOut",function(i){return e.CHM(t),e.oxw().getImgList(i)}),e.qZA(),e.TgZ(2,"div"),e.YNc(3,Oe,2,1,"label",99),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("fileList",t.imgList)("imgSize",t.imgSize),e.xp6(2),e.Q6J("ngForOf",t.imgList)}}let B=(()=>{class o{constructor(t,n,i,a,g){this.activeRoute=t,this.router=n,this.apiService=i,this.enumService=a,this.msg=g,this.tabs=[{name:"\u57fa\u672c\u4fe1\u606f",temp:1},{name:"\u5efa\u7b51\u4fe1\u606f",temp:2},{name:"\u5efa\u7b51\u56fe\u7eb8",temp:3},{name:"\u5546\u52a1\u5408\u540c",temp:4},{name:"\u98ce\u9669\u6e90",temp:5},{name:"\u6d88\u9632\u8bbe\u65bd",temp:6},{name:"\u7d27\u6025\u8054\u7cfb\u4eba",temp:7},{name:"\u5355\u4f4d\u8d26\u53f7",temp:8}],this.submitting=!1,this.total5=0,this.pageIndex5=0,this.pageSize5=10,this.dataSet5=[],this.keyNameList5=[{type:"index",name:"index"},{type:"text",name:"nameText"},{type:"text",name:"position"},{type:"text",name:"count"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList5=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u98ce\u9669\u6e90\u540d\u79f0"},{name:"\u98ce\u9669\u6e90\u4f4d\u7f6e"},{name:"\u98ce\u9669\u6e90\u6570\u91cf"},{name:"\u64cd\u4f5c"}],this.total6=0,this.pageIndex6=0,this.pageSize6=10,this.dataSet6=[],this.isVisible5=!1,this.keyNameList6=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"unit"},{type:"text",name:"count"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1},{text:"\u5220\u9664",index:2}]}],this.teadList6=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u540d\u79f0"},{name:"\u5355\u4f4d"},{name:"\u6570\u91cf"},{name:"\u64cd\u4f5c"}],this.total2=0,this.pageIndex2=0,this.pageSize2=10,this.keyNameList2=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"floor"},{type:"text",name:"roomsNumber"},{type:"text",name:"square"},{type:"text",name:"materialText"},{type:"text",name:"buildAttributeText"},{type:"imgList",name:"images"},{type:"imgList",name:"evacuationImages"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList2=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u5efa\u7b51\u540d\u79f0"},{name:"\u697c\u5c42\u6570"},{name:"\u623f\u95f4\u6570"},{name:"\u9762\u4ef7(\u5e73\u65b9\u7c73)"},{name:"\u7ed3\u6784\u7c7b\u578b"},{name:"\u5c5e\u6027"},{name:"\u5916\u89c2\u7167"},{name:"\u758f\u6563\u56fe"},{name:"\u64cd\u4f5c"}],this.total3=0,this.pageIndex3=1,this.pageSize3=10,this.keyNameList3=[{type:"index",name:"index"},{type:"text",name:"name"},{type:"text",name:"floor"},{type:"imgList",name:"blueprint"}],this.teadList3=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u5efa\u7b51\u540d\u79f0"},{name:"\u697c\u5c42\u6570"},{name:"\u5e73\u9762\u56fe"}],this.total8=0,this.pageIndex8=0,this.pageSize8=10,this.isVisible8=!1,this.keyNameList8=[{type:"index",name:"index"},{type:"text",name:"charactarText"},{type:"text",name:"name"},{type:"text",name:"phone"},{type:"time",name:"createTime"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1}]}],this.teadList8=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u89d2\u8272"},{name:"\u59d3\u540d"},{name:"\u624b\u673a\u53f7"},{name:"\u521b\u5efa\u65f6\u95f4"},{name:"\u64cd\u4f5c"}],this.total7=0,this.pageIndex7=0,this.pageSize7=10,this.isVisible7=!1,this.dataSet7=[],this.keyNameList7=[{type:"index",name:"index"},{type:"text",name:"levelName"},{type:"text",name:"name"},{type:"text",name:"phone"},{type:"time",name:"createTime"},{type:"buttonList",buttons:[{text:"\u7f16\u8f91",index:1},{text:"\u5220\u9664",index:2}]}],this.teadList7=[{name:"\u5e8f\u53f7",type:"index"},{name:"\u901a\u77e5\u7b49\u7ea7"},{name:"\u59d3\u540d"},{name:"\u624b\u673a\u53f7"},{name:"\u6301\u8bc1\u6863\u6848"},{name:"\u64cd\u4f5c"}],this.total4=0,this.pageIndex4=0,this.pageSize4=10,this.isVisible2=!1,this.isVisible3=!1,this.dataSet3=[],this.doorwayImages=[],this.imgTitle="",this.imagesList=[],this.certImage=[],this.logoImg=[],this.isVisibleImgList=!1,this.isVisibleDelete6=!1,this.equipment={},this.isVisible6=!1,this.contractInfoServeTime=[],this.contractInfoTime=[],this.isVisible4=!1,this.isVisibleDelete=!1,this.isEditAccount=!1,this.isEdit=!1,this.orgLogo=[],this.bulid={},this.fileList=[],this.imgSize=6,this.blueprint=[],this.evacuationImages=[],this.orgTypeArr=this.enumService.orgTypeArr,this.industryArr=this.enumService.industryArr,this.industryCategoryArr=this.enumService.industryCategoryArr,this.orgType=0,this.industry=0,this.account={name:"",phone:"",charactarId:0},this.riskSourceMap={},this.charactarMap={},this.riskSource={riskSourceId:"1",position:"",count:1},this.locationConfig=m.x.getCityConfig(),this.location={provinceId:-1,districtId:0,cityId:0},this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0,businessStatus:"1"},this.emergencyContact={level:100,contactInfoId:0},this.contractInfo={},this.teadList4=[{name:"\u5408\u540c\u7f16\u53f7"},{name:"\u5408\u540c\u5957\u9910"},{name:"\u5408\u540c\u5f00\u59cb\u65f6\u95f4"},{name:"\u5408\u540c\u7ed3\u675f\u65f6\u95f4"},{name:"\u670d\u52a1\u5f00\u59cb\u65f6\u95f4"},{name:"\u670d\u52a1\u7ed3\u675f\u65f6\u95f4"},{name:"\u5546\u52a1\u4eba\u5458"},{name:"\u5546\u52a1\u4eba\u5458\u7535\u8bdd"},{name:"\u5173\u8054\u4fdd\u5355\u53f7"},{name:"\u5408\u540c\u7535\u5b50\u7248"}],this.keyNameList4=[{type:"text",name:"contractSerial"},{type:"text",name:"package"},{type:"time",name:"startDate"},{type:"time",name:"endDate"},{type:"time",name:"serviceStartTime"},{type:"time",name:"serviceEndTime"},{type:"text",name:"businessUserName"},{type:"text",name:"businessUserPhone"},{type:"text",name:"insuranceSerial"},{type:"url",name:"url",text:"\u67e5\u770b"}],this.dictionariesMap={},this.buildAttributeMap={},this.materialMap={},this.buildAttributeArr=[],this.materialArr=this.enumService.materialArr,this.buildAttributeArr=this.enumService.buildAttributeArr,this.buildAttributeMap=this.enumService.buildAttributeMap,this.materialMap=this.enumService.materialMap,this.orgTypeArr=this.enumService.orgTypeArr,this.industryArr=this.enumService.industryArr,this.businessArr=this.enumService.businessArr,this.operationList=this.enumService.operationList,this.levelMap=this.enumService.levelMap,this.riskSourceMap=this.enumService.riskSourceMap,this.riskSourceAll=this.enumService.riskSourceAll,this.charactarList=this.enumService.charactarList,this.charactarMap=this.enumService.charactarMap}onLocationSelect(t){this.location=t}onChange(t){this.serveStartTime=new Date(new Date(new Date(t[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(t[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}ngOnInit(){this.orgId=this.activeRoute.snapshot.params.id,console.log(this.levelList),this.getData(),this.getOrgRiskSource(),this.getAccountList(),this.orgContactInfo(),this.orgBuildInfo(),this.equipmentInfoFindAll()}equipmentInfoFindAll(){this.apiService.equipmentInfoFindAll().then(t=>{console.log(t),t&&t.data&&(t.data.forEach((n,i)=>{this.dictionariesMap[n.id]=n}),this.dictionariesList=t.data,this.getOrgEquipmentInfo())})}searchSetList(){this.apiService.searchLevel({setId:this.data.notifyRuleSetId?this.data.notifyRuleSetId:1}).then(t=>{t&&t.data&&(console.log(t),this.levelList=t.data)})}getOrgEquipmentInfo(){this.apiService.getOrgEquipmentInfo(this.orgId).then(t=>{t&&t.data&&(t.data.forEach((n,i)=>{n.index=i,n.name=this.dictionariesMap[n.equipmentInfoId].name,n.unit=this.dictionariesMap[n.equipmentInfoId].unit}),this.dataSet6=t.data)})}orgBuildInfo(){this.apiService.orgBuildInfo(this.orgId).then(t=>{t&&t.data&&(t.data.forEach((n,i)=>{n.index=i,n.buildAttributeText=this.buildAttributeMap[n.buildAttribute],n.materialText=this.materialMap[n.material]}),this.dataSet2=t.data,this.dataSet3=t.data)})}getContractInfo(t={}){t=this.apiService.filterData(t),this.apiService.contractInfoSearch(t).then(n=>{n&&n.data?(n.data.content.forEach(i=>{i.package="\u9ed8\u8ba4\u5957\u9910"}),this.dataSet4=n.data.content,this.total4=n.data.totalElements):(this.dataSet4=[],this.total4=0)})}orgContactInfo(){this.apiService.orgContactInfo({orgId:this.orgId}).then(t=>{t&&t.data&&(t.data.forEach((n,i)=>{n.index=i,n.levelText=this.levelMap[n.level],n.charactarText=this.charactarMap[n.charactarId]}),this.dataSet7=t.data)})}tabChange(t){console.log(t)}getData(){this.apiService.findOrgById(this.orgId).then(t=>{t&&t.data&&(this.data=t.data,this.getContractInfo({orgSerial:t.data.orgSerial}),this.location={provinceId:t.data.provinceId,cityId:t.data.cityId,districtId:t.data.districtId},this.doorwayImages=this.data.images?JSON.parse(this.data.images):[],this.logoImg=this.data.logo?JSON.parse(this.data.logo):[],this.certImage=this.data.certImage?JSON.parse(this.data.certImage):[],this.searchSetList(),this.date=[this.data.serveStartTime,this.data.serveEndTime])})}turnPage(t){console.log(t)}turnPage4(t){console.log(t)}update(){console.log(this.data),this.data.provinceId=this.location.provinceId,this.data.cityId=this.location.cityId,this.data.districtId=this.location.districtId,this.data.serveStartTime=this.serveStartTime,this.data.serveEndTime=this.serveEndTime,this.data.certImage=this.certImage[0]?JSON.stringify(this.certImage):"",this.data.images=this.doorwayImages[0]?JSON.stringify(this.doorwayImages):"",this.data.logo=this.logoImg[0]?JSON.stringify(this.logoImg):"",this.apiService.updateOrg(this.data).then(t=>{t&&t.success?this.msg.success("\u7f16\u8f91\u6210\u529f"):this.msg.error(t.message)})}back(){this.router.navigate(["../.."],{relativeTo:this.activeRoute})}getOrgRiskSource(){this.apiService.getOrgRiskSource(this.orgId).then(t=>{t&&t.data&&(t.data.forEach((n,i)=>{n.index=i,n.nameText=this.riskSourceMap[n.riskSourceId]}),this.dataSet5=t.data)})}turnPage5(t){}editFun5(t){this.riskSource=JSON.parse(JSON.stringify(t)),1==t.btnIndex&&(this.isVisible5=!0)}editFun6(t){this.equipment=JSON.parse(JSON.stringify(t)),1==t.btnIndex?this.isVisible6=!0:this.isVisibleDelete6=!0}editFun4(t){}editFun2(t){this.bulid=JSON.parse(JSON.stringify(t)),this.fileList=this.bulid.images?JSON.parse(t.images):[],this.blueprint=this.bulid.blueprint?JSON.parse(t.blueprint):[],this.evacuationImages=this.bulid.evacuationImages?JSON.parse(t.evacuationImages):[],this.isVisible2=!0}editFun3(t){this.bulid=JSON.parse(JSON.stringify(t)),this.blueprint=this.bulid.blueprint?JSON.parse(t.blueprint):[],this.isVisible3=!0}addRiskSource(){this.isVisible5=!0}addBuild(){this.isVisible2=!0}handleCancel5(){this.riskSource={},this.isVisible5=!1}addEquipment(){this.isVisible6=!0}handleCancel6(){this.equipment={},this.isVisible6=!1}handleOk6(){this.equipment&&this.equipment.id?this.apiService.updateEquipment(this.equipment).then(t=>{t&&t.data?(this.isVisible6=!1,this.equipment={},this.getOrgEquipmentInfo(),this.msg.success("\u7f16\u8f91\u6210\u529f")):(this.isVisible5=!1,this.equipment={},this.msg.error("\u7f16\u8f91\u5931\u8d25"))}):(this.equipment.orgId=this.orgId,this.apiService.createEquipment(this.equipment).then(t=>{t&&t.data?(this.isVisible6=!1,this.getOrgEquipmentInfo(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible6=!1,this.equipment={},this.msg.error("\u6dfb\u52a0\u5931\u8d25"))}))}handleCancel2(){this.isVisible2=!1}handleOk2(){this.bulid.id?(this.bulid.images=this.fileList[0]?JSON.stringify(this.fileList):"",this.bulid.blueprint=this.blueprint[0]?JSON.stringify(this.blueprint):"",this.bulid.evacuationImages=this.evacuationImages[0]?JSON.stringify(this.evacuationImages):"",this.apiService.updateOrgBuild(this.bulid).then(t=>{t&&t.data?(this.isVisible2=!1,this.orgBuildInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible2=!1,this.msg.error(t.message))})):(this.bulid.orgId=this.orgId,this.bulid.images=this.fileList[0]?JSON.stringify(this.fileList):"",this.bulid.blueprint=this.blueprint[0]?JSON.stringify(this.blueprint):"",this.bulid.evacuationImages=this.evacuationImages[0]?JSON.stringify(this.evacuationImages):"",this.apiService.addOrgBuild(this.bulid).then(t=>{t&&t.data?(this.isVisible2=!1,this.orgBuildInfo(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible2=!1,this.msg.error(t.message))})),this.isVisible2=!1}handleCancel4(){this.isVisible4=!1}onChangeContractInfoServeTime(t){this.serveStartTime=new Date(new Date(new Date(t[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(t[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}onChangeContractInfoTime(t){this.startDate=new Date(new Date(new Date(t[0]).toLocaleDateString()).getTime()).getTime(),this.endDate=new Date(new Date(new Date(t[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}handleOk4(){this.apiService.contractInfoCreate({orgId:this.orgId,startDate:this.startDate,endDate:this.endDate,serviceStartTime:this.serveStartTime,serviceEndTime:this.serveEndTime,contractSerial:this.contractInfo.contractSerial,url:this.fileList[0]?this.fileList[0].url:"\u5408\u540c\u6587\u672c\u672a\u4e0a\u4f20",insuranceSerial:this.contractInfo.insuranceSerial,businessUserName:this.contractInfo.businessUserName,businessUserPhone:this.contractInfo.businessUserPhone}).then(n=>{n&&n.success?(this.isVisible4=!1,this.msg.success("\u6dfb\u52a0\u6210\u529f"),this.data={contractSerial:"",insuranceSerial:"",url:""}):(this.msg.error(n.message),this.isVisible4=!1)})}handleOk5(){this.riskSource&&this.riskSource.id?this.apiService.updateRiskSource(this.riskSource).then(t=>{t&&t.data?(this.isVisible5=!1,this.riskSource={},this.getOrgRiskSource(),this.msg.success("\u7f16\u8f91\u6210\u529f")):(this.isVisible5=!1,this.riskSource={},this.msg.error("\u7f16\u8f91\u5931\u8d25"))}):(this.riskSource.orgId=this.orgId,this.apiService.createRiskSource(this.riskSource).then(t=>{t&&t.data?(this.isVisible5=!1,this.getOrgRiskSource(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible5=!1,this.riskSource={},this.msg.error("\u6dfb\u52a0\u5931\u8d25"))}))}getAccountList(){this.apiService.getAccountList({orgId:this.orgId}).then(t=>{t&&t.data&&(t.data.content.forEach((n,i)=>{n.index=i,n.charactarText=this.charactarMap[n.charactarId]}),this.dataSet8=t.data.content)})}turnPage8(t){}editFun8(t){this.account=JSON.parse(JSON.stringify(t)),1==t.btnIndex&&(this.isEditAccount=!0,this.isVisible8=!0)}deleteCancel(){this.isVisibleDelete=!1}deleteCancel6(){this.isVisibleDelete6=!1}deleteOk6(){this.apiService.deleteEquipment(this.equipment.id).then(t=>{t&&t.data?(this.isVisibleDelete6=!1,this.getOrgEquipmentInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleDelete6=!1,this.msg.error(t.message))})}deleteOk(){this.apiService.orgContactInfoDelete({id:this.emergencyContact.id}).then(t=>{t&&t.data?(this.isVisibleDelete=!1,this.orgContactInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleDelete=!1,this.msg.error(t.message))})}addContractInfo(){this.isVisible4=!0}addAccount(){this.isEditAccount=!1,this.isVisible8=!0}handleCancel8(){this.isVisible8=!1}handleOk8(){this.isEditAccount?this.apiService.accountUpdate(this.account).then(t=>{t&&t.data?(this.isVisible8=!1,this.account={name:"",phone:"",charactarId:""},this.getAccountList(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible8=!1,this.msg.error(t.message))}):(this.account.orgId=this.orgId,this.apiService.createAccount(this.account).then(t=>{t&&t.data?(this.isVisible8=!1,this.account={name:"",phone:"",charactarId:""},this.getAccountList(),this.msg.success("\u6dfb\u52a0\u6210\u529f")):(this.isVisible8=!1,this.msg.error(t.message))}))}addContactInfo(){this.searchSetList(),this.isVisible7=!0,this.emergencyContact={},this.isEdit=!1}handleCancel7(){this.isVisible7=!1}editFun7(t){this.emergencyContact=JSON.parse(JSON.stringify(t)),1==t.btnIndex?(console.log(t),this.emergencyContact.contactInfoId=t.contactInfoId,this.emergencyContact.level=t.level,this.isVisible7=!0,this.isEdit=!0):this.isVisibleDelete=!0}levelChange(t){this.emergencyContact.level=t}handleOk7(){this.isEdit?(console.log(this.emergencyContact),this.apiService.orgContactInfoUpdate(this.emergencyContact).then(t=>{t&&t.data?(this.isVisible7=!1,this.emergencyContact={},this.orgContactInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisible7=!1,this.msg.error(t.message))})):(this.emergencyContact.orgId=this.orgId,this.apiService.orgContactInfoCreate(this.emergencyContact).then(t=>{t&&t.data?(this.isVisible7=!1,this.emergencyContact={level:100,contactInfoId:0},this.orgContactInfo(),this.msg.success("\u6dfb\u52a0\u7d27\u6025\u8054\u7cfb\u4eba\u6210\u529f")):(this.isVisible7=!1,this.msg.error(t.message))}))}getFileList(t){console.log(t),this.fileList=t}getFileListTest(t){console.log(t)}getBlueprint(t){this.blueprint=t,console.log(t)}getEvacuationImages(t){this.evacuationImages=t,console.log(t)}getOrgLogo(t){this.orgLogo=t,console.log(t)}viewImg(t){console.log(t),this.editItemImg=t,this.imgTitle="images"==t.imgType?"\u5916\u89c2\u56fe":"blueprint"==t.imgType?"\u5e73\u9762\u56fe":"evacuationImages"==t.imgType?"\u758f\u6563\u56fe":"\u56fe\u7247",this.imgList=t[t.imgType]&&0!=t[t.imgType].length?JSON.parse(t[t.imgType]):[],this.isVisibleImgList=!0}viewImg3(t){console.log(t),this.editItemImg=t,this.imgTitle="images"==t.imgType?"\u5916\u89c2\u56fe":"blueprint"==t.imgType?"\u5e73\u9762\u56fe":"evacuationImages"==t.imgType?"\u758f\u6563\u56fe":"\u56fe\u7247",this.imgList=t[t.imgType]&&0!=t[t.imgType].length?JSON.parse(t[t.imgType]):[],this.isVisibleImgList=!0}imgListCancel(){this.isVisibleImgList=!1}imgListOk(){"images"==this.editItemImg.imgType?this.editItemImg.images=this.imgList[0]||this.fileList[0]?JSON.stringify(this.imgList):"":"blueprint"==this.editItemImg.imgType?this.editItemImg.blueprint=this.imgList[0]||this.blueprint[0]?JSON.stringify(this.imgList):"":"evacuationImages"==this.editItemImg.imgType&&(this.editItemImg.evacuationImages=this.imgList[0]||this.evacuationImages[0]?JSON.stringify(this.imgList):""),this.apiService.updateOrgBuild(this.editItemImg).then(t=>{t&&t.data?(this.isVisibleImgList=!1,this.orgBuildInfo(),this.msg.success("\u64cd\u4f5c\u6210\u529f")):(this.isVisibleImgList=!1,this.msg.error(t.message))})}getImgList(t){this.imgList=t}getLogoImg(t){this.logoImg=t}getCertImage(t){this.certImage=t}getDoorwayImages(t){this.doorwayImages=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(F.s),e.Y36(A.t),e.Y36(q.dD))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-org-org-detail"]],decls:18,vars:6,consts:[[3,"click"],[3,"nzTabPosition"],[3,"nzTitle","nzSelect",4,"ngFor","ngForOf"],["nzTitle","\u64cd\u4f5c\u63d0\u793a",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzWidth","820px",3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[3,"nzTitle","nzSelect"],[4,"ngIf"],["nz-form","","se-container","2",3,"submit"],["f","ngForm"],["label","\u5355\u4f4d\u5168\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0","name","orgName",3,"ngModel","ngModelChange"],["label","\u4fe1\u7528\u4ee3\u7801","error","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801","name","certSerial",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd","name","tel",3,"ngModel","ngModelChange"],["label","\u4f01\u4e1a\u79cd\u7c7b"],["nzPlaceHolder","\u9009\u62e9\u4f01\u4e1a\u79cd\u7c7b","name","ownershipType",2,"min-width","80px",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["label","\u6240\u5c5e\u8f96\u533a","col","1"],[3,"locationInfo","sizes","onLocationSelect"],["label","\u5355\u4f4d\u5730\u5740","col","1","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5730\u5740","name","address",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u6cd5\u4eba","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u6cd5\u4eba","name","legalPerson",3,"ngModel","ngModelChange"],["label","\u6240\u5c5e\u884c\u4e1a"],["nzPlaceHolder","\u9009\u62e9\u6240\u5c5e\u884c\u4e1a","name","industry",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u7269\u4e1a\u7c7b\u578b"],["nzPlaceHolder","\u9009\u62e9\u7269\u4e1a\u7c7b\u578b","name","industryCategory",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8425\u4e1a\u72b6\u6001"],["nzPlaceHolder","\u9009\u62e9\u8425\u4e1a\u72b6\u6001","name","businessStatus",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7b80\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0","name","orgShortName",3,"ngModel","ngModelChange"],["label","\u8fd0\u8425\u4e2d\u5fc3","required",""],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","operateId",3,"ngModel","ngModelChange"],["label","\u670d\u52a1\u65f6\u95f4"],["name","date",3,"ngModel","ngModelChange"],["label","\u8054\u7f51\u5355\u4f4dLogo"],[3,"fileList","imgSize","fileListOut"],["label","\u8425\u4e1a\u6267\u7167\u56fe\u7247"],["label","\u95e8\u5934\u56fe\u7247"],["col","1"],["nz-button","","nzType","primary",3,"disabled"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary",3,"click"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","editFuncOut","viewImgOut"],["nzWidth","800px","nzTitle","\u64cd\u4f5c",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","","se-container","1"],["label","\u5efa\u7b51\u540d\u79f0","error","\u8bf7\u8f93\u5165\u5efa\u7b51\u540d\u79f0!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5efa\u7b51\u540d\u79f0","name","name",3,"ngModel","ngModelChange"],["label","\u697c\u5c42\u6570\u91cf","error","\u8bf7\u8f93\u5165\u697c\u5c42\u6570\u91cf!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u697c\u5c42\u6570\u91cf","name","floor",3,"ngModel","ngModelChange"],["label","\u623f\u95f4\u6570\u91cf","error","\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u623f\u95f4\u6570\u91cf","name","roomsNumber",3,"ngModel","ngModelChange"],["label","\u9762\u79ef(\u5e73\u65b9\u7c73)","error","\u8bf7\u8f93\u5165\u9762\u79ef(\u5e73\u65b9\u7c73)!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u9762\u79ef(\u5e73\u65b9\u7c73)","name","square",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u6750\u6599","error","\u9009\u62e9\u5efa\u7b51\u6750\u6599!"],["nzPlaceHolder","\u9009\u62e9\u5efa\u7b51\u6750\u6599","name","material",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u5c5e\u6027","error","\u8bf7\u8f93\u5165\u5efa\u7b51\u5c5e\u6027!"],["nzPlaceHolder","\u9009\u62e9\u5efa\u7b51\u5c5e\u6027","name","buildAttribute",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u5efa\u7b51\u7167\u7247"],["label","\u5efa\u7b51\u5e73\u9762\u56fe"],["label","\u5efa\u7b51\u758f\u6563\u6307\u793a\u56fe"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","pageIndexOut","editFuncOut"],["nz-form","","se-container","2"],["label","\u5408\u540c\u7f16\u53f7","error","\u8bf7\u8f93\u5165\u5408\u540c\u7f16\u53f7!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5408\u540c\u7f16\u53f7","name","contractSerial",3,"ngModel","ngModelChange"],["label","\u5546\u52a1\u4eba\u5458","error","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458","name","businessUserName",3,"ngModel","ngModelChange"],["label","\u5546\u52a1\u4eba\u5458\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458\u7535\u8bdd!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5546\u52a1\u4eba\u5458\u7535\u8bdd","name","businessUserPhone",3,"ngModel","ngModelChange"],["label","\u5173\u8054\u4fdd\u5355\u53f7","error","\u8bf7\u8f93\u5165\u5173\u8054\u4fdd\u5355\u53f7!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5173\u8054\u4fdd\u5355\u53f7","name","insuranceSerial",3,"ngModel","ngModelChange"],["label","\u5408\u540c\u5f00\u59cb\u65f6\u95f4"],["name","time",3,"ngModel","ngModelChange"],["name","serveTime",3,"ngModel","ngModelChange"],["label","\u4e0a\u4f20\u5408\u540c\u6587\u672c"],["label","\u9009\u62e9\u98ce\u9669\u6e90"],["nzPlaceHolder","\u9009\u62e9\u98ce\u9669\u6e90","name","riskSourceId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u98ce\u9669\u6e90\u4f4d\u7f6e","error","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u4f4d\u7f6e!"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u4f4d\u7f6e","name","position",3,"ngModel","ngModelChange"],["label","\u98ce\u9669\u6e90\u6570\u91cf","error","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u540d\u79f0!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u98ce\u9669\u6e90\u6570\u91cf","name","count",3,"ngModel","ngModelChange"],[3,"dataList","theadList","total","pageIndex","keyNameList","pageSize","editFuncOut"],["label","\u9009\u62e9\u8bbe\u5907\u8bbe\u65bd"],["nzPlaceHolder","\u9009\u62e9\u8bbe\u5907\u8bbe\u65bd","name","equipmentInfoId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8bbe\u5907\u6570\u91cf","error","\u8bf7\u8f93\u5165\u8bbe\u5907\u6570\u91cf!"],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u8bbe\u5907\u6570\u91cf","name","count",3,"ngModel","ngModelChange"],["label","\u9009\u62e9\u7d27\u6025\u8054\u7cfb\u4eba"],["nzPlaceHolder","\u9009\u62e9\u7d27\u6025\u8054\u7cfb\u4eba","name","contactInfoId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u901a\u77e5\u7b49\u7ea7","error","\u901a\u77e5\u7b49\u7ea7!","required",""],["nzPlaceHolder","\u9009\u62e9\u901a\u77e5\u7b49\u7ea7","name","level",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u59d3\u540d","error","\u8bf7\u8f93\u5165\u59d3\u540d!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u59d3\u540d","name","name",3,"ngModel","ngModelChange"],["label","\u9009\u62e9\u89d2\u8272"],["nzPlaceHolder","\u9009\u62e9\u89d2\u8272","name","charactarId",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u624b\u673a\u53f7","error","\u8bf7\u8f93\u5165\u624b\u673a\u53f7!","required",""],["nz-input","","type","number","placeholder","\u8bf7\u8f93\u5165\u624b\u673a\u53f7","name","phone",3,"ngModel","ngModelChange"],[2,"font-size","18px","font-weight","bold"],[4,"ngFor","ngForOf"],["nz-input","","type","text",2,"width","104px","margin-right","8px",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"page-header"),e.TgZ(1,"nz-breadcrumb"),e.TgZ(2,"nz-breadcrumb-item"),e._uU(3," \u9996\u9875 "),e.qZA(),e.TgZ(4,"nz-breadcrumb-item",0),e.NdJ("click",function(){return n.back()}),e.TgZ(5,"a"),e._uU(6,"\u5355\u4f4d\u5217\u8868"),e.qZA(),e.qZA(),e.TgZ(7,"nz-breadcrumb-item"),e._uU(8," \u5355\u4f4d\u8be6\u60c5 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"nz-card"),e.TgZ(10,"nz-tabset",1),e.YNc(11,he,9,9,"nz-tab",2),e.qZA(),e.qZA(),e.TgZ(12,"nz-modal",3),e.NdJ("nzVisibleChange",function(a){return n.isVisibleDelete=a})("nzOnCancel",function(){return n.deleteCancel()})("nzOnOk",function(){return n.deleteOk()}),e.YNc(13,Ce,5,1,"ng-container",4),e.qZA(),e.TgZ(14,"nz-modal",3),e.NdJ("nzVisibleChange",function(a){return n.isVisibleDelete6=a})("nzOnCancel",function(){return n.deleteCancel6()})("nzOnOk",function(){return n.deleteOk6()}),e.YNc(15,ze,5,1,"ng-container",4),e.qZA(),e.TgZ(16,"nz-modal",5),e.NdJ("nzVisibleChange",function(a){return n.isVisibleImgList=a})("nzOnCancel",function(){return n.imgListCancel()})("nzOnOk",function(){return n.imgListOk()}),e.YNc(17,fe,4,3,"ng-container",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("nzTabPosition","left"),e.xp6(1),e.Q6J("ngForOf",n.tabs),e.xp6(1),e.Q6J("nzVisible",n.isVisibleDelete),e.xp6(2),e.Q6J("nzVisible",n.isVisibleDelete6),e.xp6(2),e.Q6J("nzVisible",n.isVisibleImgList)("nzTitle",n.imgTitle))},directives:[h.q,x.Dg,x.MO,C.bd,L.xH,O.sg,E.du,E.Hf,L.xw,O.O5,z.SK,s._Y,s.JL,s.F,_.Lr,c.nV,c.Ou,c.d_,M.Zp,s.Fj,s.JJ,s.On,d.Vq,I._,Z.uw,Z.wS,N.Y,f.ix,T.dQ,b.w,d.Ip,D.S,s.wV],encapsulation:2}),o})();function Te(o,r){if(1&o&&e._UZ(0,"nz-option",39),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function be(o,r){if(1&o&&e._UZ(0,"nz-option",39),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function xe(o,r){if(1&o&&e._UZ(0,"nz-option",39),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.val)}}function Ze(o,r){if(1&o&&e._UZ(0,"nz-option",39),2&o){const t=r.$implicit;e.Q6J("nzLabel",t.name)("nzValue",t.id)}}let w=(()=>{class o{constructor(t,n,i,a,g,v,Se,De){this.fb=t,this.router=n,this.modal=i,this.apiService=a,this.enumService=g,this.global=v,this.msg=Se,this.activatedRoute=De,this.tabs=[{name:"\u57fa\u672c\u4fe1\u606f",temp:1},{name:"\u5efa\u7b51\u4fe1\u606f",temp:2},{name:"\u5efa\u7b51\u56fe\u7eb8",temp:3},{name:"\u5546\u52a1\u5408\u540c",temp:4},{name:"\u7d27\u6025\u8054\u7cfb\u4eba",temp:5},{name:"\u6d88\u9632\u8bbe\u65bd",temp:6},{name:"\u5355\u4f4d\u8d26\u53f7",temp:7}],this.submitting=!1,this.logoImg=[],this.certImage=[],this.doorwayImages=[],this.orgTypeArr=this.enumService.orgTypeArr,this.industryArr=this.enumService.industryArr,this.industryCategoryArr=this.enumService.industryCategoryArr,this.orgType=0,this.industry=0,this.name="",this.locationConfig=m.x.getCityConfig(),this.location={provinceId:-1}}onLocationSelect(t){this.location=t}onChange(t){this.serveStartTime=new Date(new Date(new Date(t[0]).toLocaleDateString()).getTime()).getTime(),this.serveEndTime=new Date(new Date(new Date(t[1]).toLocaleDateString()).getTime()+864e5-1).getTime()}ngOnInit(){console.log(this.enumService),this.operationList=this.enumService.operationList,this.orgTypeArr=this.enumService.orgTypeArr,this.industryArr=this.enumService.industryArr,this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0,businessStatus:1}}add(){console.log(this.data),this.data.provinceId=this.location.provinceId,this.data.cityId=this.location.cityId,this.data.districtId=this.location.districtId,this.data.serveStartTime=this.serveStartTime,this.data.serveEndTime=this.serveEndTime,this.data.notifyRuleSetId=1,this.data.certImage=this.certImage[0]?JSON.stringify(this.certImage):"",this.data.images=this.doorwayImages[0]?JSON.stringify(this.doorwayImages):"",this.data.logo=this.logoImg[0]?JSON.stringify(this.logoImg):"",this.apiService.addOrg(this.data).then(t=>{t&&t.success?(this.msg.success("\u521b\u5efa\u6210\u529f"),this.data={orgName:"",orgShortName:"",orgTel:"",orgType:0,address:"",provinceId:0,cityId:0,districtId:0,ownershipType:0,legalPerson:"",tel:"",industryCategory:0,industry:0},this.imagesList=[],this.logoImg=[],this.certImage=[]):this.msg.success("\u521b\u5efa\u5931\u8d25")})}back(){this.router.navigate([".."],{relativeTo:this.activatedRoute})}getDoorwayImages(t){this.doorwayImages=t}getLogoImg(t){this.logoImg=t}getCertImage(t){this.certImage=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(u.F0),e.Y36(p.Te),e.Y36(F.s),e.Y36(A.t),e.Y36(m.x),e.Y36(q.dD),e.Y36(u.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-org-org-add"]],decls:62,vars:25,consts:[[3,"click"],["nz-form","","se-container","2",3,"submit"],["f","ngForm"],["label","\u5355\u4f4d\u5168\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5168\u79f0","name","orgName",3,"ngModel","ngModelChange"],["label","\u4fe1\u7528\u4ee3\u7801","error","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u4fe1\u7528\u4ee3\u7801","name","certSerial",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u7535\u8bdd","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7535\u8bdd","name","tel",3,"ngModel","ngModelChange"],["label","\u4f01\u4e1a\u79cd\u7c7b"],["nzPlaceHolder","\u9009\u62e9\u4f01\u4e1a\u79cd\u7c7b","name","ownershipType",2,"min-width","80px",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["label","\u6240\u5c5e\u8f96\u533a","col","1"],[3,"locationInfo","sizes","onLocationSelect"],["label","\u5355\u4f4d\u5730\u5740","col","1","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u5730\u5740","name","address",3,"ngModel","ngModelChange"],["label","\u5355\u4f4d\u6cd5\u4eba","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u6cd5\u4eba","name","legalPerson",3,"ngModel","ngModelChange"],["label","\u6240\u5c5e\u884c\u4e1a"],["nzPlaceHolder","\u9009\u62e9\u6240\u5c5e\u884c\u4e1a","name","industry",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u7269\u4e1a\u7c7b\u578b"],["nzPlaceHolder","\u9009\u62e9\u7269\u4e1a\u7c7b\u578b","name","industryCategory",2,"min-width","80px",3,"ngModel","ngModelChange"],["label","\u8425\u4e1a\u72b6\u6001"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u670d\u52a1\u72b6\u6001","name","businessStatus",3,"ngModel","ngModelChange"],["nzLabel","\u6b63\u5e38","nzValue","1"],["nzLabel","\u505c\u4e1a","nzValue","2"],["nzLabel","\u88c5\u4fee","nzValue","3"],["label","\u5355\u4f4d\u7b80\u79f0","error","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0!","required",""],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165\u5355\u4f4d\u7b80\u79f0","name","orgShortName",3,"ngModel","ngModelChange"],["label","\u8fd0\u8425\u4e2d\u5fc3","required",""],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","\u9009\u62e9\u8fd0\u8425\u4e2d\u5fc3","name","operateId",3,"ngModel","ngModelChange"],["label","\u670d\u52a1\u65f6\u95f4"],["name","date",3,"ngModel","ngModelChange"],["label","\u8054\u7f51\u5355\u4f4dLogo"],[3,"fileList","imgSize","fileListOut"],["label","\u8425\u4e1a\u6267\u7167\u56fe\u7247"],["label","\u95e8\u5934\u56fe\u7247"],["col","1"],["nz-button","","nzType","primary",3,"disabled"],[3,"nzLabel","nzValue"]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-header"),e.TgZ(1,"nz-breadcrumb"),e.TgZ(2,"nz-breadcrumb-item"),e._uU(3," \u9996\u9875 "),e.qZA(),e.TgZ(4,"nz-breadcrumb-item",0),e.NdJ("click",function(){return n.back()}),e.TgZ(5,"a"),e._uU(6,"\u5355\u4f4d\u5217\u8868"),e.qZA(),e.qZA(),e.TgZ(7,"nz-breadcrumb-item"),e._uU(8," \u6dfb\u52a0\u5355\u4f4d "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"nz-card"),e.TgZ(10,"nz-row"),e.TgZ(11,"nz-row"),e.TgZ(12,"form",1,2),e.NdJ("submit",function(){return n.add()}),e.TgZ(14,"se-title"),e._uU(15,"\u5de5\u5546\u4fe1\u606f"),e.qZA(),e.TgZ(16,"se",3),e.TgZ(17,"input",4),e.NdJ("ngModelChange",function(a){return n.data.orgName=a}),e.qZA(),e.qZA(),e.TgZ(18,"se",5),e.TgZ(19,"input",6),e.NdJ("ngModelChange",function(a){return n.data.certSerial=a}),e.qZA(),e.qZA(),e.TgZ(20,"se",7),e.TgZ(21,"input",8),e.NdJ("ngModelChange",function(a){return n.data.tel=a}),e.qZA(),e.qZA(),e.TgZ(22,"se",9),e.TgZ(23,"nz-select",10),e.NdJ("ngModelChange",function(a){return n.data.ownershipType=a}),e.YNc(24,Te,1,2,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(25,"se",12),e.TgZ(26,"location-select",13),e.NdJ("onLocationSelect",function(a){return n.onLocationSelect(a)}),e.qZA(),e.qZA(),e.TgZ(27,"se",14),e.TgZ(28,"input",15),e.NdJ("ngModelChange",function(a){return n.data.address=a}),e.qZA(),e.qZA(),e.TgZ(29,"se",16),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(a){return n.data.legalPerson=a}),e.qZA(),e.qZA(),e.TgZ(31,"se",18),e.TgZ(32,"nz-select",19),e.NdJ("ngModelChange",function(a){return n.data.industry=a}),e.YNc(33,be,1,2,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(34,"se",20),e.TgZ(35,"nz-select",21),e.NdJ("ngModelChange",function(a){return n.data.industryCategory=a}),e.YNc(36,xe,1,2,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(37,"se",22),e.TgZ(38,"nz-select",23),e.NdJ("ngModelChange",function(a){return n.data.businessStatus=a}),e._UZ(39,"nz-option",24),e._UZ(40,"nz-option",25),e._UZ(41,"nz-option",26),e.qZA(),e.qZA(),e.TgZ(42,"se-title"),e._uU(43,"\u670d\u52a1\u4fe1\u606f"),e.qZA(),e.TgZ(44,"se",27),e.TgZ(45,"input",28),e.NdJ("ngModelChange",function(a){return n.data.orgShortName=a}),e.qZA(),e.qZA(),e.TgZ(46,"se",29),e.TgZ(47,"nz-select",30),e.NdJ("ngModelChange",function(a){return n.data.operateId=a}),e.YNc(48,Ze,1,2,"nz-option",11),e.qZA(),e.qZA(),e.TgZ(49,"se",31),e.TgZ(50,"nz-range-picker",32),e.NdJ("ngModelChange",function(a){return n.date=a})("ngModelChange",function(a){return n.onChange(a)}),e.qZA(),e.qZA(),e.TgZ(51,"se-title"),e._uU(52,"\u56fe\u7247\u4fe1\u606f"),e.qZA(),e.TgZ(53,"se",33),e.TgZ(54,"file-upload",34),e.NdJ("fileListOut",function(a){return n.getLogoImg(a)}),e.qZA(),e.qZA(),e.TgZ(55,"se",35),e.TgZ(56,"file-upload",34),e.NdJ("fileListOut",function(a){return n.getCertImage(a)}),e.qZA(),e.qZA(),e.TgZ(57,"se",36),e.TgZ(58,"file-upload",34),e.NdJ("fileListOut",function(a){return n.getDoorwayImages(a)}),e.qZA(),e.qZA(),e.TgZ(59,"se",37),e.TgZ(60,"button",38),e._uU(61,"\u521b\u5efa"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(13);e.xp6(17),e.Q6J("ngModel",n.data.orgName),e.xp6(2),e.Q6J("ngModel",n.data.certSerial),e.xp6(2),e.Q6J("ngModel",n.data.tel),e.xp6(2),e.Q6J("ngModel",n.data.ownershipType),e.xp6(1),e.Q6J("ngForOf",n.orgTypeArr),e.xp6(2),e.Q6J("locationInfo",n.location)("sizes",6),e.xp6(2),e.Q6J("ngModel",n.data.address),e.xp6(2),e.Q6J("ngModel",n.data.legalPerson),e.xp6(2),e.Q6J("ngModel",n.data.industry),e.xp6(1),e.Q6J("ngForOf",n.industryArr),e.xp6(2),e.Q6J("ngModel",n.data.industryCategory),e.xp6(1),e.Q6J("ngForOf",n.industryCategoryArr),e.xp6(2),e.Q6J("ngModel",n.data.businessStatus),e.xp6(7),e.Q6J("ngModel",n.data.orgShortName),e.xp6(2),e.Q6J("ngModel",n.data.operateId),e.xp6(1),e.Q6J("ngForOf",n.operationList),e.xp6(2),e.Q6J("ngModel",n.date),e.xp6(4),e.Q6J("fileList",n.logoImg)("imgSize","1"),e.xp6(2),e.Q6J("fileList",n.certImage)("imgSize","1"),e.xp6(2),e.Q6J("fileList",n.doorwayImages)("imgSize","5"),e.xp6(2),e.Q6J("disabled",i.invalid)}},directives:[h.q,x.Dg,x.MO,C.bd,z.SK,s._Y,s.JL,s.F,_.Lr,c.nV,c.Ou,c.d_,M.Zp,s.Fj,s.JJ,s.On,d.Vq,O.sg,I._,d.Ip,Z.uw,Z.wS,N.Y,f.ix,T.dQ,b.w],encapsulation:2}),o})();const Ae=["st"];function Fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(1,"\u65b0\u5efa"),e.qZA()}}const Me=[{path:"",component:J},{path:"detail/:id",component:B},{path:"edit/:id",component:(()=>{class o{constructor(t,n){this.http=t,this.modal=n,this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7f16\u53f7"}}},this.columns=[{title:"\u7f16\u53f7",index:"no"},{title:"\u8c03\u7528\u6b21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50cf",type:"img",width:"50px",index:"avatar"},{title:"\u65f6\u95f4",type:"date",index:"updatedAt"},{title:"",buttons:[]}]}ngOnInit(){}add(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.lP),e.Y36(p.Te))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-org-org-edit"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ae,5),2&t){let i;e.iGM(i=e.CRH())&&(n.st=i.first)}},decls:5,vars:1,consts:[[3,"action"],["phActionTpl",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-header",0),e.YNc(1,Fe,2,0,"ng-template",null,1,e.W1O),e.qZA(),e.TgZ(3,"nz-card"),e._uU(4," \u5355\u4f4d\u7f16\u8f91\n"),e.qZA()),2&t){const i=e.MAs(2);e.Q6J("action",i)}},directives:[h.q,C.bd,f.ix,T.dQ,b.w],encapsulation:2}),o})()},{path:"add",component:w}];let Ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Me)],u.Bz]}),o})(),ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Q.m8,Ie]]}),o})()}}]);